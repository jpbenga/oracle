var Fk=Object.defineProperty,Lk=Object.defineProperties;var Vk=Object.getOwnPropertyDescriptors;var JT=Object.getOwnPropertySymbols,jk=Object.getPrototypeOf,Uk=Object.prototype.hasOwnProperty,Bk=Object.prototype.propertyIsEnumerable,$k=Reflect.get;var ZT=(n,e,t)=>e in n?Fk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})Uk.call(e,t)&&ZT(n,t,e[t]);if(JT)for(var t of JT(e))Bk.call(e,t)&&ZT(n,t,e[t]);return n},ce=(n,e)=>Lk(n,Vk(e));var Jr=(n,e,t)=>$k(jk(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var rm;function Jl(){return rm}function Hn(n){let e=rm;return rm=n,e}var XT=Symbol("NotFound");function is(n){return n===XT||n?.name==="\u0275NotFound"}function nd(n,e){return Object.is(n,e)}var Ct=null,Zl=!1,im=1,Hk=null,St=Symbol("SIGNAL");function ue(n){let e=Ct;return Ct=n,e}function rd(){return Ct}var os={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ss(n){if(Zl)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(n);let e=Ct.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Ct.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Ct.producers,t!==void 0&&t.producer===n)){Ct.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Ct&&(!r||qk(i,Ct)))return;let o=cs(Ct),s={producer:n,consumer:Ct,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Ct.producersTail=s,e!==void 0?e.nextProducer=s:Ct.producers=s,o&&tb(n,s)}function eb(){im++}function id(n){if(!(cs(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===im)){if(!n.producerMustRecompute(n)&&!mc(n)){td(n);return}n.producerRecomputeValue(n),td(n)}}function om(n){if(n.consumers===void 0)return;let e=Zl;Zl=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||zk(r)}}finally{Zl=e}}function sm(){return Ct?.consumerAllowSignalWrites!==!1}function zk(n){n.dirty=!0,om(n),n.consumerMarkedDirty?.(n)}function td(n){n.dirty=!1,n.lastCleanEpoch=im}function as(n){return n&&(n.producersTail=void 0,n.recomputing=!0),ue(n)}function gc(n,e){if(ue(e),!n)return;n.recomputing=!1;let t=n.producersTail,r=t!==void 0?t.nextProducer:n.producers;if(r!==void 0){if(cs(n))do r=am(r);while(r!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function mc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(id(t),r!==t.version))return!0}return!1}function yc(n){if(cs(n)){let e=n.producers;for(;e!==void 0;)e=am(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function tb(n,e){let t=n.consumersTail,r=cs(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)tb(i.producer,i)}function am(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!cs(e)){let o=e.producers;for(;o!==void 0;)o=am(o)}return t}function cs(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function od(n){Hk?.(n)}function qk(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function sd(n,e){let t=Object.create(Gk);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(id(t),ss(t),t.value===pc)throw t.error;return t.value};return r[St]=t,od(t),r}var Xl=Symbol("UNSET"),ed=Symbol("COMPUTING"),pc=Symbol("ERRORED"),Gk=ce(L({},os),{value:Xl,dirty:!0,error:null,equal:nd,kind:"computed",producerMustRecompute(n){return n.value===Xl||n.value===ed},producerRecomputeValue(n){if(n.value===ed)throw new Error("");let e=n.value;n.value=ed;let t=as(n),r,i=!1;try{r=n.computation(),ue(null),i=e!==Xl&&e!==pc&&r!==pc&&n.equal(e,r)}catch(o){r=pc,n.error=o}finally{gc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Wk(){throw new Error}var nb=Wk;function rb(n){nb(n)}function cm(n){nb=n}var Kk=null;function um(n,e){let t=Object.create(ad);t.value=n,e!==void 0&&(t.equal=e);let r=()=>ib(t);return r[St]=t,od(t),[r,s=>us(t,s),s=>lm(t,s)]}function ib(n){return ss(n),n.value}function us(n,e){sm()||rb(n),n.equal(n.value,e)||(n.value=e,Qk(n))}function lm(n,e){sm()||rb(n),us(n,e(n.value))}var ad=ce(L({},os),{equal:nd,value:void 0,kind:"signal"});function Qk(n){n.version++,eb(),om(n),Kk?.(n)}function ie(n){return typeof n=="function"}function ls(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var cd=ls(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Qi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ze=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){e=o instanceof cd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ob(o)}catch(s){e=e??[],s instanceof cd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new cd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ob(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Qi(t,e)}remove(e){let{_finalizers:t}=this;t&&Qi(t,e),e instanceof n&&e._removeParent(this)}};ze.EMPTY=(()=>{let n=new ze;return n.closed=!0,n})();var dm=ze.EMPTY;function ud(n){return n instanceof ze||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function ob(n){ie(n)?n():n.unsubscribe()}var Dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ds={setTimeout(n,e,...t){let{delegate:r}=ds;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ds;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ld(n){ds.setTimeout(()=>{let{onUnhandledError:e}=Dn;if(e)e(n);else throw n})}function vc(){}var sb=hm("C",void 0,void 0);function ab(n){return hm("E",void 0,n)}function cb(n){return hm("N",n,void 0)}function hm(n,e,t){return{kind:n,value:e,error:t}}var Yi=null;function hs(n){if(Dn.useDeprecatedSynchronousErrorHandling){let e=!Yi;if(e&&(Yi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Yi;if(Yi=null,t)throw r}}else n()}function ub(n){Dn.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=n)}var Ji=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ud(e)&&e.add(this)):this.destination=Zk}static create(e,t,r){return new fs(e,t,r)}next(e){this.isStopped?pm(cb(e),this):this._next(e)}error(e){this.isStopped?pm(ab(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pm(sb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Yk=Function.prototype.bind;function fm(n,e){return Yk.call(n,e)}var gm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){dd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){dd(r)}else dd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){dd(t)}}},fs=class extends Ji{constructor(e,t,r){super();let i;if(ie(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Dn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&fm(e.next,o),error:e.error&&fm(e.error,o),complete:e.complete&&fm(e.complete,o)}):i=e}this.destination=new gm(i)}};function dd(n){Dn.useDeprecatedSynchronousErrorHandling?ub(n):ld(n)}function Jk(n){throw n}function pm(n,e){let{onStoppedNotification:t}=Dn;t&&ds.setTimeout(()=>t(n,e))}var Zk={closed:!0,next:vc,error:Jk,complete:vc};var ps=typeof Symbol=="function"&&Symbol.observable||"@@observable";function en(n){return n}function mm(...n){return ym(n)}function ym(n){return n.length===0?en:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=e1(t)?t:new fs(t,r,i);return hs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=lb(r),new r((i,o)=>{let s=new fs({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ps](){return this}pipe(...t){return ym(t)(this)}toPromise(t){return t=lb(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function lb(n){var e;return(e=n??Dn.Promise)!==null&&e!==void 0?e:Promise}function Xk(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}function e1(n){return n&&n instanceof Ji||Xk(n)&&ud(n)}function vm(n){return ie(n?.lift)}function ve(n){return e=>{if(vm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,r,i){return new _m(n,e,t,r,i)}var _m=class extends Ji{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function gs(){return ve((n,e)=>{let t=null;n._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ms=class extends ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,vm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;let t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return gs()(this)}};var db=ls(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var et=(()=>{class n extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new hd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new db}next(t){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?dm:(this.currentObservers=null,o.push(t),new ze(()=>{this.currentObservers=null,Qi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return n.create=(e,t)=>new hd(e,t),n})(),hd=class extends et{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:dm}};var _t=class extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Em={now(){return(Em.delegate||Date).now()},delegate:void 0};var fd=class extends ze{constructor(e,t){super()}schedule(e,t=0){return this}};var _c={setInterval(n,e,...t){let{delegate:r}=_c;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=_c;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ys=class extends fd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return _c.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&_c.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Qi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var vs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};vs.now=Em.now;var _s=class extends vs{constructor(e,t=vs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Im=new _s(ys);var pd=class extends ys{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var gd=class extends _s{};var wm=new gd(pd);var zt=new ee(n=>n.complete());function hb(n){return n&&ie(n.schedule)}function fb(n){return n[n.length-1]}function md(n){return ie(fb(n))?n.pop():void 0}function Zr(n){return hb(fb(n))?n.pop():void 0}function Dm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function gb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function pb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zi(n){return this instanceof Zi?(this.v=n,this):new Zi(n)}function mb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(P){return new Promise(function(N,k){o.push([y,P,N,k])>1||u(y,P)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(P){m(o[0][3],P)}}function l(y){y.value instanceof Zi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function yb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof pb=="function"?pb(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var yd=n=>n&&typeof n.length=="number"&&typeof n!="function";function vd(n){return ie(n?.then)}function _d(n){return ie(n[ps])}function Ed(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function Id(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function t1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wd=t1();function Dd(n){return ie(n?.[wd])}function Td(n){return mb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Zi(t.read());if(i)return yield Zi(void 0);yield yield Zi(r)}}finally{t.releaseLock()}})}function bd(n){return ie(n?.getReader)}function tt(n){if(n instanceof ee)return n;if(n!=null){if(_d(n))return n1(n);if(yd(n))return r1(n);if(vd(n))return i1(n);if(Ed(n))return vb(n);if(Dd(n))return o1(n);if(bd(n))return s1(n)}throw Id(n)}function n1(n){return new ee(e=>{let t=n[ps]();if(ie(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function r1(n){return new ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function i1(n){return new ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ld)})}function o1(n){return new ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function vb(n){return new ee(e=>{a1(n,e).catch(t=>e.error(t))})}function s1(n){return vb(Td(n))}function a1(n,e){var t,r,i,o;return gb(this,void 0,void 0,function*(){try{for(t=yb(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function qt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Xr(n,e=0){return ve((t,r)=>{t.subscribe(me(r,i=>qt(r,n,()=>r.next(i),e),()=>qt(r,n,()=>r.complete(),e),i=>qt(r,n,()=>r.error(i),e)))})}function ei(n,e=0){return ve((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function _b(n,e){return tt(n).pipe(ei(e),Xr(e))}function Eb(n,e){return tt(n).pipe(ei(e),Xr(e))}function Ib(n,e){return new ee(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function wb(n,e){return new ee(t=>{let r;return qt(t,e,()=>{r=n[wd](),qt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}function Cd(n,e){if(!n)throw new Error("Iterable cannot be null");return new ee(t=>{qt(t,e,()=>{let r=n[Symbol.asyncIterator]();qt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Db(n,e){return Cd(Td(n),e)}function Tb(n,e){if(n!=null){if(_d(n))return _b(n,e);if(yd(n))return Ib(n,e);if(vd(n))return Eb(n,e);if(Ed(n))return Cd(n,e);if(Dd(n))return wb(n,e);if(bd(n))return Db(n,e)}throw Id(n)}function xe(n,e){return e?Tb(n,e):tt(n)}function K(...n){let e=Zr(n);return xe(n,e)}function Es(n,e){let t=ie(n)?n:()=>n,r=i=>i.error(t());return new ee(e?i=>e.schedule(r,0,i):r)}function Tm(n){return!!n&&(n instanceof ee||ie(n.lift)&&ie(n.subscribe))}var vr=ls(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(n,e){return ve((t,r)=>{let i=0;t.subscribe(me(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:c1}=Array;function u1(n,e){return c1(e)?n(...e):n(e)}function Sd(n){return oe(e=>u1(n,e))}var{isArray:l1}=Array,{getPrototypeOf:d1,prototype:h1,keys:f1}=Object;function Ad(n){if(n.length===1){let e=n[0];if(l1(e))return{args:e,keys:null};if(p1(e)){let t=f1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function p1(n){return n&&typeof n=="object"&&d1(n)===h1}function Rd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ec(...n){let e=Zr(n),t=md(n),{args:r,keys:i}=Ad(n);if(r.length===0)return xe([],e);let o=new ee(g1(r,e,i?s=>Rd(i,s):en));return t?o.pipe(Sd(t)):o}function g1(n,e,t=en){return r=>{bb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)bb(e,()=>{let l=xe(n[u],e),h=!1;l.subscribe(me(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function bb(n,e,t){n?qt(t,n,e):e()}function Cb(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?C(P):u.push(P),C=P=>{o&&e.next(P),l++;let N=!1;tt(t(P,h++)).subscribe(me(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let k=u.shift();s?qt(e,s,()=>C(k)):C(k)}m()}catch(k){e.error(k)}}))};return n.subscribe(me(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Je(n,e,t=1/0){return ie(e)?Je((r,i)=>oe((o,s)=>e(r,o,i,s))(tt(n(r,i))),t):(typeof e=="number"&&(t=e),ve((r,i)=>Cb(r,i,n,t)))}function Is(n=1/0){return Je(en,n)}function Sb(){return Is(1)}function ws(...n){return Sb()(xe(n,Zr(n)))}function Ic(n){return new ee(e=>{tt(n()).subscribe(e)})}function bm(...n){let e=md(n),{args:t,keys:r}=Ad(n),i=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;tt(t[h]).subscribe(me(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Rd(r,a):a),o.complete())}))}});return e?i.pipe(Sd(e)):i}function At(n,e){return ve((t,r)=>{let i=0;t.subscribe(me(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Tn(n){return ve((e,t)=>{let r=null,i=!1,o;r=e.subscribe(me(t,void 0,void 0,s=>{o=tt(n(s,Tn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Ab(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(me(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function zn(n,e){return ie(e)?Je(n,e,1):Je(n,1)}function ti(n){return ve((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function _r(n){return n<=0?()=>zt:ve((e,t)=>{let r=0;e.subscribe(me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Nd(n=m1){return ve((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function m1(){return new vr}function Xi(n){return ve((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Er(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,o)=>n(i,o,r)):en,_r(1),t?ti(e):Nd(()=>new vr))}function Ds(n){return n<=0?()=>zt:ve((e,t)=>{let r=[];e.subscribe(me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Cm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,o)=>n(i,o,r)):en,Ds(1),t?ti(e):Nd(()=>new vr))}function Sm(n,e){return ve(Ab(n,e,arguments.length>=2,!0))}function Am(...n){let e=Zr(n);return ve((t,r)=>{(e?ws(n,t,e):ws(n,t)).subscribe(r)})}function Ze(n,e){return ve((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(me(r,u=>{i?.unsubscribe();let l=0,h=o++;tt(n(u,h)).subscribe(i=me(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Md(n){return ve((e,t)=>{tt(n).subscribe(me(t,()=>t.complete(),vc)),!t.closed&&e.subscribe(t)})}function nt(n,e,t){let r=ie(n)||e||t?{next:n,error:e,complete:t}:n;return r?ve((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(me(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):en}function Rb(n){let e=ue(null);try{return n()}finally{ue(e)}}var Fd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,t){super(ii(e,t)),this.code=e}};function y1(n){return`NG0${Math.abs(n)}`}function ii(n,e){return`${y1(n)}${e?": "+e:""}`}var Tr=globalThis;function Ce(n){for(let e in n)if(n[e]===Ce)return e;throw Error("")}function xb(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function wr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(wr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Bm(n,e){return n?e?`${n} ${e}`:n:e||""}var v1=Ce({__forward_ref__:Ce});function br(n){return n.__forward_ref__=br,n.toString=function(){return wr(this())},n}function Et(n){return $m(n)?n():n}function $m(n){return typeof n=="function"&&n.hasOwnProperty(v1)&&n.__forward_ref__===br}function Pb(n,e){n==null&&Hm(e,n,null,"!=")}function Hm(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ln(n){return{providers:n.providers||[],imports:n.imports||[]}}function Cc(n){return _1(n,Ld)}function zm(n){return Cc(n)!==null}function _1(n,e){return n.hasOwnProperty(e)&&n[e]||null}function E1(n){let e=n?.[Ld]??null;return e||null}function Nm(n){return n&&n.hasOwnProperty(Pd)?n[Pd]:null}var Ld=Ce({\u0275prov:Ce}),Pd=Ce({\u0275inj:Ce}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qm(n){return n&&!!n.\u0275providers}var Gm=Ce({\u0275cmp:Ce}),Wm=Ce({\u0275dir:Ce}),Km=Ce({\u0275pipe:Ce}),Qm=Ce({\u0275mod:Ce}),Tc=Ce({\u0275fac:Ce}),io=Ce({__NG_ELEMENT_ID__:Ce}),Nb=Ce({__NG_ENV_ID__:Ce});function oo(n){return typeof n=="string"?n:n==null?"":String(n)}function kd(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():oo(n)}var Ym=Ce({ngErrorCode:Ce}),kb=Ce({ngErrorMessage:Ce}),Dc=Ce({ngTokenPath:Ce});function Jm(n,e){return Ob("",-200,e)}function Vd(n,e){throw new B(-201,!1)}function I1(n,e){n[Dc]??=[];let t=n[Dc],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(Pb(e.provide,"Token with multi: true should have a provide property"),r=kd(e.provide)):r=kd(e),t[0]!==r&&n[Dc].unshift(r)}function w1(n,e){let t=n[Dc],r=n[Ym],i=n[kb]||n.message;return n.message=T1(i,r,t,e),n}function Ob(n,e,t){let r=new B(e,n);return r[Ym]=e,r[kb]=n,t&&(r[Dc]=t),r}function D1(n){return n[Ym]}function T1(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return ii(e,`${n}${o}${i}`)}var Mm;function Fb(){return Mm}function Lt(n){let e=Mm;return Mm=n,e}function Zm(n,e,t){let r=Cc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Vd(n,"Injector")}var b1={},eo=b1,xm="__NG_DI_FLAG__",Pm=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=to(t)||0;try{return this.injector.get(e,r&8?null:eo,r)}catch(i){if(is(i))return i;throw i}}};function C1(n,e=0){let t=Jl();if(t===void 0)throw new B(-203,!1);if(t===null)return Zm(n,void 0,e);{let r=S1(e),i=t.retrieve(n,r);if(is(i)){if(r.optional)return null;throw i}return i}}function W(n,e=0){return(Fb()||C1)(Et(n),e)}function R(n,e){return W(n,to(e))}function to(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function S1(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function km(n){let e=[];for(let t=0;t<n.length;t++){let r=Et(n[t]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=A1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function Lb(n,e){return n[xm]=e,n.prototype[xm]=e,n}function A1(n){return n[xm]}function ni(n,e){let t=n.hasOwnProperty(Tc);return t?n[Tc]:null}function jd(n,e){n.forEach(t=>Array.isArray(t)?jd(t,e):e(t))}function Xm(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Sc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Vb(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function jb(n,e,t){let r=bs(n,e);return r>=0?n[r|1]=t:(r=~r,Vb(n,r,e,t)),r}function Ud(n,e){let t=bs(n,e);if(t>=0)return n[t|1]}function bs(n,e){return R1(n,e,1)}function R1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var oi={},tn=[],si=new $(""),ey=new $("",-1),ty=new $(""),bc=class{get(e,t=eo){if(t===eo){let i=Ob("",-201);throw i.name="\u0275NotFound",i}return t}};function ny(n){return n[Qm]||null}function Cr(n){return n[Gm]||null}function ry(n){return n[Wm]||null}function Ub(n){return n[Km]||null}function nn(n){return{\u0275providers:n}}function Bb(...n){return{\u0275providers:iy(!0,n),\u0275fromNgModule:!0}}function iy(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return jd(e,s=>{let a=s;Od(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$b(i,o),t}function $b(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];oy(i,o=>{e(o,r)})}}function Od(n,e,t,r){if(n=Et(n),!n)return!1;let i=null,o=Nm(n),s=!o&&Cr(n);if(!o&&!s){let u=n.ngModule;if(o=Nm(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Od(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{jd(o.imports,h=>{Od(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&$b(l,e)}if(!a){let l=ni(i)||(()=>new i);e({provide:i,useFactory:l,deps:tn},i),e({provide:ty,useValue:i,multi:!0},i),e({provide:si,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;oy(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function oy(n,e){for(let t of n)qm(t)&&(t=t.\u0275providers),Array.isArray(t)?oy(t,e):e(t)}var N1=Ce({provide:String,useValue:Ce});function Hb(n){return n!==null&&typeof n=="object"&&N1 in n}function M1(n){return!!(n&&n.useExisting)}function x1(n){return!!(n&&n.useFactory)}function no(n){return typeof n=="function"}function zb(n){return!!n.useClass}var Ac=new $(""),xd={},Mb={},Rm;function Rc(){return Rm===void 0&&(Rm=new bc),Rm}var je=class{},ro=class extends je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Fm(e,s=>this.processProvider(s)),this.records.set(ey,Ts(void 0,this)),i.has("environment")&&this.records.set(je,Ts(void 0,this));let o=this.records.get(Ac);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ty,tn,{self:!0}))}retrieve(e,t){let r=to(t)||0;try{return this.get(e,eo,r)}catch(i){if(is(i))return i;throw i}}destroy(){wc(this),this._destroyed=!0;let e=ue(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(e)}}onDestroy(e){return wc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){wc(this);let t=Hn(this),r=Lt(void 0),i;try{return e()}finally{Hn(t),Lt(r)}}get(e,t=eo,r){if(wc(this),e.hasOwnProperty(Nb))return e[Nb](this);let i=to(r),o,s=Hn(this),a=Lt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=L1(e)&&Cc(e);h&&this.injectableDefInScope(h)?l=Ts(Om(e),xd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Rc():this.parent;return t=i&8&&t===eo?null:t,u.get(e,t)}catch(u){let l=D1(u);throw l===-200||l===-201?new B(l,null):u}finally{Lt(a),Hn(s)}}resolveInjectorInitializers(){let e=ue(null),t=Hn(this),r=Lt(void 0),i;try{let o=this.get(si,tn,{self:!0});for(let s of o)s()}finally{Hn(t),Lt(r),ue(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(wr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Et(e);let t=no(e)?e:Et(e&&e.provide),r=k1(e);if(!no(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ts(void 0,xd,!0),i.factory=()=>km(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ue(null);try{if(t.value===Mb)throw Jm(wr(e));return t.value===xd&&(t.value=Mb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&F1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ue(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Et(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Om(n){let e=Cc(n),t=e!==null?e.factory:ni(n);if(t!==null)return t;if(n instanceof $)throw new B(204,!1);if(n instanceof Function)return P1(n);throw new B(204,!1)}function P1(n){if(n.length>0)throw new B(204,!1);let t=E1(n);return t!==null?()=>t.factory(n):()=>new n}function k1(n){if(Hb(n))return Ts(void 0,n.useValue);{let e=sy(n);return Ts(e,xd)}}function sy(n,e,t){let r;if(no(n)){let i=Et(n);return ni(i)||Om(i)}else if(Hb(n))r=()=>Et(n.useValue);else if(x1(n))r=()=>n.useFactory(...km(n.deps||[]));else if(M1(n))r=(i,o)=>W(Et(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Et(n&&(n.useClass||n.provide));if(O1(n))r=()=>new i(...km(n.deps));else return ni(i)||Om(i)}return r}function wc(n){if(n.destroyed)throw new B(205,!1)}function Ts(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function O1(n){return!!n.deps}function F1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function L1(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Fm(n,e){for(let t of n)Array.isArray(t)?Fm(t,e):t&&qm(t)?Fm(t.\u0275providers,e):e(t)}function Ge(n,e){let t;n instanceof ro?(wc(n),t=n):t=new Pm(n);let r,i=Hn(t),o=Lt(void 0);try{return e()}finally{Hn(i),Lt(o)}}function qb(){return Fb()!==void 0||Jl()!=null}var Cn=0,te=1,re=2,It=3,dn=4,hn=5,Nc=6,Cs=7,Rt=8,so=9,qn=10,Ue=11,Ss=12,ay=13,ao=14,fn=15,co=16,uo=17,lo=18,Mc=19,cy=20,Ir=21,Bd=22,xc=23,rn=24,ho=25,dt=26,Gb=1;var ai=7,Pc=8,kc=9,Gt=10;function Gn(n){return Array.isArray(n)&&typeof n[Gb]=="object"}function Sn(n){return Array.isArray(n)&&n[Gb]===!0}function uy(n){return(n.flags&4)!==0}function ci(n){return n.componentOffset>-1}function As(n){return(n.flags&1)===1}function Wn(n){return!!n.template}function Rs(n){return(n[re]&512)!==0}function fo(n){return(n[re]&256)===256}var ly="svg",Wb="math";function pn(n){for(;Array.isArray(n);)n=n[Cn];return n}function dy(n,e){return pn(e[n])}function An(n,e){return pn(e[n.index])}function $d(n,e){return n.data[e]}function Hd(n,e){return n[e]}function hy(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function gn(n,e){let t=e[n];return Gn(t)?t:t[Cn]}function zd(n){return(n[re]&128)===128}function Kb(n){return Sn(n[It])}function po(n,e){return e==null?null:n[e]}function fy(n){n[uo]=0}function py(n){n[re]&1024||(n[re]|=1024,zd(n)&&Ns(n))}function Qb(n,e){for(;n>0;)e=e[ao],n--;return e}function Oc(n){return!!(n[re]&9216||n[rn]?.dirty)}function qd(n){n[qn].changeDetectionScheduler?.notify(8),n[re]&64&&(n[re]|=1024),Oc(n)&&Ns(n)}function Ns(n){n[qn].changeDetectionScheduler?.notify(0);let e=ri(n);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!zd(e)));)e=ri(e)}function gy(n,e){if(fo(n))throw new B(911,!1);n[Ir]===null&&(n[Ir]=[]),n[Ir].push(e)}function Yb(n,e){if(n[Ir]===null)return;let t=n[Ir].indexOf(e);t!==-1&&n[Ir].splice(t,1)}function ri(n){let e=n[It];return Sn(e)?e[It]:e}function Jb(n){return n[Cs]??=[]}function Zb(n){return n.cleanup??=[]}var le={lFrame:h0(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Fc=(function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n})(Fc||{}),V1=0,Lm=!1;function Xb(){return le.lFrame.elementDepthCount}function e0(){le.lFrame.elementDepthCount++}function my(){le.lFrame.elementDepthCount--}function Gd(){return le.bindingsEnabled}function t0(){return le.skipHydrationRootTNode!==null}function yy(n){return le.skipHydrationRootTNode===n}function vy(){le.skipHydrationRootTNode=null}function ye(){return le.lFrame.lView}function Vt(){return le.lFrame.tView}function Nt(n){return le.lFrame.contextLView=n,n[Rt]}function Mt(n){return le.lFrame.contextLView=null,n}function pt(){let n=_y();for(;n!==null&&n.type===64;)n=n.parent;return n}function _y(){return le.lFrame.currentTNode}function n0(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ms(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function Ey(){return le.lFrame.isParent}function r0(){le.lFrame.isParent=!1}function i0(){return le.lFrame.contextLView}function Iy(n){Hm("Must never be called in production mode"),V1=n}function wy(){return Lm}function Dy(n){let e=Lm;return Lm=n,e}function Lc(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function o0(){return le.lFrame.bindingIndex}function s0(n){return le.lFrame.bindingIndex=n}function Vc(){return le.lFrame.bindingIndex++}function Ty(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function a0(){return le.lFrame.inI18n}function c0(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Wd(e)}function u0(){return le.lFrame.currentDirectiveIndex}function Wd(n){le.lFrame.currentDirectiveIndex=n}function l0(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function by(n){le.lFrame.currentQueryIndex=n}function j1(n){let e=n[te];return e.type===2?e.declTNode:e.type===1?n[hn]:null}function Cy(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=j1(o),i===null||(o=o[ao],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=d0();return r.currentTNode=e,r.lView=n,!0}function Kd(n){let e=d0(),t=n[te];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function d0(){let n=le.lFrame,e=n===null?null:n.child;return e===null?h0(n):e}function h0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function f0(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Sy=f0;function Qd(){let n=f0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function p0(n){return(le.lFrame.contextLView=Qb(n,le.lFrame.contextLView))[Rt]}function ui(){return le.lFrame.selectedIndex}function li(n){le.lFrame.selectedIndex=n}function Yd(){let n=le.lFrame;return $d(n.tView,n.selectedIndex)}function rt(){le.lFrame.currentNamespace=ly}function it(){U1()}function U1(){le.lFrame.currentNamespace=null}function g0(){return le.lFrame.currentNamespace}var m0=!0;function Jd(){return m0}function jc(n){m0=n}var B1={elements:void 0};function Zd(){return B1}function Vm(n,e=null,t=null,r){let i=Ay(n,e,t,r);return i.resolveInjectorInitializers(),i}function Ay(n,e=null,t=null,r,i=new Set){let o=[t||tn,Bb(n)];return r=r||(typeof n=="object"?void 0:wr(n)),new ro(o,e||Rc(),r||null,i)}var qe=class n{static THROW_IF_NOT_FOUND=eo;static NULL=new bc;static create(e,t){if(Array.isArray(e))return Vm({name:""},t,e,"");{let r=e.name??"";return Vm({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>W(ey)});static __NG_ELEMENT_ID__=-1},We=new $(""),Kn=(()=>{class n{static __NG_ELEMENT_ID__=$1;static __NG_ENV_ID__=t=>t}return n})(),jm=class extends Kn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return fo(this._lView)}onDestroy(e){let t=this._lView;return gy(t,e),()=>Yb(t,e)}};function $1(){return new jm(ye())}var bn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},jt=new $("",{providedIn:"root",factory:()=>{let n=R(je),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(bn),e.handleError(t))}}}),y0={provide:si,useValue:()=>void R(bn),multi:!0};function Ry(n){return typeof n=="function"&&n[St]!==void 0}function Wt(n,e){let[t,r,i]=um(n,e?.equal),o=t,s=o[St];return o.set=r,o.update=i,o.asReadonly=v0.bind(o),o}function v0(){let n=this[St];if(n.readonlyFn===void 0){let e=()=>this();e[St]=n,n.readonlyFn=e}return n.readonlyFn}function Ny(n){return Ry(n)&&typeof n.set=="function"}var Dr=class{},Xd=new $("",{providedIn:"root",factory:()=>!1});var My=new $(""),xy=new $("");var eh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=H1}return n})();function H1(){return new eh(ye(),pt())}var Qn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new _t(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),di=(()=>{class n{internalPendingTasks=R(Qn);scheduler=R(Dr);errorHandler=R(jt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();function Uc(...n){}var Py=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new Um})}return n})(),Um=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ls(n){return{toString:n}.toString()}var th="__parameters__";function Q1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Y1(n,e,t){return Ls(()=>{let r=Q1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(th)?u[th]:Object.defineProperty(u,th,{value:[]})[th];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var on=Lb(Y1("Optional"),8);function J1(n){return typeof n=="function"}var ah=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Q0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Nn=(()=>{let n=()=>Y0;return n.ngInherit=!0,n})();function Y0(n){return n.type.prototype.ngOnChanges&&(n.setInput=X1),Z1}function Z1(){let n=Z0(this),e=n?.current;if(e){let t=n.previous;if(t===oi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function X1(n,e,t,r,i){let o=this.declaredInputs[r],s=Z0(n)||eO(n,{previous:oi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new ah(l&&l.currentValue,t,u===oi),Q0(n,e,i,t)}var J0="__ngSimpleChanges__";function Z0(n){return n[J0]||null}function eO(n,e){return n[J0]=e}var _0=[];var Re=function(n,e=null,t){for(let r=0;r<_0.length;r++){let i=_0[r];i(n,e,t)}};function tO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Y0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function X0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function ih(n,e,t){eC(n,e,3,t)}function oh(n,e,t,r){(n[re]&3)===t&&eC(n,e,t,r)}function ky(n,e){let t=n[re];(t&3)===e&&(t&=16383,t+=1,n[re]=t)}function eC(n,e,t,r){let i=r!==void 0?n[uo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[uo]+=65536),(a<o||o==-1)&&(nO(n,t,e,u),n[uo]=(n[uo]&4294901760)+u+2),u++}function E0(n,e){Re(4,n,e);let t=ue(null);try{e.call(n)}finally{ue(t),Re(5,n,e)}}function nO(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[re]>>14<n[uo]>>16&&(n[re]&3)===e&&(n[re]+=16384,E0(a,o)):E0(a,o)}var Ps=-1,yo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function rO(n){return(n.flags&8)!==0}function iO(n){return(n.flags&16)!==0}function oO(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];sO(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function tC(n){return n===3||n===4||n===6}function sO(n){return n.charCodeAt(0)===64}function ks(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?I0(n,t,i,null,e[++r]):I0(n,t,i,null,null))}}return n}function I0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function nC(n){return n!==Ps}function ch(n){return n&32767}function aO(n){return n>>16}function uh(n,e){let t=aO(n),r=e;for(;t>0;)r=r[ao],t--;return r}var qy=!0;function lh(n){let e=qy;return qy=n,e}var cO=256,rC=cO-1,iC=5,uO=0,Yn={};function lO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(io)&&(r=t[io]),r==null&&(r=t[io]=uO++);let i=r&rC,o=1<<i;e.data[n+(i>>iC)]|=o}function dh(n,e){let t=oC(n,e);if(t!==-1)return t;let r=e[te];r.firstCreatePass&&(n.injectorIndex=e.length,Oy(r.data,n),Oy(e,null),Oy(r.blueprint,null));let i=lv(n,e),o=n.injectorIndex;if(nC(i)){let s=ch(i),a=uh(i,e),u=a[te].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Oy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function oC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function lv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=lC(i),r===null)return Ps;if(t++,i=i[ao],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ps}function Gy(n,e,t){lO(n,e,t)}function dO(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(tC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function sC(n,e,t){if(t&8||n!==void 0)return n;Vd(e,"NodeInjector")}function aC(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[so],o=Lt(void 0);try{return i?i.get(e,r,t&8):Zm(e,r,t&8)}finally{Lt(o)}}return sC(r,e,t)}function cC(n,e,t,r=0,i){if(n!==null){if(e[re]&2048&&!(r&2)){let s=mO(n,e,t,r,Yn);if(s!==Yn)return s}let o=uC(n,e,t,r,Yn);if(o!==Yn)return o}return aC(e,t,r,i)}function uC(n,e,t,r,i){let o=pO(t);if(typeof o=="function"){if(!Cy(e,n,r))return r&1?sC(i,t,r):aC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Vd(t);else return s}finally{Sy()}}else if(typeof o=="number"){let s=null,a=oC(n,e),u=Ps,l=r&1?e[fn][hn]:null;for((a===-1||r&4)&&(u=a===-1?lv(n,e):e[a+8],u===Ps||!D0(r,!1)?a=-1:(s=e[te],a=ch(u),e=uh(u,e)));a!==-1;){let h=e[te];if(w0(o,a,h.data)){let p=hO(a,e,t,s,r,l);if(p!==Yn)return p}u=e[a+8],u!==Ps&&D0(r,e[te].data[a+8]===l)&&w0(o,a,e)?(s=h,a=ch(u),e=uh(u,e)):a=-1}}return i}function hO(n,e,t,r,i,o){let s=e[te],a=s.data[n+8],u=r==null?ci(a)&&qy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=fO(a,s,t,u,l);return h!==null?hh(e,s,h,a,i):Yn}function fO(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&t===C||y>=u&&C.type===t)return y}if(i){let y=s[u];if(y&&Wn(y)&&y.type===t)return u}return null}function hh(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof yo){let a=o;if(a.resolving){let y=kd(s[t]);throw Jm(y)}let u=lh(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Lt(a.injectImpl):null,m=Cy(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&tO(t,s[t],e)}finally{p!==null&&Lt(p),lh(u),a.resolving=!1,Sy()}}return o}function pO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(io)?n[io]:void 0;return typeof e=="number"?e>=0?e&rC:gO:e}function w0(n,e,t){let r=1<<n;return!!(t[e+(n>>iC)]&r)}function D0(n,e){return!(n&2)&&!(n&1&&e)}var mo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return cC(this._tNode,this._lView,e,to(r),t)}};function gO(){return new mo(pt(),ye())}function wo(n){return Ls(()=>{let e=n.prototype.constructor,t=e[Tc]||Wy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Tc]||Wy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Wy(n){return $m(n)?()=>{let e=Wy(Et(n));return e&&e()}:ni(n)}function mO(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!Rs(s);){let a=uC(o,s,t,r|2,Yn);if(a!==Yn)return a;let u=o.parent;if(!u){let l=s[cy];if(l){let h=l.get(t,Yn,r);if(h!==Yn)return h}u=lC(s),s=s[ao]}o=u}return i}function lC(n){let e=n[te],t=e.type;return t===2?e.declTNode:t===1?n[hn]:null}function Gc(n){return dO(pt(),n)}function yO(){return bh(pt(),ye())}function bh(n,e){return new Zn(An(n,e))}var Zn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=yO}return n})();function dC(n){return(n.flags&128)===128}var dv=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(dv||{}),hC=new Map,vO=0;function _O(){return vO++}function EO(n){hC.set(n[Mc],n)}function Ky(n){hC.delete(n[Mc])}var T0="__ngContext__";function Os(n,e){Gn(e)?(n[T0]=e[Mc],EO(e)):n[T0]=e}function fC(n){return gC(n[Ss])}function pC(n){return gC(n[dn])}function gC(n){for(;n!==null&&!Sn(n);)n=n[dn];return n}var Qy;function hv(n){Qy=n}function mC(){if(Qy!==void 0)return Qy;if(typeof document<"u")return document;throw new B(210,!1)}var Ch=new $("",{providedIn:"root",factory:()=>IO}),IO="ng",Sh=new $(""),fi=new $("",{providedIn:"platform",factory:()=>"unknown"});var Ah=new $("",{providedIn:"root",factory:()=>mC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var wO="h",DO="b";var yC=!1,vC=new $("",{providedIn:"root",factory:()=>yC});var fv=new $("");var TO=(n,e,t,r)=>{};function bO(n,e,t,r){TO(n,e,t,r)}function pv(n){return(n.flags&32)===32}var CO=()=>null;function _C(n,e,t=!1){return CO(n,e,t)}function EC(n,e){let t=n.contentQueries;if(t!==null){let r=ue(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];by(o),a.contentQueries(2,e[s],s)}}}finally{ue(r)}}}function Yy(n,e,t){by(0);let r=ue(null);try{e(n,t)}finally{ue(r)}}function gv(n,e,t){if(uy(e)){let r=ue(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ue(r)}}}var Sr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Sr||{});var nh;function SO(){if(nh===void 0&&(nh=null,Tr.trustedTypes))try{nh=Tr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return nh}function b0(n){return SO()?.createScriptURL(n)||n}var fh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fd})`}};function Wc(n){return n instanceof fh?n.changingThisBreaksApplicationSecurity:n}function mv(n,e){let t=IC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Fd})`)}return t===e}function IC(n){return n instanceof fh&&n.getTypeName()||null}var AO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wC(n){return n=String(n),n.match(AO)?n:"unsafe:"+n}var Rh=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Rh||{});function Kc(n){let e=TC();return e?e.sanitize(Rh.URL,n)||"":mv(n,"URL")?Wc(n):wC(oo(n))}function DC(n){let e=TC();if(e)return b0(e.sanitize(Rh.RESOURCE_URL,n)||"");if(mv(n,"ResourceURL"))return b0(Wc(n));throw new B(904,!1)}function RO(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?DC:Kc}function yv(n,e,t){return RO(e,t)(n)}function TC(){let n=ye();return n&&n[qn].sanitizer}var NO=/^>|^->|<!--|-->|--!>|<!-$/g,MO=/(<|>)/g,xO="\u200B$1\u200B";function PO(n){return n.replace(NO,e=>e.replace(MO,xO))}function bC(n){return n instanceof Function?n():n}function kO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var CC="ng-template";function OO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&kO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(vv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function vv(n){return n.type===4&&n.value!==CC}function FO(n,e,t){let r=n.type===4&&!t?CC:n.value;return e===r}function LO(n,e,t){let r=4,i=n.attrs,o=i!==null?UO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Rn(r)&&!Rn(u))return!1;if(s&&Rn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!FO(n,u,t)||u===""&&e.length===1){if(Rn(r))return!1;s=!0}}else if(r&8){if(i===null||!OO(n,i,u,t)){if(Rn(r))return!1;s=!0}}else{let l=e[++a],h=VO(u,i,vv(n),t);if(h===-1){if(Rn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Rn(r))return!1;s=!0}}}}return Rn(r)||s}function Rn(n){return(n&1)===0}function VO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return BO(e,n)}function jO(n,e,t=!1){for(let r=0;r<e.length;r++)if(LO(n,e[r],t))return!0;return!1}function UO(n){for(let e=0;e<n.length;e++){let t=n[e];if(tC(t))return e}return n.length}function BO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function C0(n,e){return n?":not("+e.trim()+")":e}function $O(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Rn(s)&&(e+=C0(o,i),i=""),r=s,o=o||!Rn(r);t++}return i!==""&&(e+=C0(o,i)),e}function HO(n){return n.map($O).join(",")}function zO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Rn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Mn={};function qO(n,e){return n.createText(e)}function GO(n,e,t){n.setValue(e,t)}function WO(n,e){return n.createComment(PO(e))}function SC(n,e,t){return n.createElement(e,t)}function ph(n,e,t,r,i){n.insertBefore(e,t,r,i)}function AC(n,e,t){n.appendChild(e,t)}function S0(n,e,t,r,i){r!==null?ph(n,e,t,r,i):AC(n,e,t)}function KO(n,e,t){n.removeChild(null,e,t)}function QO(n,e,t){n.setAttribute(e,"style",t)}function YO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function RC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&oO(n,e,r),i!==null&&YO(n,e,i),o!==null&&QO(n,e,o)}function _v(n,e,t,r,i,o,s,a,u,l,h){let p=dt+r,m=p+i,y=JO(p,m),C=typeof l=="function"?l():l;return y[te]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function JO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Mn);return t}function ZO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=_v(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ev(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Cn]=i,p[re]=r|4|128|8|64|1024,(l!==null||n&&n[re]&2048)&&(p[re]|=2048),fy(p),p[It]=p[ao]=n,p[Rt]=t,p[qn]=s||n&&n[qn],p[Ue]=a||n&&n[Ue],p[so]=u||n&&n[so]||null,p[hn]=o,p[Mc]=_O(),p[Nc]=h,p[cy]=l,p[fn]=e.type==2?n[fn]:p,p}function XO(n,e,t){let r=An(e,n),i=ZO(t),o=n[qn].rendererFactory,s=Iv(n,Ev(n,i,null,NC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function NC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function MC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Iv(n,e){return n[Ss]?n[ay][dn]=e:n[Ss]=e,n[ay]=e,e}function j(n=1){xC(Vt(),ye(),ui()+n,!1)}function xC(n,e,t,r){if(!r)if((e[re]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ih(e,o,t)}else{let o=n.preOrderHooks;o!==null&&oh(e,o,0,t)}li(t)}var Nh=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Nh||{});function Jy(n,e,t,r){let i=ue(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Nh.SignalBased)!==0&&(u=e[o][St]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Q0(e,u,o,r)}finally{ue(i)}}var Jn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Jn||{}),eF;function wv(n,e){return eF(n,e)}function xs(n,e,t,r,i){if(r!=null){let o,s=!1;Sn(r)?o=r:Gn(r)&&(s=!0,r=r[Cn]);let a=pn(r);n===0&&t!==null?i==null?AC(e,t,a):ph(e,t,a,i||null,!0):n===1&&t!==null?ph(e,t,a,i||null,!0):n===2?KO(e,a,s):n===3&&e.destroyNode(a),o!=null&&hF(e,n,o,t,i)}}function tF(n,e){PC(n,e),e[Cn]=null,e[hn]=null}function nF(n,e,t,r,i,o){r[Cn]=i,r[hn]=e,Mh(n,r,t,1,i,o)}function PC(n,e){e[qn].changeDetectionScheduler?.notify(9),Mh(n,e,e[Ue],2,null,null)}function rF(n){let e=n[Ss];if(!e)return Fy(n[te],n);for(;e;){let t=null;if(Gn(e))t=e[Ss];else{let r=e[Gt];r&&(t=r)}if(!t){for(;e&&!e[dn]&&e!==n;)Gn(e)&&Fy(e[te],e),e=e[It];e===null&&(e=n),Gn(e)&&Fy(e[te],e),t=e&&e[dn]}e=t}}function Dv(n,e){let t=n[kc],r=t.indexOf(e);t.splice(r,1)}function kC(n,e){if(fo(e))return;let t=e[Ue];t.destroyNode&&Mh(n,e,t,3,null,null),rF(e)}function Fy(n,e){if(fo(e))return;let t=ue(null);try{e[re]&=-129,e[re]|=256,e[rn]&&yc(e[rn]),oF(n,e),iF(n,e),e[te].type===1&&e[Ue].destroy();let r=e[co];if(r!==null&&Sn(e[It])){r!==e[It]&&Dv(r,e);let i=e[lo];i!==null&&i.detachView(n)}Ky(e)}finally{ue(t)}}function iF(n,e){let t=n.cleanup,r=e[Cs];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Cs]=null);let i=e[Ir];if(i!==null){e[Ir]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[xc];if(o!==null){e[xc]=null;for(let s of o)s.destroy()}}function oF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof yo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Re(4,a,u);try{u.call(a)}finally{Re(5,a,u)}}else{Re(4,i,o);try{o.call(i)}finally{Re(5,i,o)}}}}}function sF(n,e,t){return aF(n,e.parent,t)}function aF(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Cn];if(ci(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Sr.None||i===Sr.Emulated)return null}return An(r,t)}function cF(n,e,t){return lF(n,e,t)}function uF(n,e,t){return n.type&40?An(n,t):null}var lF=uF,A0;function Tv(n,e,t,r){let i=sF(n,r,e),o=e[Ue],s=r.parent||e[hn],a=cF(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)S0(o,i,t[u],a,!1);else S0(o,i,t,a,!1);A0!==void 0&&A0(o,r,e,t,i)}function Bc(n,e){if(e!==null){let t=e.type;if(t&3)return An(e,n);if(t&4)return Zy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Bc(n,r);{let i=n[e.index];return Sn(i)?Zy(-1,i):pn(i)}}else{if(t&128)return Bc(n,e.next);if(t&32)return wv(e,n)()||pn(n[e.index]);{let r=OC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ri(n[fn]);return Bc(i,r)}else return Bc(n,e.next)}}}return null}function OC(n,e){if(e!==null){let r=n[fn][hn],i=e.projection;return r.projection[i]}return null}function Zy(n,e){let t=Gt+n+1;if(t<e.length){let r=e[t],i=r[te].firstChild;if(i!==null)return Bc(r,i)}return e[ai]}function bv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Os(pn(a),r),t.flags|=2),!pv(t))if(u&8)bv(n,e,t.child,r,i,o,!1),xs(e,n,i,a,o);else if(u&32){let l=wv(t,r),h;for(;h=l();)xs(e,n,i,h,o);xs(e,n,i,a,o)}else u&16?dF(n,e,r,t,i,o):xs(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Mh(n,e,t,r,i,o){bv(t,r,n.firstChild,e,i,o,!1)}function dF(n,e,t,r,i,o){let s=t[fn],u=s[hn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];xs(e,n,i,h,o)}else{let l=u,h=s[It];dC(r)&&(l.flags|=128),bv(n,e,l,h,i,o,!0)}}function hF(n,e,t,r,i){let o=t[ai],s=pn(t);o!==s&&xs(e,n,r,o,i);for(let a=Gt;a<t.length;a++){let u=t[a];Mh(u[te],u,n,e,r,o)}}function fF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Jn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jn.Important),n.setStyle(t,r,i,o))}}function FC(n,e,t,r,i){let o=ui(),s=r&2;try{li(-1),s&&e.length>dt&&xC(n,e,dt,!1),Re(s?2:0,i,t),t(r,i)}finally{li(o),Re(s?3:1,i,t)}}function xh(n,e,t){EF(n,e,t),(t.flags&64)===64&&IF(n,e,t)}function Ph(n,e,t=An){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function pF(n,e,t,r){let o=r.get(vC,yC)||t===Sr.ShadowDom,s=n.selectRootElement(e,o);return gF(s),s}function gF(n){mF(n)}var mF=()=>null;function yF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function LC(n,e,t,r,i,o){let s=e[te];if(Rv(n,s,e,t,r)){ci(n)&&_F(e,n.index);return}n.type&3&&(t=yF(t)),vF(n,e,t,r,i,o)}function vF(n,e,t,r,i,o){if(n.type&3){let s=An(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function _F(n,e){let t=gn(e,n);t[re]&16||(t[re]|=64)}function EF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ci(t)&&XO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||dh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=hh(e,n,s,t);if(Os(u,e),o!==null&&bF(e,s-r,u,a,t,o),Wn(a)){let l=gn(t.index,e);l[Rt]=hh(e,n,s,t)}}}function IF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=u0();try{li(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Wd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&wF(u,l)}}finally{li(-1),Wd(s)}}function wF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Cv(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];jO(e,o.selectors,!1)&&(r??=[],Wn(o)?r.unshift(o):r.push(o))}return r}function DF(n,e,t,r,i,o){let s=An(n,e);TF(e[Ue],s,o,n.value,t,r,i)}function TF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?oo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function bF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Jy(r,t,u,l)}}function Sv(n,e,t,r,i){let o=dt+t,s=e[te],a=i(s,e,n,r,t);e[o]=a,Ms(n,!0);let u=n.type===2;return u?(RC(e[Ue],a,n),(Xb()===0||As(n))&&Os(a,e),e0()):Os(a,e),Jd()&&(!u||!pv(n))&&Tv(s,e,a,n),n}function Av(n){let e=n;return Ey()?r0():(e=e.parent,Ms(e,!1)),e}function CF(n,e){let t=n[so];if(!t)return;let r;try{r=t.get(jt,null)}catch{r=null}r?.(e)}function Rv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Jy(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Jy(h,l,r,i),a=!0}return a}function SF(n,e){let t=gn(e,n),r=t[te];AF(r,t);let i=t[Cn];i!==null&&t[Nc]===null&&(t[Nc]=_C(i,t[so])),Re(18),Nv(r,t,t[Rt]),Re(19,t[Rt])}function AF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Nv(n,e,t){Kd(e);try{let r=n.viewQuery;r!==null&&Yy(1,r,t);let i=n.template;i!==null&&FC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[lo]?.finishViewCreation(n),n.staticContentQueries&&EC(n,e),n.staticViewQueries&&Yy(2,n.viewQuery,t);let o=n.components;o!==null&&RF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[re]&=-5,Qd()}}function RF(n,e){for(let t=0;t<e.length;t++)SF(n,e[t])}function NF(n,e,t,r){let i=ue(null);try{let o=e.tView,a=n[re]&4096?4096:16,u=Ev(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[co]=l;let h=n[lo];return h!==null&&(u[lo]=h.createEmbeddedView(o)),Nv(o,u,t),u}finally{ue(i)}}function R0(n,e){return!e||e.firstChild===null||dC(n)}var N0=!1,MF=new $("");function Hc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(pn(o)),Sn(o)&&VC(o,r);let s=t.type;if(s&8)Hc(n,e,t.child,r);else if(s&32){let a=wv(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=OC(e,t);if(Array.isArray(a))r.push(...a);else{let u=ri(e[fn]);Hc(u[te],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function VC(n,e){for(let t=Gt;t<n.length;t++){let r=n[t],i=r[te].firstChild;i!==null&&Hc(r[te],r,i,e)}n[ai]!==n[Cn]&&e.push(n[ai])}function jC(n){if(n[ho]!==null){for(let e of n[ho])e.impl.addSequence(e);n[ho].length=0}}var UC=[];function xF(n){return n[rn]??PF(n)}function PF(n){let e=UC.pop()??Object.create(OF);return e.lView=n,e}function kF(n){n.lView[rn]!==n&&(n.lView=null,UC.push(n))}var OF=ce(L({},os),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ns(n.lView)},consumerOnSignalRead(){this.lView[rn]=this}});function FF(n){let e=n[rn]??Object.create(LF);return e.lView=n,e}var LF=ce(L({},os),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ri(n.lView);for(;e&&!BC(e[te]);)e=ri(e);e&&py(e)},consumerOnSignalRead(){this.lView[rn]=this}});function BC(n){return n.type!==2}function $C(n){if(n[xc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[xc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[re]&8192)}}var VF=100;function Mv(n,e=0){let r=n[qn].rendererFactory,i=!1;i||r.begin?.();try{jF(n,e)}finally{i||r.end?.()}}function jF(n,e){let t=wy();try{Dy(!0),Xy(n,e);let r=0;for(;Oc(n);){if(r===VF)throw new B(103,!1);r++,Xy(n,1)}}finally{Dy(t)}}function HC(n,e){Iy(e?Fc.Exhaustive:Fc.OnlyDirtyViews);try{Mv(n)}finally{Iy(Fc.Off)}}function UF(n,e,t,r){if(fo(e))return;let i=e[re],o=!1,s=!1;Kd(e);let a=!0,u=null,l=null;o||(BC(n)?(l=xF(e),u=as(l)):rd()===null?(a=!1,l=FF(e),u=as(l)):e[rn]&&(yc(e[rn]),e[rn]=null));try{fy(e),s0(n.bindingStartIndex),t!==null&&FC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&ih(e,y,null)}else{let y=n.preOrderHooks;y!==null&&oh(e,y,0,null),ky(e,0)}if(s||BF(e),$C(e),zC(e,0),n.contentQueries!==null&&EC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&ih(e,y)}else{let y=n.contentHooks;y!==null&&oh(e,y,1),ky(e,1)}HF(n,e);let p=n.components;p!==null&&GC(e,p,0);let m=n.viewQuery;if(m!==null&&Yy(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&ih(e,y)}else{let y=n.viewHooks;y!==null&&oh(e,y,2),ky(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Bd]){for(let y of e[Bd])y();e[Bd]=null}o||(jC(e),e[re]&=-73)}catch(h){throw o||Ns(e),h}finally{l!==null&&(gc(l,u),a&&kF(l)),Qd()}}function zC(n,e){for(let t=fC(n);t!==null;t=pC(t))for(let r=Gt;r<t.length;r++){let i=t[r];qC(i,e)}}function BF(n){for(let e=fC(n);e!==null;e=pC(e)){if(!(e[re]&2))continue;let t=e[kc];for(let r=0;r<t.length;r++){let i=t[r];py(i)}}}function $F(n,e,t){Re(18);let r=gn(e,n);qC(r,t),Re(19,r[Rt])}function qC(n,e){zd(n)&&Xy(n,e)}function Xy(n,e){let r=n[te],i=n[re],o=n[rn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&mc(o)),s||=!1,o&&(o.dirty=!1),n[re]&=-9217,s)UF(r,n,r.template,n[Rt]);else if(i&8192){let a=ue(null);try{$C(n),zC(n,1);let u=r.components;u!==null&&GC(n,u,1),jC(n)}finally{ue(a)}}}function GC(n,e,t){for(let r=0;r<e.length;r++)$F(n,e[r],t)}function HF(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)li(~i);else{let o=i,s=t[++r],a=t[++r];c0(s,o);let u=e[o];Re(24,u),a(2,u),Re(25,u)}}}finally{li(-1)}}function xv(n,e){let t=wy()?64:1088;for(n[qn].changeDetectionScheduler?.notify(e);n;){n[re]|=t;let r=ri(n);if(Rs(n)&&!r)return n;n=r}return null}function WC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function zF(n,e,t,r=!0){let i=e[te];if(qF(i,e,n,t),r){let s=Zy(t,n),a=e[Ue],u=a.parentNode(n[ai]);u!==null&&nF(i,n[hn],a,e,u,s)}let o=e[Nc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ev(n,e){if(n.length<=Gt)return;let t=Gt+e,r=n[t];if(r){let i=r[co];i!==null&&i!==n&&Dv(i,r),e>0&&(n[t-1][dn]=r[dn]);let o=Sc(n,Gt+e);tF(r[te],r);let s=o[lo];s!==null&&s.detachView(o[te]),r[It]=null,r[dn]=null,r[re]&=-129}return r}function qF(n,e,t,r){let i=Gt+r,o=t.length;r>0&&(t[i-1][dn]=e),r<o-Gt?(e[dn]=t[i],Xm(t,Gt+r,e)):(t.push(e),e[dn]=null),e[It]=t;let s=e[co];s!==null&&t!==s&&KC(s,e);let a=e[lo];a!==null&&a.insertView(n),qd(e),e[re]|=128}function KC(n,e){let t=n[kc],r=e[It];if(Gn(r))n[re]|=2;else{let i=r[It][fn];e[fn]!==i&&(n[re]|=2)}t===null?n[kc]=[e]:t.push(e)}var hi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[te];return Hc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return fo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[It];if(Sn(e)){let t=e[Pc],r=t?t.indexOf(this):-1;r>-1&&(ev(e,r),Sc(t,r))}this._attachedToViewContainer=!1}kC(this._lView[te],this._lView)}onDestroy(e){gy(this._lView,e)}markForCheck(){xv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){qd(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,Mv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Rs(this._lView),t=this._lView[co];t!==null&&!e&&Dv(t,this._lView),PC(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=Rs(this._lView),r=this._lView[co];r!==null&&!t&&KC(r,this._lView),qd(this._lView)}};var Qc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=GF;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=NF(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new hi(o)}}return n})();function GF(){return QC(pt(),ye())}function QC(n,e){return n.type&4?new Qc(e,n,bh(n,e)):null}function kh(n,e,t,r,i){let o=n.data[e];if(o===null)o=WF(n,e,t,r,i),a0()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=n0();o.injectorIndex=s===null?-1:s.injectorIndex}return Ms(o,!0),o}function WF(n,e,t,r,i){let o=_y(),s=Ey(),a=s?o:o&&o.parent,u=n.data[e]=QF(n,a,t,e,r,i);return KF(n,u,o,s),u}function KF(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function QF(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return t0()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var hQ=new RegExp(`^(\\d+)*(${DO}|${wO})*(.*)`);var YF=()=>null;function M0(n,e){return YF(n,e)}var YC=class{},Oh=class{},tv=class{resolveComponentFactory(e){throw new B(917,!1)}},Yc=class{static NULL=new tv},vo=class{},Rr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>JF()}return n})();function JF(){let n=ye(),e=pt(),t=gn(e.index,n);return(Gn(t)?t:n)[Ue]}var JC=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var sh={},nv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,sh,r);return i!==sh||t===sh?i:this.parentInjector.get(e,t,r)}};function gh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Bm(i,a);else if(o==2){let u=a,l=e[++s];r=Bm(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function he(n,e=0){let t=ye();if(t===null)return W(n,e);let r=pt();return cC(r,t,Et(n),e)}function Pv(){let n="invalid";throw new Error(n)}function ZC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}eL(n,e,t,a,o,u,l)}o!==null&&r!==null&&ZF(t,r,o)}function ZF(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function XF(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function eL(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&Wn(y)&&(u=!0,XF(n,t,m)),Gy(dh(t,e),n,y.type)}sL(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=MC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=ks(t.mergedAttrs,y.hostAttrs),nL(n,t,e,p,y),oL(p,y,i),s!==null&&s.has(y)){let[P,N]=s.get(y);t.directiveToIndex.set(y.type,[p,P+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let C=y.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}tL(n,t,o)}function tL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))x0(0,e,i,r),x0(1,e,i,r),k0(e,r,!1);else{let o=t.get(i);P0(0,e,o,r),P0(1,e,o,r),k0(e,r,!0)}}}function x0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),XC(e,o)}}function P0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),XC(e,s)}}function XC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function k0(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||vv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function nL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ni(i.type,!0)),s=new yo(o,Wn(i),he,null);n.blueprint[r]=s,t[r]=s,rL(n,e,r,MC(n,t,i.hostVars,Mn),i)}function rL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;iL(s)!=a&&s.push(a),s.push(t,r,o)}}function iL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function oL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Wn(e)&&(t[""]=n)}}function sL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function kv(n,e,t,r,i,o,s,a){let u=e[te],l=u.consts,h=po(l,s),p=kh(u,n,t,r,h);return o&&ZC(u,e,p,po(l,a),i),p.mergedAttrs=ks(p.mergedAttrs,p.attrs),p.attrs!==null&&gh(p,p.attrs,!1),p.mergedAttrs!==null&&gh(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Ov(n,e){X0(n,e),uy(e)&&n.queries.elementEnd(e)}function aL(n,e,t,r,i,o){let s=e.consts,a=po(s,i),u=kh(e,n,t,r,a);if(u.mergedAttrs=ks(u.mergedAttrs,u.attrs),o!=null){let l=po(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&gh(u,u.attrs,!1),u.mergedAttrs!==null&&gh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Fv(n){return tS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function eS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function tS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Lv(n,e,t){return n[e]=t}function Ar(n,e,t){if(t===Mn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Vv(n,e,t,r){let i=Ar(n,e,t);return Ar(n,e+1,r)||i}function cL(n,e,t,r,i){let o=Vv(n,e,t,r);return Ar(n,e+2,i)||o}function Ly(n,e,t){return function r(i){let o=ci(n)?gn(n.index,e):e;xv(o,5);let s=e[Rt],a=O0(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=O0(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function O0(n,e,t,r){let i=ue(null);try{return Re(6,e,t),t(r)!==!1}catch(o){return CF(n,o),!1}finally{Re(7,e,t),ue(i)}}function uL(n,e,t,r,i,o,s,a){let u=As(n),l=!1,h=null;if(!r&&u&&(h=lL(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=An(n,t),m=r?r(p):p;bO(t,m,o,a);let y=i.listen(m,o,a),C=r?P=>r(pn(P[n.index])):n.index;nS(C,e,t,o,a,y,!1)}return l}function lL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Cs],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function nS(n,e,t,r,i,o,s){let a=e.firstCreatePass?Zb(e):null,u=Jb(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function F0(n,e,t,r,i,o){let s=e[t],a=e[te],l=a.data[t].outputs[r],p=s[l].subscribe(o);nS(n.index,a,e,i,o,p,!0)}var rv=Symbol("BINDING");var mh=class extends Yc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Cr(e);return new _o(t,this.ngModule)}};function dL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Nh.SignalBased)!==0};return i&&(o.transform=i),o})}function hL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function fL(n,e,t){let r=e instanceof je?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new nv(t,r):t}function pL(n){let e=n.get(vo,null);if(e===null)throw new B(407,!1);let t=n.get(JC,null),r=n.get(Dr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function gL(n,e){let t=rS(n);return SC(e,t,t==="svg"?ly:t==="math"?Wb:null)}function rS(n){return(n.selectors[0][0]||"div").toLowerCase()}var _o=class extends Oh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=dL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=hL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=HO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Re(22);let a=ue(null);try{let u=this.componentDef,l=mL(r,u,s,o),h=fL(u,i||this.ngModule,e),p=pL(h),m=p.rendererFactory.createRenderer(null,u),y=r?pF(m,r,u.encapsulation,h):gL(u,m),C=s?.some(L0)||o?.some(k=>typeof k!="function"&&k.bindings.some(L0)),P=Ev(null,l,null,512|NC(u),null,null,p,m,h,null,_C(y,h,!0));P[dt]=y,Kd(P);let N=null;try{let k=kv(dt,P,2,"#host",()=>l.directiveRegistry,!0,0);y&&(RC(m,y,k),Os(y,P)),xh(l,P,k),gv(l,k,P),Ov(l,k),t!==void 0&&vL(k,this.ngContentSelectors,t),N=gn(k.index,P),P[Rt]=N[Rt],Nv(l,P,null)}catch(k){throw N!==null&&Ky(N),Ky(P),k}finally{Re(23),Qd()}return new yh(this.componentType,P,!!C)}finally{ue(a)}}};function mL(n,e,t,r){let i=n?["ng-version","20.3.0"]:zO(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[rv].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[rv].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=ry(p);u.push(m)}return _v(0,null,yL(o,s),1,a,u,null,null,null,[i],null)}function yL(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function L0(n){let e=n[rv].kind;return e==="input"||e==="twoWay"}var yh=class extends YC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=$d(t[te],dt),this.location=bh(this._tNode,t),this.instance=gn(this._tNode.index,t)[Rt],this.hostView=this.changeDetectorRef=new hi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Rv(r,i[te],i,e,t);this.previousInputValues.set(e,t);let s=gn(r.index,i);xv(s,1)}get injector(){return new mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Do=(()=>{class n{static __NG_ELEMENT_ID__=_L}return n})();function _L(){let n=pt();return IL(n,ye())}var EL=Do,iS=class extends EL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return bh(this._hostTNode,this._hostLView)}get injector(){return new mo(this._hostTNode,this._hostLView)}get parentInjector(){let e=lv(this._hostTNode,this._hostLView);if(nC(e)){let t=uh(e,this._hostLView),r=ch(e),i=t[te].data[r+8];return new mo(i,t)}else return new mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=V0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=M0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,R0(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!J1(e),l;if(u)l=t;else{let N=t||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let h=u?e:new _o(Cr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let k=(u?p:this.parentInjector).get(je,null);k&&(o=k)}let m=Cr(h.componentType??{}),y=M0(this._lContainer,m?.id??null),C=y?.firstChild??null,P=h.create(p,i,C,o,s,a);return this.insertImpl(P.hostView,l,R0(this._hostTNode,y)),P}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Kb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[It],l=new iS(u,u[hn],u[It]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return zF(s,i,o,r),e.attachToViewContainerRef(),Xm(Vy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=V0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ev(this._lContainer,t);r&&(Sc(Vy(this._lContainer),t),kC(r[te],r))}detach(e){let t=this._adjustIndex(e,-1),r=ev(this._lContainer,t);return r&&Sc(Vy(this._lContainer),t)!=null?new hi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function V0(n){return n[Pc]}function Vy(n){return n[Pc]||(n[Pc]=[])}function IL(n,e){let t,r=e[n.index];return Sn(r)?t=r:(t=WC(r,e,null,n),e[n.index]=t,Iv(e,t)),DL(t,e,n,r),new iS(t,n,e)}function wL(n,e){let t=n[Ue],r=t.createComment(""),i=An(e,n),o=t.parentNode(i);return ph(t,o,r,t.nextSibling(i),!1),r}var DL=CL,TL=()=>!1;function bL(n,e,t){return TL(n,e,t)}function CL(n,e,t,r){if(n[ai])return;let i;t.type&8?i=pn(r):i=wL(e,t),n[ai]=i}var j0=new Set;function Vs(n){j0.has(n)||(j0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Eo=class{},Fh=class{};var vh=class extends Eo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new mh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=ny(e);this._bootstrapComponents=bC(o.bootstrap),this._r3Injector=Ay(e,t,[{provide:Eo,useValue:this},{provide:Yc,useValue:this.componentFactoryResolver},...r],wr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_h=class extends Fh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new vh(this.moduleType,e,[])}};var zc=class extends Eo{injector;componentFactoryResolver=new mh(this);instance=null;constructor(e){super();let t=new ro([...e.providers,{provide:Eo,useValue:this},{provide:Yc,useValue:this.componentFactoryResolver}],e.parent||Rc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function js(n,e,t=null){return new zc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var SL=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=iy(!1,t.type),i=r.length>0?js([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(W(je))})}return n})();function Te(n){return Ls(()=>{let e=oS(n),t=ce(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===dv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(SL).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Sr.Emulated,styles:n.styles||tn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Vs("NgStandalone"),sS(t);let r=n.dependencies;return t.directiveDefs=U0(r,AL),t.pipeDefs=U0(r,Ub),t.id=ML(t),t})}function AL(n){return Cr(n)||ry(n)}function xn(n){return Ls(()=>({type:n.type,bootstrap:n.bootstrap||tn,declarations:n.declarations||tn,imports:n.imports||tn,exports:n.exports||tn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function RL(n,e){if(n==null)return oi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Nh.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function NL(n){if(n==null)return oi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ot(n){return Ls(()=>{let e=oS(n);return sS(e),e})}function Us(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function oS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||oi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||tn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:RL(n.inputs,e),outputs:NL(n.outputs),debugInfo:null}}function sS(n){n.features?.forEach(e=>e(n))}function U0(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function ML(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function xL(n){return Object.getPrototypeOf(n.prototype).constructor}function Xn(n){let e=xL(n.type),t=!0,r=[n];for(;e;){let i;if(Wn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=jy(n.inputs),s.declaredInputs=jy(n.declaredInputs),s.outputs=jy(n.outputs);let a=i.hostBindings;a&&LL(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&OL(n,u),l&&FL(n,l),PL(n,i),xb(n.outputs,i.outputs),Wn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Xn&&(t=!1)}}e=Object.getPrototypeOf(e)}kL(r)}function PL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function kL(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ks(i.hostAttrs,t=ks(t,i.hostAttrs))}}function jy(n){return n===oi?{}:n===tn?[]:n}function OL(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function FL(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function LL(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function VL(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ks(n.mergedAttrs,n.attrs);let h=n.tView=_v(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Ms(n,!1);let u=UL(t,e,n,r);Jd()&&Tv(t,e,u,n),Os(u,e);let l=WC(u,e,u,n);e[r+dt]=l,Iv(e,l),bL(l,n,e)}function jL(n,e,t,r,i,o,s,a,u,l,h){let p=t+dt,m;return e.firstCreatePass?(m=kh(e,p,4,s||null,a||null),Gd()&&ZC(e,n,m,po(e.consts,l),Cv),X0(e,m)):m=e.data[p],VL(m,n,e,t,r,i,o,u),As(m)&&xh(e,n,m),l!=null&&Ph(n,m,h),m}function Se(n,e,t,r,i,o,s,a){let u=ye(),l=Vt(),h=po(l.consts,o);return jL(u,l,n,e,t,r,i,h,void 0,s,a),Se}var UL=BL;function BL(n,e,t,r){return jc(!0),e[Ue].createComment("")}var Lh=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Lh||{}),To=new $(""),aS=!1,iv=class extends et{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,qb()&&(this.destroyRef=R(Kn,{optional:!0})??void 0,this.pendingTasks=R(Qn,{optional:!0})??void 0)}emit(e){let t=ue(null);try{super.next(e)}finally{ue(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ze&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Oe=iv;function cS(n){let e,t;function r(){n=Uc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function B0(n){return queueMicrotask(()=>n()),()=>{n=Uc}}var jv="isAngularZone",Eh=jv+"_ID",$L=0,De=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Oe(!1);onMicrotaskEmpty=new Oe(!1);onStable=new Oe(!1);onError=new Oe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=aS}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,qL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,HL,Uc,Uc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},HL={};function Uv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zL(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){cS(()=>{n.callbackScheduled=!1,ov(n),n.isCheckStableRunning=!0,Uv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ov(n)}function qL(n){let e=()=>{zL(n)},t=$L++;n._inner=n._inner.fork({name:"angular",properties:{[jv]:!0,[Eh]:t,[Eh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(GL(u))return r.invokeTask(o,s,a,u);try{return $0(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),H0(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return $0(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!WL(u)&&e(),H0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ov(n),Uv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ov(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function $0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function H0(n){n._nesting--,Uv(n)}var Ih=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Oe;onMicrotaskEmpty=new Oe;onStable=new Oe;onError=new Oe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function GL(n){return uS(n,"__ignore_ng_zone__")}function WL(n){return uS(n,"__scheduler_tick__")}function uS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Bv=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),lS=[0,1,2,3],dS=(()=>{class n{ngZone=R(De);scheduler=R(Dr);errorHandler=R(bn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){R(To,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Re(16),this.executing=!0;for(let r of lS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Re(17)}register(t){let{view:r}=t;r!==void 0?((r[ho]??=[]).push(t),Ns(r),r[re]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Lh.AFTER_NEXT_RENDER,t):t()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),wh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ho];e&&(this.view[ho]=e.filter(t=>t!==this))}};function Vh(n,e){let t=e?.injector??R(qe);return Vs("NgAfterNextRender"),QL(n,t,e,!0)}function KL(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function QL(n,e,t,r){let i=e.get(Bv);i.impl??=e.get(dS);let o=e.get(To,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Kn):null,a=e.get(eh,null,{optional:!0}),u=new wh(i.impl,KL(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var $v=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Hv=new $("");function Nr(n){return!!n&&typeof n.then=="function"}function jh(n){return!!n&&typeof n.subscribe=="function"}var zv=new $("");function Uh(n){return nn([{provide:zv,multi:!0,useValue:n}])}var qv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=R(zv,{optional:!0})??[];injector=R(qe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ge(this.injector,i);if(Nr(o))t.push(o);else if(jh(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jc=new $("");function hS(){cm(()=>{let n="";throw new B(600,n)})}function fS(n){return n.isBoundToModule}var YL=10;var pi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(jt);afterRenderManager=R(Bv);zonelessEnabled=R(Xd);rootEffectScheduler=R(Py);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new et;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=R(Qn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(oe(t=>!t))}constructor(){R(To,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=R(je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=qe.NULL){return this._injector.get(De).run(()=>{Re(10);let s=t instanceof Oh;if(!this._injector.get(qv).done){let C="";throw new B(405,C)}let u;s?u=t:u=this._injector.get(Yc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=fS(u)?void 0:this._injector.get(Eo),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Hv,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),$c(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Re(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Re(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Lh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let t=ue(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ue(t),this.afterTick.next(),Re(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(vo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<YL;)Re(14),this.synchronizeOnce(),Re(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Oc(i))continue;let o=r&&!this.zonelessEnabled?0:1;Mv(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Oc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;$c(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Jc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$c(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $c(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Bs(n,e,t,r){let i=ye(),o=Vc();if(Ar(i,o,e)){let s=Vt(),a=Yd();DF(a,i,n,e,t,r)}return Bs}var Gv=new $("",{providedIn:"root",factory:()=>!1}),Wv=new $("",{providedIn:"root",factory:()=>JL}),JL=4e3;var _Q=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Y(n,e,t){let r=ye(),i=Vc();if(Ar(r,i,e)){let o=Vt(),s=Yd();LC(s,r,n,e,r[Ue],t)}return Y}function z0(n,e,t,r,i){Rv(e,n,t,i?"class":"style",r)}function M(n,e,t,r){let i=ye(),o=i[te],s=n+dt,a=o.firstCreatePass?kv(s,i,2,e,Cv,Gd(),t,r):o.data[s];if(Sv(a,i,n,e,pS),As(a)){let u=i[te];xh(u,i,a),gv(u,a,i)}return r!=null&&Ph(i,a),M}function x(){let n=Vt(),e=pt(),t=Av(e);return n.firstCreatePass&&Ov(n,t),yy(t)&&vy(),my(),t.classesWithoutHost!=null&&rO(t)&&z0(n,t,ye(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&iO(t)&&z0(n,t,ye(),t.stylesWithoutHost,!1),x}function de(n,e,t,r){return M(n,e,t,r),x(),de}function Kt(n,e,t,r){let i=ye(),o=i[te],s=n+dt,a=o.firstCreatePass?aL(s,o,2,e,t,r):o.data[s];return Sv(a,i,n,e,pS),r!=null&&Ph(i,a),Kt}function Pn(){let n=pt(),e=Av(n);return yy(e)&&vy(),my(),Pn}function bo(n,e,t,r){return Kt(n,e,t,r),Pn(),bo}var pS=(n,e,t,r,i)=>(jc(!0),SC(e[Ue],r,g0()));function Bh(n,e,t){let r=ye(),i=r[te],o=n+dt,s=i.firstCreatePass?kv(o,r,8,"ng-container",Cv,Gd(),e,t):i.data[o];if(Sv(s,r,n,"ng-container",ZL),As(s)){let a=r[te];xh(a,r,s),gv(a,s,r)}return t!=null&&Ph(r,s),Bh}function $h(){let n=Vt(),e=pt(),t=Av(e);return n.firstCreatePass&&Ov(n,t),$h}var ZL=(n,e,t,r,i)=>(jc(!0),WO(e[Ue],""));function mn(){return ye()}var go=void 0;function XL(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var eV=["en",[["a","p"],["AM","PM"],go],[["AM","PM"],go,go],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],go,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],go,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",go,"{1} 'at' {0}",go],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",XL],Uy={};function Hh(n){let e=tV(n),t=q0(e);if(t)return t;let r=e.split("-")[0];if(t=q0(r),t)return t;if(r==="en")return eV;throw new B(701,!1)}function q0(n){return n in Uy||(Uy[n]=Tr.ng&&Tr.ng.common&&Tr.ng.common.locales&&Tr.ng.common.locales[n]),Uy[n]}var Co=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(Co||{});function tV(n){return n.toLowerCase().replace(/_/g,"-")}var Zc="en-US";var nV=Zc;function gS(n){typeof n=="string"&&(nV=n.toLowerCase().replace(/_/g,"-"))}function Ke(n,e,t){let r=ye(),i=Vt(),o=pt();return mS(i,r,r[Ue],o,n,e,t),Ke}function mS(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Ly(r,e,o),uL(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Ly(r,e,o),F0(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Ly(r,e,o),F0(r,e,p,i,i,u)}}function Le(n=1){return p0(n)}function yn(n){let e=i0();return Hd(e,dt+n)}function rh(n,e){return n<<17|e<<2}function Io(n){return n>>17&32767}function rV(n){return(n&2)==2}function iV(n,e){return n&131071|e<<17}function sv(n){return n|2}function Fs(n){return(n&131068)>>2}function By(n,e){return n&-131069|e<<2}function oV(n){return(n&1)===1}function av(n){return n|1}function sV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Io(s),u=Fs(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||bs(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Io(n[a+1]);n[r+1]=rh(m,a),m!==0&&(n[m+1]=By(n[m+1],r)),n[a+1]=iV(n[a+1],r)}else n[r+1]=rh(a,0),a!==0&&(n[a+1]=By(n[a+1],r)),a=r;else n[r+1]=rh(u,0),a===0?a=r:n[u+1]=By(n[u+1],r),u=r;l&&(n[r+1]=sv(n[r+1])),G0(n,h,r,!0),G0(n,h,r,!1),aV(e,h,n,r,o),s=rh(a,u),o?e.classBindings=s:e.styleBindings=s}function aV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&bs(o,e)>=0&&(t[r+1]=av(t[r+1]))}function G0(n,e,t,r){let i=n[t+1],o=e===null,s=r?Io(i):Fs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];cV(u,e)&&(a=!0,n[s+1]=r?av(l):sv(l)),s=r?Io(l):Fs(l)}a&&(n[t+1]=r?sv(i):av(i))}function cV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?bs(n,e)>=0:!1}function zh(n,e,t){return yS(n,e,t,!1),zh}function Xc(n,e){return yS(n,e,null,!0),Xc}function yS(n,e,t,r){let i=ye(),o=Vt(),s=Ty(2);if(o.firstUpdatePass&&lV(o,n,s,r),e!==Mn&&Ar(i,s,e)){let a=o.data[ui()];gV(o,a,i,i[Ue],n,i[s+1]=mV(e,t),r,s)}}function uV(n,e){return e>=n.expandoStartIndex}function lV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ui()],s=uV(n,t);yV(o,r)&&e===null&&!s&&(e=!1),e=dV(i,o,e,r),sV(i,o,e,t,s,r)}}function dV(n,e,t,r){let i=l0(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=$y(null,n,e,t,r),t=qc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=$y(i,n,e,t,r),o===null){let u=hV(n,e,r);u!==void 0&&Array.isArray(u)&&(u=$y(null,n,e,u[1],r),u=qc(u,e.attrs,r),fV(n,e,r,u))}else o=pV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function hV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Fs(r)!==0)return n[Io(r)]}function fV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Io(i)]=r}function pV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=qc(r,s,t)}return qc(r,e.attrs,t)}function $y(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=qc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function qc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),jb(n,s,t?!0:e[++o]))}return n===void 0?null:n}function gV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=oV(l)?W0(u,e,t,i,Fs(l),s):void 0;if(!Dh(h)){Dh(o)||rV(l)&&(o=W0(u,null,t,i,a,s));let p=dy(ui(),t);fF(r,s,p,i,o)}}function W0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Mn&&(m=p?tn:void 0);let y=p?Ud(m,r):h===r?m:void 0;if(l&&!Dh(y)&&(y=Ud(u,r)),Dh(y)&&(a=y,s))return a;let C=n[i+1];i=s?Io(C):Fs(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ud(u,r))}return a}function Dh(n){return n!==void 0}function mV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=wr(Wc(n)))),n}function yV(n,e){return(n.flags&(e?8:16))!==0}function F(n,e=""){let t=ye(),r=Vt(),i=n+dt,o=r.firstCreatePass?kh(r,i,1,e,null):r.data[i],s=vV(r,t,o,e,n);t[i]=s,Jd()&&Tv(r,t,s,o),Ms(o,!1)}var vV=(n,e,t,r,i)=>(jc(!0),qO(e[Ue],r));function vS(n,e,t,r=""){return Ar(n,Vc(),t)?e+oo(t)+r:Mn}function _V(n,e,t,r,i,o=""){let s=o0(),a=Vv(n,s,t,i);return Ty(2),a?e+oo(t)+r+oo(i)+o:Mn}function Be(n){return Ne("",n),Be}function Ne(n,e,t){let r=ye(),i=vS(r,n,e,t);return i!==Mn&&_S(r,ui(),i),Ne}function eu(n,e,t,r,i){let o=ye(),s=_V(o,n,e,t,r,i);return s!==Mn&&_S(o,ui(),s),eu}function _S(n,e,t){let r=dy(e,n);GO(n[Ue],r,t)}function tu(n,e,t){Ny(e)&&(e=e());let r=ye(),i=Vc();if(Ar(r,i,e)){let o=Vt(),s=Yd();LC(s,r,n,e,r[Ue],t)}return tu}function qh(n,e){let t=Ny(n);return t&&n.set(e),t}function nu(n,e){let t=ye(),r=Vt(),i=pt();return mS(r,t,t[Ue],i,n,e),nu}function Gh(n,e,t=""){return vS(ye(),n,e,t)}function EV(n,e,t){let r=Vt();if(r.firstCreatePass){let i=Wn(n);cv(t,r.data,r.blueprint,i,!0),cv(e,r.data,r.blueprint,i,!1)}}function cv(n,e,t,r,i){if(n=Et(n),Array.isArray(n))for(let o=0;o<n.length;o++)cv(n[o],e,t,r,i);else{let o=Vt(),s=ye(),a=pt(),u=no(n)?n:Et(n.provide),l=sy(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(no(n)||!n.multi){let y=new yo(l,i,he,null),C=zy(u,e,i?h:h+m,p);C===-1?(Gy(dh(a,s),o,u),Hy(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[C]=y,s[C]=y)}else{let y=zy(u,e,h+m,p),C=zy(u,e,h,h+m),P=y>=0&&t[y],N=C>=0&&t[C];if(i&&!N||!i&&!P){Gy(dh(a,s),o,u);let k=DV(i?wV:IV,t.length,i,r,l,n);!i&&N&&(t[C].providerFactory=k),Hy(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=ES(t[i?C:y],l,!i&&r);Hy(o,n,y>-1?y:C,k)}!i&&r&&N&&t[C].componentProviders++}}}function Hy(n,e,t,r){let i=no(e),o=zb(e);if(i||o){let u=(o?Et(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function ES(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function zy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function IV(n,e,t,r,i){return uv(this.multi,[])}function wV(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=hh(r,r[te],this.providerFactory.index,i);s=u.slice(0,a),uv(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],uv(o,s);return s}function uv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function DV(n,e,t,r,i,o){let s=new yo(n,t,he,null);return s.multi=[],s.index=e,s.componentProviders=0,ES(s,i,r&&!t),s}function $s(n,e=[]){return t=>{t.providersResolver=(r,i)=>EV(r,i?i(n):n,e)}}function ru(n,e,t,r,i){return IS(ye(),Lc(),n,e,t,r,i)}function Kv(n,e,t,r,i,o){return bV(ye(),Lc(),n,e,t,r,i,o)}function Qv(n,e){let t=n[e];return t===Mn?void 0:t}function TV(n,e,t,r,i,o){let s=e+t;return Ar(n,s,i)?Lv(n,s+1,o?r.call(o,i):r(i)):Qv(n,s+1)}function IS(n,e,t,r,i,o,s){let a=e+t;return Vv(n,a,i,o)?Lv(n,a+2,s?r.call(s,i,o):r(i,o)):Qv(n,a+2)}function bV(n,e,t,r,i,o,s,a){let u=e+t;return cL(n,u,i,o,s)?Lv(n,u+3,a?r.call(a,i,o,s):r(i,o,s)):Qv(n,u+3)}function Mr(n,e){let t=Vt(),r,i=n+dt;t.firstCreatePass?(r=CV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ni(r.type,!0)),s,a=Lt(he);try{let u=lh(!1),l=o();return lh(u),hy(t,ye(),i,l),l}finally{Lt(a)}}function CV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Hs(n,e,t){let r=n+dt,i=ye(),o=Hd(i,r);return wS(i,r)?TV(i,Lc(),e,o.transform,t,o):o.transform(t)}function Wh(n,e,t,r){let i=n+dt,o=ye(),s=Hd(o,i);return wS(o,i)?IS(o,Lc(),e,s.transform,t,r,s):s.transform(t,r)}function wS(n,e){return n[te].data[e].pure}function er(n,e){return QC(n,e)}var Th=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Yv=(()=>{class n{compileModuleSync(t){return new _h(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=ny(t),o=bC(i.declarations).reduce((s,a)=>{let u=Cr(a);return u&&s.push(new _o(u)),s},[]);return new Th(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var SV=(()=>{class n{zone=R(De);changeDetectionScheduler=R(Dr);applicationRef=R(pi);applicationErrorHandler=R(jt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DS({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(ce(L({},TS()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:si,multi:!0,useFactory:()=>{let r=R(SV,{optional:!0});return()=>r.initialize()}},{provide:si,multi:!0,useFactory:()=>{let r=R(AV);return()=>{r.initialize()}}},e===!0?{provide:My,useValue:!0}:[],{provide:xy,useValue:t??aS},{provide:jt,useFactory:()=>{let r=R(De),i=R(je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(bn),o.handleError(s))})}}}]}function TS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var AV=(()=>{class n{subscription=new ze;initialized=!1;zone=R(De);pendingTasks=R(Qn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bS=(()=>{class n{applicationErrorHandler=R(jt);appRef=R(pi);taskService=R(Qn);ngZone=R(De);zonelessEnabled=R(Xd);tracing=R(To,{optional:!0});disableScheduling=R(My,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Eh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(xy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ih||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?B0:cS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Eh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,B0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RV(){return typeof $localize<"u"&&$localize.locale||Zc}var iu=new $("",{providedIn:"root",factory:()=>R(iu,{optional:!0,skipSelf:!0})||RV()});function st(n){return Rb(n)}function zs(n,e){return sd(n,e?.equal)}var CS=class{[St];constructor(e){this[St]=e}destroy(){this[St].destroy()}};var MS=Symbol("InputSignalNode#UNSET"),zV=ce(L({},ad),{transformFn:void 0,applyValueToInputSignal(n,e){us(n,e)}});function xS(n,e){let t=Object.create(zV);t.value=n,t.transformFn=e?.transform;function r(){if(ss(t),t.value===MS){let i=null;throw new B(-950,i)}return t.value}return r[St]=t,r}var Qh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Gc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},qV=new $("");qV.__NG_ELEMENT_ID__=n=>{let e=pt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new B(204,!1)};function SS(n,e){return xS(n,e)}function GV(n){return xS(MS,n)}var PS=(SS.required=GV,SS);var So=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},kS=new So("20.3.0");var Jv=new $(""),WV=new $("");function ou(n){return!n.moduleRef}function KV(n){let e=ou(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{ou(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(jt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),ou(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Jv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Jv);s.add(o),n.moduleRef.onDestroy(()=>{$c(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return YV(r,t,()=>{let o=e.get(Qn),s=o.add(),a=e.get(qv);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(iu,Zc);if(gS(u||Zc),!e.get(WV,!0))return ou(n)?e.get(pi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ou(n)){let h=e.get(pi);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return QV?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var QV;function YV(n,e,t){try{let r=t();return Nr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Kh=null;function JV(n=[],e){return qe.create({name:e,providers:[{provide:Ac,useValue:"platform"},{provide:Jv,useValue:new Set([()=>Kh=null])},...n]})}function ZV(n=[]){if(Kh)return Kh;let e=JV(n);return Kh=e,hS(),XV(e),e}function XV(n){let e=n.get(Sh,null);Ge(n,()=>{e?.forEach(t=>t())})}function n_(){return!1}var gi=(()=>{class n{static __NG_ELEMENT_ID__=e2}return n})();function e2(n){return t2(pt(),ye(),(n&16)===16)}function t2(n,e,t){if(ci(n)&&!t){let r=gn(n.index,e);return new hi(r,r)}else if(n.type&175){let r=e[fn];return new hi(r,e)}return null}var Zv=class{constructor(){}supports(e){return Fv(e)}create(e){return new Xv(e)}},n2=(n,e)=>e,Xv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||n2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<AS(r,i,o)?t:r,a=AS(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;h<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Fv(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,eS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new e_(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Yh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Yh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},e_=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},t_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Yh=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new t_,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function AS(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function RS(){return new r_([new Zv])}var r_=(()=>{class n{factories;static \u0275prov=H({token:n,providedIn:"root",factory:RS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=R(n,{optional:!0,skipSelf:!0});return n.create(t,r||RS())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new B(901,!1)}}return n})();function OS(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Re(8);try{let o=i?.injector??ZV(r),s=[DS({}),{provide:Dr,useExisting:bS},y0,...t||[]],a=new zc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return KV({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Re(9)}}function mi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function FS(n){let e=Cr(n);if(!e)return null;let t=new _o(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var jS=null;function vn(){return jS}function i_(n){jS??=n}var su=class{},au=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>R(US),providedIn:"platform"})}return n})(),o_=new $(""),US=(()=>{class n extends au{_location;_history;_doc=R(We);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vn().getBaseHref(this._doc)}onPopState(t){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Jh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function LS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function kn(n){return n&&n[0]!=="?"?`?${n}`:n}var On=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>R(Xh),providedIn:"root"})}return n})(),Zh=new $(""),Xh=(()=>{class n extends On{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Jh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+kn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+kn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+kn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(au),W(Zh,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yi=(()=>{class n{_subject=new et;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=o2(LS(VS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+kn(r))}normalize(t){return n.stripTrailingSlash(i2(this._basePath,VS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+kn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+kn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=kn;static joinWithSlash=Jh;static stripTrailingSlash=LS;static \u0275fac=function(r){return new(r||n)(W(On))};static \u0275prov=H({token:n,factory:()=>r2(),providedIn:"root"})}return n})();function r2(){return new yi(W(On))}function i2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function VS(n){return n.replace(/\/index.html$/,"")}function o2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var d_=(()=>{class n extends On{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Jh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+kn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+kn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(au),W(Zh,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var h_=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(h_||{});var tr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qs(n,e){let t=Hh(n),r=t[Co.NumberSymbols][e];if(typeof r>"u"){if(e===tr.CurrencyDecimal)return t[Co.NumberSymbols][tr.Decimal];if(e===tr.CurrencyGroup)return t[Co.NumberSymbols][tr.Group]}return r}function qS(n,e){return Hh(n)[Co.NumberFormats][e]}var s2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,BS=22,ef=".",cu="0",a2=";",c2=",",s_="#";function u2(n,e,t,r,i,o,s=!1){let a="",u=!1;if(!isFinite(n))a=qs(t,tr.Infinity);else{let l=h2(n);s&&(l=d2(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let G=o.match(s2);if(G===null)throw new B(2306,!1);let Q=G[1],Z=G[3],ke=G[5];Q!=null&&(h=a_(Q)),Z!=null&&(p=a_(Z)),ke!=null?m=a_(ke):Z!=null&&p>m&&(m=p)}f2(l,p,m);let y=l.digits,C=l.integerLen,P=l.exponent,N=[];for(u=y.every(G=>!G);C<h;C++)y.unshift(0);for(;C<0;C++)y.unshift(0);C>0?N=y.splice(C,y.length):(N=y,y=[0]);let k=[];for(y.length>=e.lgSize&&k.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)k.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&k.unshift(y.join("")),a=k.join(qs(t,r)),N.length&&(a+=qs(t,i)+N.join("")),P&&(a+=qs(t,tr.Exponential)+"+"+P)}return n<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function GS(n,e,t){let r=qS(e,h_.Decimal),i=l2(r,qs(e,tr.MinusSign));return u2(n,i,e,tr.Group,tr.Decimal,t)}function l2(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(a2),i=r[0],o=r[1],s=i.indexOf(ef)!==-1?i.split(ef):[i.substring(0,i.lastIndexOf(cu)+1),i.substring(i.lastIndexOf(cu)+1)],a=s[0],u=s[1]||"";t.posPre=a.substring(0,a.indexOf(s_));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===cu?t.minFrac=t.maxFrac=h+1:p===s_?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(c2);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(s_);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function d2(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function h2(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(ef))>-1&&(e=e.replace(ef,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===cu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===cu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>BS&&(r=r.splice(0,BS-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function f2(n,e,t){if(e>t)throw new B(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,m,y,C){return m=m+p,C[y]=m<10?m:m-10,u&&(C[y]===0&&y>=l?C.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function a_(n){let e=parseInt(n);if(isNaN(e))throw new B(2305,!1);return e}var c_=/\s+/,$S=[],xr=(()=>{class n{_ngEl;_renderer;initialClasses=$S;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(c_):$S}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(c_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(c_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(he(Zn),he(Rr))};static \u0275dir=ot({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var tf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Yt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new tf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),HS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);HS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(he(Do),he(Qc),he(r_))};static \u0275dir=ot({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function HS(n,e){n.context.$implicit=e.item}var Ut=(()=>{class n{_viewContainer;_context=new nf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(he(Do),he(Qc))};static \u0275dir=ot({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),nf=class{$implicit=null;ngIf=null};function zS(n,e){if(n&&!n.createEmbeddedView)throw new B(2020,!1)}function WS(n,e){return new B(2100,!1)}var u_=class{createSubscription(e,t,r){return st(()=>e.subscribe({next:t,error:r}))}dispose(e){st(()=>e.unsubscribe())}},l_=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},p2=new l_,g2=new u_,f_=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=R(jt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Nr(t))return p2;if(jh(t))return g2;throw WS(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(he(gi,16))};static \u0275pipe=Us({name:"async",type:n,pure:!1})}return n})();var p_=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!m2(t))return null;i||=this._locale;try{let o=y2(t);return GS(o,i,r)}catch(o){throw WS(n,o.message)}}static \u0275fac=function(r){return new(r||n)(he(iu,16))};static \u0275pipe=Us({name:"number",type:n,pure:!0})}return n})();function m2(n){return!(n==null||n===""||n!==n)}function y2(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new B(2309,!1);return n}var Ae=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xn({type:n});static \u0275inj=ln({})}return n})();function uu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ao=class{};var KS="browser";var QS=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new g_(R(We),window)})}return n})(),g_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ce(L({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=v2(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(ii(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ce(L({},t),{left:i-s[0],top:o-s[1]}))}};function v2(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var of=new $(""),E_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(W(of),W(De))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),lu=class{_doc;constructor(e){this._doc=e}manager},m_="ng-app-id";function YS(n){for(let e of n)e.remove()}function JS(n,e){let t=e.createElement("style");return t.textContent=n,t}function _2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${m_}="${e}"],link[${m_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(m_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function v_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var I_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,_2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,JS);r?.forEach(i=>this.addUsage(i,this.external,v_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(YS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])YS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,JS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,v_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(W(We),W(Ch),W(Ah,8),W(fi))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),y_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},w_=/%COMP%/g;var XS="%COMP%",E2=`_nghost-${XS}`,I2=`_ngcontent-${XS}`,w2=!0,D2=new $("",{providedIn:"root",factory:()=>w2});function T2(n){return I2.replace(w_,n)}function b2(n){return E2.replace(w_,n)}function eA(n,e){return e.map(t=>t.replace(w_,n))}var D_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(t,r,i,o,s,a,u,l=null,h,p,m=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.animationDisabled=h,this.maxAnimationTimeout=p,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new du(t,s,u,this.platformIsServer,this.tracingService,this.registry=Zd(),this.maxAnimationTimeout)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof rf?i.applyToHost(t):i instanceof hu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Sr.Emulated:o=new rf(u,l,r,this.appId,h,s,a,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Sr.ShadowDom:return new __(u,l,t,r,s,a,this.nonce,p,m,this.registry,this.maxAnimationTimeout);default:o=new hu(u,l,r,h,s,a,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(W(E_),W(I_),W(Ch),W(D2),W(We),W(fi),W(De),W(Ah),W(Gv),W(Wv),W(To,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),du=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o,s,a){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(y_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ZS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ZS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){let{elements:r}=this.registry;if(r){r.animate(t,()=>t.remove(),this.maxAnimationTimeout);return}t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=y_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=y_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Jn.DashCase|Jn.Important)?e.style.setProperty(t,r,i&Jn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Jn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=vn().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function ZS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var __=class extends du{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l,h,p){super(e,o,s,u,l,h,p),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=eA(i.id,m);for(let C of m){let P=document.createElement("style");a&&P.setAttribute("nonce",a),P.textContent=C,this.shadowRoot.appendChild(P)}let y=i.getExternalStyles?.();if(y)for(let C of y){let P=v_(C,o);a&&P.setAttribute("nonce",a),this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},hu=class extends du{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,t,r,i,o,s,a,u,l,h,p,m){super(e,o,s,a,u,l,p),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this._animationDisabled=h;let y=r.styles;this.styles=m?eA(m,y):y,this.styleUrls=r.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},rf=class extends hu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l,h,p,m){let y=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h,p,m,y),this.contentAttr=T2(y),this.hostAttr=b2(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var sf=class n extends su{supportsDOMEvents=!0;static makeCurrent(){i_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=C2();return t==null?null:S2(t)}resetBaseElement(){fu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uu(document.cookie,e)}},fu=null;function C2(){return fu=fu||document.head.querySelector("base"),fu?fu.getAttribute("href"):null}function S2(n){return new URL(n,document.baseURI).pathname}var A2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),nA=(()=>{class n extends lu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(W(We))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),tA=["alt","control","meta","shift"],R2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},rA=(()=>{class n extends lu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),tA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=R2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),tA.forEach(s=>{if(s!==i){let a=N2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(W(We))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function T_(n,e,t){let r=L({rootComponent:n,platformRef:t?.platformRef},M2(e));return OS(r)}function M2(n){return{appProviders:[...F2,...n?.providers??[]],platformProviders:O2}}function x2(){sf.makeCurrent()}function P2(){return new bn}function k2(){return hv(document),document}var O2=[{provide:fi,useValue:KS},{provide:Sh,useValue:x2,multi:!0},{provide:We,useFactory:k2}];var F2=[{provide:Ac,useValue:"root"},{provide:bn,useFactory:P2},{provide:of,useClass:nA,multi:!0,deps:[We]},{provide:of,useClass:rA,multi:!0,deps:[We]},D_,I_,E_,{provide:vo,useExisting:D_},{provide:Ao,useClass:A2},[]];var Ws=class{},mu=class{},Ro=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var cf=class{encodeKey(e){return iA(e)}encodeValue(e){return iA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function L2(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var V2=/%(\d[a-f0-9])/gi,j2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iA(n){return encodeURIComponent(n).replace(V2,(e,t)=>j2[t]??e)}function af(n){return`${n}`}var vi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new cf,e.fromString){if(e.fromObject)throw new B(2805,!1);this.map=L2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(af):[af(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(af(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(af(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var uf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function U2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function oA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function sA(n){return typeof Blob<"u"&&n instanceof Blob}function aA(n){return typeof FormData<"u"&&n instanceof FormData}function B2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var cA="Content-Type",uA="Accept",lA="X-Request-URL",dA="text/plain",hA="application/json",$2=`${hA}, ${dA}, */*`,pu=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(U2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new B(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Ro,this.context??=new uf,!this.params)this.params=new vi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||oA(this.body)||sA(this.body)||aA(this.body)||B2(this.body)?this.body:this.body instanceof vi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||aA(this.body)?null:sA(this.body)?this.body.type||null:oA(this.body)?null:typeof this.body=="string"?dA:this.body instanceof vi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?hA:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,u=e.mode||this.mode,l=e.redirect||this.redirect,h=e.credentials||this.credentials,p=e.referrer||this.referrer,m=e.integrity||this.integrity,y=e.transferCache??this.transferCache,C=e.timeout??this.timeout,P=e.body!==void 0?e.body:this.body,N=e.withCredentials??this.withCredentials,k=e.reportProgress??this.reportProgress,G=e.headers||this.headers,Q=e.params||this.params,Z=e.context??this.context;return e.setHeaders!==void 0&&(G=Object.keys(e.setHeaders).reduce((ke,pe)=>ke.set(pe,e.setHeaders[pe]),G)),e.setParams&&(Q=Object.keys(e.setParams).reduce((ke,pe)=>ke.set(pe,e.setParams[pe]),Q)),new n(t,r,P,{params:Q,headers:G,context:Z,reportProgress:k,responseType:i,withCredentials:N,transferCache:y,keepalive:o,cache:a,priority:s,timeout:C,mode:u,redirect:l,credentials:h,referrer:p,integrity:m})}},Gs=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Gs||{}),Ks=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new Ro,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},lf=class n extends Ks{constructor(e={}){super(e)}type=Gs.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},df=class n extends Ks{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Gs.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},gu=class extends Ks{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},H2=200,z2=204;function b_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var q2=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof pu)o=t;else{let u;i.headers instanceof Ro?u=i.headers:u=new Ro(i.headers);let l;i.params&&(i.params instanceof vi?l=i.params:l=new vi({fromObject:i.params})),o=new pu(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=K(o).pipe(zn(u=>this.handler.handle(u)));if(t instanceof pu||i.observe==="events")return s;let a=s.pipe(At(u=>u instanceof df));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(oe(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new B(2806,!1);return u.body}));case"blob":return a.pipe(oe(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new B(2807,!1);return u.body}));case"text":return a.pipe(oe(u=>{if(u.body!==null&&typeof u.body!="string")throw new B(2808,!1);return u.body}));case"json":default:return a.pipe(oe(u=>u.body))}case"response":return a;default:throw new B(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new vi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,b_(i,r))}post(t,r,i={}){return this.request("POST",t,b_(i,r))}put(t,r,i={}){return this.request("PUT",t,b_(i,r))}static \u0275fac=function(r){return new(r||n)(W(Ws))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var G2=new $("");function W2(n,e){return e(n)}function K2(n,e,t){return(r,i)=>Ge(t,()=>e(r,o=>n(o,i)))}var S_=new $(""),Q2=new $(""),fA=new $("",{providedIn:"root",factory:()=>!0});var hf=(()=>{class n extends Ws{backend;injector;chain=null;pendingTasks=R(di);contributeToStability=R(fA);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(S_),...this.injector.get(Q2,[])]));this.chain=r.reduceRight((i,o)=>K2(i,o,this.injector),W2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Xi(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(W(mu),W(je))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var Y2=/^\)\]\}',?\n/,J2=RegExp(`^${lA}:`,"m");function Z2(n){return"responseURL"in n&&n.responseURL?n.responseURL:J2.test(n.getAllResponseHeaders())?n.getResponseHeader(lA):null}var C_=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new B(-2800,!1);let r=this.xhrFactory;return K(null).pipe(Ze(()=>new ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,k)=>s.setRequestHeader(N,k.join(","))),t.headers.has(uA)||s.setRequestHeader(uA,$2),!t.headers.has(cA)){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader(cA,N)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",k=new Ro(s.getAllResponseHeaders()),G=Z2(s)||t.url;return u=new lf({headers:k,status:s.status,statusText:N,url:G}),u},h=()=>{let{headers:N,status:k,statusText:G,url:Q}=l(),Z=null;k!==z2&&(Z=typeof s.response>"u"?s.responseText:s.response),k===0&&(k=Z?H2:0);let ke=k>=200&&k<300;if(t.responseType==="json"&&typeof Z=="string"){let pe=Z;Z=Z.replace(Y2,"");try{Z=Z!==""?JSON.parse(Z):null}catch(D){Z=pe,ke&&(ke=!1,Z={error:D,text:Z})}}ke?(o.next(new df({body:Z,headers:N,status:k,statusText:G,url:Q||void 0})),o.complete()):o.error(new gu({error:Z,headers:N,status:k,statusText:G,url:Q||void 0}))},p=N=>{let{url:k}=l(),G=new gu({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});o.error(G)},m=p;t.timeout&&(m=N=>{let{url:k}=l(),G=new gu({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:k||void 0});o.error(G)});let y=!1,C=N=>{y||(o.next(l()),y=!0);let k={type:Gs.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(k.total=N.total),t.responseType==="text"&&s.responseText&&(k.partialText=s.responseText),o.next(k)},P=N=>{let k={type:Gs.UploadProgress,loaded:N.loaded};N.lengthComputable&&(k.total=N.total),o.next(k)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",m),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",C),a!==null&&s.upload&&s.upload.addEventListener("progress",P)),s.send(a),o.next({type:Gs.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",C),a!==null&&s.upload&&s.upload.removeEventListener("progress",P)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(W(Ao))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),pA=new $(""),X2="XSRF-TOKEN",ej=new $("",{providedIn:"root",factory:()=>X2}),tj="X-XSRF-TOKEN",nj=new $("",{providedIn:"root",factory:()=>tj}),yu=class{},rj=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=uu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(W(We),W(ej))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function ij(n,e){let t=n.url.toLowerCase();if(!R(pA)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=R(yu).getToken(),i=R(nj);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var A_=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(A_||{});function oj(n,e){return{\u0275kind:n,\u0275providers:e}}function R_(...n){let e=[q2,C_,hf,{provide:Ws,useExisting:hf},{provide:mu,useFactory:()=>R(G2,{optional:!0})??R(C_)},{provide:S_,useValue:ij,multi:!0},{provide:pA,useValue:!0},{provide:yu,useClass:rj}];for(let t of n)e.push(...t.\u0275providers);return nn(e)}function N_(n){return oj(A_.Interceptors,n.map(e=>({provide:S_,useValue:e,multi:!0})))}var gA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(W(We))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var se="primary",Nu=Symbol("RouteTitle"),O_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function xo(n){return new O_(n)}function DA(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function aj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!nr(n[t],e[t]))return!1;return!0}function nr(n,e){let t=n?F_(n):void 0,r=e?F_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!TA(n[i],e[i]))return!1;return!0}function F_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function TA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function bA(n){return n.length>0?n[n.length-1]:null}function Pr(n){return Tm(n)?n:Nr(n)?xe(Promise.resolve(n)):K(n)}var cj={exact:SA,subset:AA},CA={exact:uj,subset:lj,ignored:()=>!0};function mA(n,e,t){return cj[t.paths](n.root,e.root,t.matrixParams)&&CA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function uj(n,e){return nr(n,e)}function SA(n,e,t){if(!No(n.segments,e.segments)||!gf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!SA(n.children[r],e.children[r],t))return!1;return!0}function lj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>TA(n[t],e[t]))}function AA(n,e,t){return RA(n,e,e.segments,t)}function RA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!No(i,t)||e.hasChildren()||!gf(i,t,r))}else if(n.segments.length===t.length){if(!No(n.segments,t)||!gf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!AA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!No(n.segments,i)||!gf(n.segments,i,r)||!n.children[se]?!1:RA(n.children[se],e,o,r)}}function gf(n,e,t){return e.every((r,i)=>CA[t](n[i].parameters,r.parameters))}var ir=class{root;queryParams;fragment;_queryParamMap;constructor(e=new be([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xo(this.queryParams),this._queryParamMap}toString(){return fj.serialize(this)}},be=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mf(this)}},_i=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=xo(this.parameters),this._parameterMap}toString(){return MA(this)}};function dj(n,e){return No(n,e)&&n.every((t,r)=>nr(t.parameters,e[r].parameters))}function No(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function hj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==se&&(t=t.concat(e(i,r)))}),t}var Po=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new Ei,providedIn:"root"})}return n})(),Ei=class{parse(e){let t=new V_(e);return new ir(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${vu(e.root,!0)}`,r=mj(e.queryParams),i=typeof e.fragment=="string"?`#${pj(e.fragment)}`:"";return`${t}${r}${i}`}},fj=new Ei;function mf(n){return n.segments.map(e=>MA(e)).join("/")}function vu(n,e){if(!n.hasChildren())return mf(n);if(e){let t=n.children[se]?vu(n.children[se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${vu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=hj(n,(r,i)=>i===se?[vu(n.children[se],!1)]:[`${i}:${vu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${mf(n)}/${t[0]}`:`${mf(n)}/(${t.join("//")})`}}function NA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ff(n){return NA(n).replace(/%3B/gi,";")}function pj(n){return encodeURI(n)}function L_(n){return NA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yf(n){return decodeURIComponent(n)}function yA(n){return yf(n.replace(/\+/g,"%20"))}function MA(n){return`${L_(n.path)}${gj(n.parameters)}`}function gj(n){return Object.entries(n).map(([e,t])=>`;${L_(e)}=${L_(t)}`).join("")}function mj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ff(t)}=${ff(i)}`).join("&"):`${ff(t)}=${ff(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var yj=/^[^\/()?;#]+/;function M_(n){let e=n.match(yj);return e?e[0]:""}var vj=/^[^\/()?;=#]+/;function _j(n){let e=n.match(vj);return e?e[0]:""}var Ej=/^[^=?&#]+/;function Ij(n){let e=n.match(Ej);return e?e[0]:""}var wj=/^[^&#]+/;function Dj(n){let e=n.match(wj);return e?e[0]:""}var V_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[se]=new be(e,t)),r}parseSegment(){let e=M_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new _i(yf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=_j(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=M_(this.remaining);i&&(r=i,this.capture(r))}e[yf(t)]=yf(r)}parseQueryParam(e){let t=Ij(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Dj(this.remaining);s&&(r=s,this.capture(r))}let i=yA(t),o=yA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=M_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[se]:new be([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function xA(n){return n.segments.length>0?new be([],{[se]:n}):n}function PA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=PA(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new be(n.segments,e);return Tj(t)}function Tj(n){if(n.numberOfChildren===1&&n.children[se]){let e=n.children[se];return new be(n.segments.concat(e.segments),e.children)}return n}function Ii(n){return n instanceof ir}function kA(n,e,t=null,r=null){let i=OA(n);return FA(i,e,t,r)}function OA(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new be(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=xA(r);return e??i}function FA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return x_(i,i,i,t,r);let o=bj(e);if(o.toRoot())return x_(i,i,new be([],{}),t,r);let s=Cj(o,i,n),a=s.processChildren?Eu(s.segmentGroup,s.index,o.commands):VA(s.segmentGroup,s.index,o.commands);return x_(i,s.segmentGroup,a,t,r)}function vf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function wu(n){return typeof n=="object"&&n!=null&&n.outlets}function x_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=LA(n,e,t);let a=xA(PA(s));return new ir(a,o,i)}function LA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=LA(o,e,t)}),new be(n.segments,r)}var _f=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&vf(r[0]))throw new B(4003,!1);let i=r.find(wu);if(i&&i!==bA(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new _f(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new _f(t,e,r)}var Js=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Cj(n,e,t){if(n.isAbsolute)return new Js(e,!0,0);if(!t)return new Js(e,!1,NaN);if(t.parent===null)return new Js(t,!0,0);let r=vf(n.commands[0])?0:1,i=t.segments.length-1+r;return Sj(t,i,n.numberOfDoubleDots)}function Sj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Js(r,!1,i-o)}function Aj(n){return wu(n[0])?n[0].outlets:{[se]:n}}function VA(n,e,t){if(n??=new be([],{}),n.segments.length===0&&n.hasChildren())return Eu(n,e,t);let r=Rj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new be(n.segments.slice(0,r.pathIndex),{});return o.children[se]=new be(n.segments.slice(r.pathIndex),n.children),Eu(o,0,i)}else return r.match&&i.length===0?new be(n.segments,{}):r.match&&!n.hasChildren()?j_(n,e,t):r.match?Eu(n,0,i):j_(n,e,t)}function Eu(n,e,t){if(t.length===0)return new be(n.segments,{});{let r=Aj(t),i={};if(Object.keys(r).some(o=>o!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let o=Eu(n.children[se],e,t);return new be(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=VA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(n.segments,i)}}function Rj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(wu(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!_A(u,l,s))return o;r+=2}else{if(!_A(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function j_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(wu(o)){let u=Nj(o.outlets);return new be(r,u)}if(i===0&&vf(t[0])){let u=n.segments[e];r.push(new _i(u.path,vA(t[0]))),i++;continue}let s=wu(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&vf(a)?(r.push(new _i(s,vA(a))),i+=2):(r.push(new _i(s,{})),i++)}return new be(r,{})}function Nj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=j_(new be([],{}),0,r))}),e}function vA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function _A(n,e,t){return n==t.path&&nr(e,t.parameters)}var Zs="imperative",ht=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(ht||{}),an=class{id;url;constructor(e,t){this.id=e,this.url=t}},wi=class extends an{type=ht.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_n=class extends an{urlAfterRedirects;type=ht.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Bt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Bt||{}),ea=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ea||{}),rr=class extends an{reason;code;type=ht.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},or=class extends an{reason;code;type=ht.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ta=class extends an{error;target;type=ht.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Du=class extends an{urlAfterRedirects;state;type=ht.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ef=class extends an{urlAfterRedirects;state;type=ht.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},If=class extends an{urlAfterRedirects;state;shouldActivate;type=ht.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wf=class extends an{urlAfterRedirects;state;type=ht.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Df=class extends an{urlAfterRedirects;state;type=ht.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tf=class{route;type=ht.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bf=class{route;type=ht.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cf=class{snapshot;type=ht.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sf=class{snapshot;type=ht.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Af=class{snapshot;type=ht.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rf=class{snapshot;type=ht.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},na=class{routerEvent;position;anchor;type=ht.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Tu=class{},ra=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Mj(n){return!(n instanceof Tu)&&!(n instanceof ra)}function xj(n,e){return n.providers&&!n._injector&&(n._injector=js(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ln(n){return n.outlet||se}function Pj(n,e){let t=n.filter(r=>Ln(r)===e);return t.push(...n.filter(r=>Ln(r)!==e)),t}function sa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Nf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return sa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ko(this.rootInjector)}},ko=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Nf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(W(je))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=U_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=U_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=B_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return B_(e,this._root).map(t=>t.value)}};function U_(n,e){if(n===e.value)return e;for(let t of e.children){let r=U_(n,t);if(r)return r}return null}function B_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=B_(n,t);if(r.length)return r.unshift(e),r}return[]}var sn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ys(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var bu=class extends Mf{snapshot;constructor(e,t){super(e),this.snapshot=t,Q_(this,e)}toString(){return this.snapshot.toString()}};function jA(n){let e=kj(n),t=new _t([new _i("",{})]),r=new _t({}),i=new _t({}),o=new _t({}),s=new _t(""),a=new sr(t,r,o,s,i,se,n,e.root);return a.snapshot=e.root,new bu(new sn(a,[]),e)}function kj(n){let e={},t={},r={},o=new Mo([],e,r,"",t,se,n,null,{});return new Cu("",new sn(o,[]))}var sr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(l=>l[Nu]))??K(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>xo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>xo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&BA(i)&&(r.resolve[Nu]=i.title),r}var Mo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Nu]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Cu=class extends Mf{url;constructor(e,t){super(t),this.url=e,Q_(this,t)}toString(){return UA(this._root)}};function Q_(n,e){e.value._routerState=n,e.children.forEach(t=>Q_(n,t))}function UA(n){let e=n.children.length>0?` { ${n.children.map(UA).join(", ")} } `:"";return`${n.value}${e}`}function P_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,nr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),nr(e.params,t.params)||n.paramsSubject.next(t.params),aj(e.url,t.url)||n.urlSubject.next(t.url),nr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function $_(n,e){let t=nr(n.params,e.params)&&dj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||$_(n.parent,e.parent))}function BA(n){return typeof n.title=="string"||n.title===null}var $A=new $(""),Mu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new Oe;deactivateEvents=new Oe;attachEvents=new Oe;detachEvents=new Oe;routerOutletData=PS(void 0);parentContexts=R(ko);location=R(Do);changeDetector=R(gi);inputBinder=R(xu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new H_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ot({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Nn]})}return n})(),H_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===sr?this.route:e===ko?this.childContexts:e===$A?this.outletData:this.parent.get(e,t)}},xu=new $(""),Y_=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ec([r.queryParams,r.params,r.data]).pipe(Ze(([o,s,a],u)=>(a=L(L(L({},o),s),a),u===0?K(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=FS(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),J_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&de(0,"router-outlet")},dependencies:[Mu],encapsulation:2})}return n})();function Z_(n){let e=n.children&&n.children.map(Z_),t=e?ce(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=J_),t}function Oj(n,e,t){let r=Su(n,e._root,t?t._root:void 0);return new bu(r,e)}function Su(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Fj(n,e,t);return new sn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Su(n,a)),s}}let r=Lj(e.value),i=e.children.map(o=>Su(n,o));return new sn(r,i)}}function Fj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Su(n,r,i);return Su(n,r)})}function Lj(n){return new sr(new _t(n.url),new _t(n.params),new _t(n.queryParams),new _t(n.fragment),new _t(n.data),n.outlet,n.component,n)}var ia=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},HA="ngNavigationCancelingError";function Pf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ii(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zA(!1,Bt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function zA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[HA]=!0,t.cancellationCode=e,t}function Vj(n){return qA(n)&&Ii(n.url)}function qA(n){return!!n&&n[HA]}var jj=(n,e,t,r)=>oe(i=>(new z_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),z_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),P_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ys(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ys(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ys(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ys(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Rf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Sf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(P_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),P_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},kf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Uj(n,e,t){let r=n._root,i=e?e._root:null;return _u(r,i,t,[r.value])}function Bj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function aa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!zm(n)?n:e.get(n):r}function _u(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ys(e);return n.children.forEach(s=>{$j(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Iu(a,t.getContext(s),i)),i}function $j(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Hj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new kf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?_u(n,e,a?a.children:null,r,i):_u(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xs(a.outlet.component,s))}else s&&Iu(e,a,i),i.canActivateChecks.push(new kf(r)),o.component?_u(n,null,a?a.children:null,r,i):_u(n,null,t,r,i);return i}function Hj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!No(n.url,e.url);case"pathParamsOrQueryParamsChange":return!No(n.url,e.url)||!nr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$_(n,e)||!nr(n.queryParams,e.queryParams);case"paramsChange":default:return!$_(n,e)}}function Iu(n,e,t){let r=Ys(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Iu(s,e.children.getContext(o),t):Iu(s,null,t):Iu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Xs(e.outlet.component,i)):t.canDeactivateChecks.push(new Xs(null,i)):t.canDeactivateChecks.push(new Xs(null,i))}function Pu(n){return typeof n=="function"}function zj(n){return typeof n=="boolean"}function qj(n){return n&&Pu(n.canLoad)}function Gj(n){return n&&Pu(n.canActivate)}function Wj(n){return n&&Pu(n.canActivateChild)}function Kj(n){return n&&Pu(n.canDeactivate)}function Qj(n){return n&&Pu(n.canMatch)}function GA(n){return n instanceof vr||n?.name==="EmptyError"}var pf=Symbol("INITIAL_VALUE");function oa(){return Ze(n=>Ec(n.map(e=>e.pipe(_r(1),Am(pf)))).pipe(oe(e=>{for(let t of e)if(t!==!0){if(t===pf)return pf;if(t===!1||Yj(t))return t}return!0}),At(e=>e!==pf),_r(1)))}function Yj(n){return Ii(n)||n instanceof ia}function Jj(n,e){return Je(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?K(ce(L({},t),{guardsResult:!0})):Zj(s,r,i,n).pipe(Je(a=>a&&zj(a)?Xj(r,o,n,e):K(a)),oe(a=>ce(L({},t),{guardsResult:a})))})}function Zj(n,e,t,r){return xe(n).pipe(Je(i=>iU(i.component,i.route,t,e,r)),Er(i=>i!==!0,!0))}function Xj(n,e,t,r){return xe(e).pipe(zn(i=>ws(tU(i.route.parent,r),eU(i.route,r),rU(n,i.path,t),nU(n,i.route,t))),Er(i=>i!==!0,!0))}function eU(n,e){return n!==null&&e&&e(new Af(n)),K(!0)}function tU(n,e){return n!==null&&e&&e(new Cf(n)),K(!0)}function nU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>Ic(()=>{let s=sa(e)??t,a=aa(o,s),u=Gj(a)?a.canActivate(e,n):Ge(s,()=>a(e,n));return Pr(u).pipe(Er())}));return K(i).pipe(oa())}function rU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Bj(s)).filter(s=>s!==null).map(s=>Ic(()=>{let a=s.guards.map(u=>{let l=sa(s.node)??t,h=aa(u,l),p=Wj(h)?h.canActivateChild(r,n):Ge(l,()=>h(r,n));return Pr(p).pipe(Er())});return K(a).pipe(oa())}));return K(o).pipe(oa())}function iU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let u=sa(e)??i,l=aa(a,u),h=Kj(l)?l.canDeactivate(n,e,t,r):Ge(u,()=>l(n,e,t,r));return Pr(h).pipe(Er())});return K(s).pipe(oa())}function oU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=aa(s,n),u=qj(a)?a.canLoad(e,t):Ge(n,()=>a(e,t));return Pr(u)});return K(o).pipe(oa(),WA(r))}function WA(n){return mm(nt(e=>{if(typeof e!="boolean")throw Pf(n,e)}),oe(e=>e===!0))}function sU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=aa(s,n),u=Qj(a)?a.canMatch(e,t):Ge(n,()=>a(e,t));return Pr(u)});return K(o).pipe(oa(),WA(r))}var Au=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ru=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Qs(n){return Es(new Au(n))}function aU(n){return Es(new B(4e3,!1))}function cU(n){return Es(zA(!1,Bt.GuardRejected))}var q_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[se])return aU(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,t,r,i,o){return uU(t,i,o).pipe(oe(s=>{if(s instanceof ir)throw new Ru(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Ru(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ir(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function uU(n,e,t){if(typeof n=="string")return K(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Pr(Ge(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var G_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lU(n,e,t,r,i){let o=KA(n,e,t);return o.matched?(r=xj(e,r),sU(r,e,t,i).pipe(oe(s=>s===!0?o:L({},G_)))):K(o)}function KA(n,e,t){if(e.path==="**")return dU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},G_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||DA)(t,n,e);if(!i)return L({},G_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dU(n){return{matched:!0,parameters:n.length>0?bA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function EA(n,e,t,r){return t.length>0&&pU(n,t,r)?{segmentGroup:new be(e,fU(r,new be(t,n.children))),slicedSegments:[]}:t.length===0&&gU(n,t,r)?{segmentGroup:new be(n.segments,hU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new be(n.segments,n.children),slicedSegments:t}}function hU(n,e,t,r){let i={};for(let o of t)if(Ff(n,e,o)&&!r[Ln(o)]){let s=new be([],{});i[Ln(o)]=s}return L(L({},r),i)}function fU(n,e){let t={};t[se]=e;for(let r of n)if(r.path===""&&Ln(r)!==se){let i=new be([],{});t[Ln(r)]=i}return t}function pU(n,e,t){return t.some(r=>Ff(n,e,r)&&Ln(r)!==se)}function gU(n,e,t){return t.some(r=>Ff(n,e,r))}function Ff(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function mU(n,e,t){return e.length===0&&!n.children[t]}var W_=class{};function yU(n,e,t,r,i,o,s="emptyOnly"){return new K_(n,e,t,r,i,s,o).recognize()}var vU=31,K_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new q_(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=EA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:t,rootSnapshot:r})=>{let i=new sn(r,t),o=new Cu("",i),s=kA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Mo([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,t).pipe(oe(r=>({children:r,rootSnapshot:t})),Tn(r=>{if(r instanceof Ru)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Au?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof sn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return xe(o).pipe(zn(s=>{let a=r.children[s],u=Pj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Sm((s,a)=>(s.push(...a),s)),ti(null),Cm(),Je(s=>{if(s===null)return Qs(r);let a=QA(s);return _U(a),K(a)}))}processSegment(e,t,r,i,o,s,a){return xe(t).pipe(zn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Tn(l=>{if(l instanceof Au)return K(null);throw l}))),Er(u=>!!u),Tn(u=>{if(GA(u))return mU(r,i,o)?K(new W_):Qs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Ln(r)!==s&&(s===se||!Ff(i,o,r))?Qs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Qs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=KA(t,i,o);if(!u)return Qs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vU&&(this.allowRedirects=!1));let y=new Mo(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,IA(i),Ln(i),i.component??i._loadedComponent??null,i,wA(i)),C=xf(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(C.params),y.data=Object.freeze(C.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Ze(N=>this.applyRedirects.lineralizeSegments(i,N)),Je(N=>this.processSegment(e,r,t,N.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=lU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ze(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ze(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new Mo(m,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,IA(r),Ln(r),r.component??r._loadedComponent??null,r,wA(r)),P=xf(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(P.params),C.data=Object.freeze(P.data);let{segmentGroup:N,slicedSegments:k}=EA(t,m,y,l);if(k.length===0&&N.hasChildren())return this.processChildren(h,l,N,C).pipe(oe(Q=>new sn(C,Q)));if(l.length===0&&k.length===0)return K(new sn(C,[]));let G=Ln(r)===o;return this.processSegment(h,l,N,k,G?se:o,!0,C).pipe(oe(Q=>new sn(C,Q instanceof sn?[Q]:[])))}))):Qs(t)))}getChildConfig(e,t,r){return t.children?K({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?K({routes:t._loadedRoutes,injector:t._loadedInjector}):oU(e,t,r,this.urlSerializer).pipe(Je(i=>i?this.configLoader.loadChildren(e,t).pipe(nt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):cU(t))):K({routes:[],injector:e})}};function _U(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}function EU(n){let e=n.value.routeConfig;return e&&e.path===""}function QA(n){let e=[],t=new Set;for(let r of n){if(!EU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=QA(r.children);e.push(new sn(r.value,i))}return e.filter(r=>!t.has(r))}function IA(n){return n.data||{}}function wA(n){return n.resolve||{}}function IU(n,e,t,r,i,o){return Je(s=>yU(n,e,t,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:u})=>ce(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function wU(n,e){return Je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of YA(u))s.add(l);let a=0;return xe(s).pipe(zn(u=>o.has(u)?DU(u,r,n,e):(u.data=xf(u,u.parent,n).resolve,K(void 0))),nt(()=>a++),Ds(1),Je(u=>a===s.size?K(t):zt))})}function YA(n){let e=n.children.map(t=>YA(t)).flat();return[n,...e]}function DU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!BA(i)&&(o[Nu]=i.title),Ic(()=>(n.data=xf(n,n.parent,t).resolve,TU(o,n,e,r).pipe(oe(s=>(n._resolvedData=s,n.data=L(L({},n.data),s),null)))))}function TU(n,e,t,r){let i=F_(n);if(i.length===0)return K({});let o={};return xe(i).pipe(Je(s=>bU(n[s],e,t,r).pipe(Er(),nt(a=>{if(a instanceof ia)throw Pf(new Ei,a);o[s]=a}))),Ds(1),oe(()=>o),Tn(s=>GA(s)?zt:Es(s)))}function bU(n,e,t,r){let i=sa(e)??r,o=aa(n,i),s=o.resolve?o.resolve(e,t):Ge(i,()=>o(e,t));return Pr(s)}function k_(n){return Ze(e=>{let t=n(e);return t?xe(t).pipe(oe(()=>e)):K(e)})}var X_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[Nu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>R(JA),providedIn:"root"})}return n})(),JA=(()=>{class n extends X_{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(W(gA))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Di=new $("",{providedIn:"root",factory:()=>({})}),Oo=new $(""),Lf=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(Yv);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Pr(Ge(t,()=>r.loadComponent())).pipe(oe(XA),Ze(eR),nt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Xi(()=>{this.componentLoaders.delete(r)})),o=new ms(i,()=>new et).pipe(gs());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=ZA(r,this.compiler,t,this.onLoadEndListener).pipe(Xi(()=>{this.childrenLoaders.delete(r)})),s=new ms(o,()=>new et).pipe(gs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZA(n,e,t,r){return Pr(Ge(t,()=>n.loadChildren())).pipe(oe(XA),Ze(eR),Je(i=>i instanceof Fh||Array.isArray(i)?K(i):xe(e.compileModuleAsync(i))),oe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Oo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Z_),injector:o}}))}function CU(n){return n&&typeof n=="object"&&"default"in n}function XA(n){return CU(n)?n.default:n}function eR(n){return K(n)}var Vf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>R(SU),providedIn:"root"})}return n})(),SU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eE=new $(""),tE=new $("");function tR(n,e,t){let r=n.get(tE),i=n.get(We);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),AU(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&Ge(n,()=>u({transition:a,from:e,to:t})),s}function AU(n){return new Promise(e=>{Vh({read:()=>setTimeout(e)},{injector:n})})}var nE=new $(""),jf=(()=>{class n{currentNavigation=Wt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new et;transitionAbortWithErrorSubject=new et;configLoader=R(Lf);environmentInjector=R(je);destroyRef=R(Kn);urlSerializer=R(Po);rootContexts=R(ko);location=R(yi);inputBindingEnabled=R(xu,{optional:!0})!==null;titleStrategy=R(X_);options=R(Di,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(Vf);createViewTransition=R(eE,{optional:!0});navigationErrorHandler=R(nE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Tf(i)),r=i=>this.events.next(new bf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;st(()=>{this.transitions?.next(ce(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new _t(null),this.transitions.pipe(At(r=>r!==null),Ze(r=>{let i=!1;return K(r).pipe(Ze(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Bt.SupersededByNewNavigation),zt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ce(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new or(o.id,this.urlSerializer.serialize(o.rawUrl),"",ea.IgnoredSameUrlNavigation)),o.resolve(!1),zt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return K(o).pipe(Ze(u=>(this.events.next(new wi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?zt:Promise.resolve(u))),IU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Du(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new wi(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let C=jA(this.rootComponentType).snapshot;return this.currentTransition=r=ce(L({},o),{targetSnapshot:C,urlAfterRedirects:l,extras:ce(L({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(P=>(P.finalUrl=l,P)),K(r)}else return this.events.next(new or(o.id,this.urlSerializer.serialize(o.extractedUrl),"",ea.IgnoredByUrlHandlingStrategy)),o.resolve(!1),zt}),nt(o=>{let s=new Ef(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),oe(o=>(this.currentTransition=r=ce(L({},o),{guards:Uj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Jj(this.environmentInjector,o=>this.events.next(o)),nt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Pf(this.urlSerializer,o.guardsResult);let s=new If(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),At(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Bt.GuardRejected),!1)),k_(o=>{if(o.guards.canActivateChecks.length!==0)return K(o).pipe(nt(s=>{let a=new wf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ze(s=>{let a=!1;return K(s).pipe(wU(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Bt.NoDataFromResolver)}}))}),nt(s=>{let a=new Df(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),k_(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=sa(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(nt(h=>{a.component=h}),oe(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Ec(s(o.targetSnapshot.root)).pipe(ti(null),_r(1))}),k_(()=>this.afterPreactivation()),Ze(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?xe(a).pipe(oe(()=>r)):K(r)}),oe(o=>{let s=Oj(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ce(L({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),nt(()=>{this.events.next(new Tu)}),jj(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),_r(1),Md(new ee(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(At(()=>!i&&!r.targetRouterState),nt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Bt.Aborted)}))),nt({next:o=>{i=!0,this.lastSuccessfulNavigation=st(this.currentNavigation),this.events.next(new _n(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Md(this.transitionAbortWithErrorSubject.pipe(nt(o=>{throw o}))),Xi(()=>{i||this.cancelNavigationTransition(r,"",Bt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Tn(o=>{if(this.destroyed)return r.resolve(!1),zt;if(i=!0,qA(o))this.events.next(new rr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Vj(o)?this.events.next(new ra(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ta(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ge(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ia){let{message:u,cancellationCode:l}=Pf(this.urlSerializer,a);this.events.next(new rr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new ra(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return zt}))}))}cancelNavigationTransition(t,r,i){let o=new rr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=st(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RU(n){return n!==Zs}var nR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>R(NU),providedIn:"root"})}return n})(),Of=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},NU=(()=>{class n extends Of{static \u0275fac=(()=>{let t;return function(i){return(t||(t=wo(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rR=(()=>{class n{urlSerializer=R(Po);options=R(Di,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(yi);urlHandlingStrategy=R(Vf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ir;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof ir?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=jA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>R(MU),providedIn:"root"})}return n})(),MU=(()=>{class n extends rR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof wi?this.updateStateMemento():t instanceof or?this.commitTransition(r):t instanceof Du?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Tu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof rr&&t.code!==Bt.SupersededByNewNavigation&&t.code!==Bt.Redirect?this.restoreHistory(r):t instanceof ta?this.restoreHistory(r,!0):t instanceof _n&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wo(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uf(n,e){n.events.pipe(At(t=>t instanceof _n||t instanceof rr||t instanceof ta||t instanceof or),oe(t=>t instanceof _n||t instanceof or?0:(t instanceof rr?t.code===Bt.Redirect||t.code===Bt.SupersededByNewNavigation:!1)?2:1),At(t=>t!==2),_r(1)).subscribe(()=>{e()})}var xU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R($v);stateManager=R(rR);options=R(Di,{optional:!0})||{};pendingTasks=R(Qn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(jf);urlSerializer=R(Po);location=R(yi);urlHandlingStrategy=R(Vf);injector=R(je);_events=new et;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(nR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(Oo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(xu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ze;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=st(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof rr&&r.code!==Bt.Redirect&&r.code!==Bt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _n)this.navigated=!0;else if(r instanceof ra){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||RU(i.source)},s);this.scheduleNavigation(a,Zs,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Mj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(jt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return st(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Z_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=OA(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return FA(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ii(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Zs,null,r)}navigate(t,r={skipLocationChange:!1}){return kU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},xU):r===!1?i=L({},PU):i=r,Ii(t))return mA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return mA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Uf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}var Bf=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Wt(null);get href(){return st(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new et;applicationErrorHandler=R(jt);options=R(Di,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(R(new Qh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof _n&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ii(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ii(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(he(Jt),he(sr),Gc("tabindex"),he(Rr),he(Zn),he(On))};static \u0275dir=ot({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ke("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Bs("href",i.reactiveHref(),yv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",mi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",mi],replaceUrl:[2,"replaceUrl","replaceUrl",mi],routerLink:"routerLink"},features:[Nn]})}return n})();var ku=class{};var iR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(At(t=>t instanceof _n),zn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=js(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return xe(i).pipe(Is())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=K(null);let o=i.pipe(Je(s=>s===null?K(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return xe([o,s]).pipe(Is())}else return o})}static \u0275fac=function(r){return new(r||n)(W(Jt),W(je),W(ku),W(Lf))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oR=new $(""),OU=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Zs;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _n?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof or&&t.code===ea.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof na&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new na(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Pv()};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function iE(n,...e){return nn([{provide:Oo,multi:!0,useValue:n},[],{provide:sr,useFactory:sR,deps:[Jt]},{provide:Jc,multi:!0,useFactory:aR},e.map(t=>t.\u0275providers)])}function sR(n){return n.routerState.root}function Ou(n,e){return{\u0275kind:n,\u0275providers:e}}function aR(){let n=R(qe);return e=>{let t=n.get(pi);if(e!==t.components[0])return;let r=n.get(Jt),i=n.get(cR);n.get(oE)===1&&r.initialNavigation(),n.get(dR,null,{optional:!0})?.setUpPreloading(),n.get(oR,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cR=new $("",{factory:()=>new et}),oE=new $("",{providedIn:"root",factory:()=>1});function uR(){let n=[{provide:fv,useValue:!0},{provide:oE,useValue:0},Uh(()=>{let e=R(qe);return e.get(o_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Jt),o=e.get(cR);Uf(i,()=>{r(!0)}),e.get(jf).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))})];return Ou(2,n)}function lR(){let n=[Uh(()=>{R(Jt).setUpLocationChangeListener()}),{provide:oE,useValue:2}];return Ou(3,n)}var dR=new $("");function hR(n){return Ou(0,[{provide:dR,useExisting:iR},{provide:ku,useExisting:n}])}function fR(){return Ou(8,[Y_,{provide:xu,useExisting:Y_}])}function pR(n){Vs("NgRouterViewTransitions");let e=[{provide:eE,useValue:tR},{provide:tE,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ou(9,e)}var gR=[yi,{provide:Po,useClass:Ei},Jt,ko,{provide:sr,useFactory:sR,deps:[Jt]},Lf,[]],Fu=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[gR,[],{provide:Oo,multi:!0,useValue:t},[],r?.errorHandler?{provide:nE,useValue:r.errorHandler}:[],{provide:Di,useValue:r||{}},r?.useHash?LU():VU(),FU(),r?.preloadingStrategy?hR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?jU(r):[],r?.bindToComponentInputs?fR().\u0275providers:[],r?.enableViewTransitions?pR().\u0275providers:[],UU()]}}static forChild(t){return{ngModule:n,providers:[{provide:Oo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=xn({type:n});static \u0275inj=ln({})}return n})();function FU(){return{provide:oR,useFactory:()=>{let n=R(QS),e=R(De),t=R(Di),r=R(jf),i=R(Po);return t.scrollOffset&&n.setOffset(t.scrollOffset),new OU(i,r,n,e,t)}}}function LU(){return{provide:On,useClass:d_}}function VU(){return{provide:On,useClass:Xh}}function jU(n){return[n.initialNavigation==="disabled"?lR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?uR().\u0275providers:[]]}var rE=new $("");function UU(){return[{provide:rE,useFactory:aR},{provide:Jc,multi:!0,useExisting:rE}]}var mR=()=>{};var _R=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},$U=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},$f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_R(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$U(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new aE;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},aE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},HU=function(n){let e=_R(n);return $f.encodeByteArray(e,!0)},Vu=function(n){return HU(n).replace(/\./g,"")},Hf=function(n){try{return $f.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zU=()=>uE().__FIREBASE_DEFAULTS__,qU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Hf(n[1]);return e&&JSON.parse(e)},zf=()=>{try{return mR()||zU()||qU()||GU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},lE=n=>{var e,t;return(t=(e=zf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ER=n=>{let e=lE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},dE=()=>{var n;return(n=zf())===null||n===void 0?void 0:n.config},hE=n=>{var e;return(e=zf())===null||e===void 0?void 0:e[`_${n}`]};var Fo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ti(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function qf(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function IR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Vu(JSON.stringify(t)),Vu(JSON.stringify(s)),""].join(".")}var Lu={};function WU(){let n={prod:[],emulator:[]};for(let e of Object.keys(Lu))Lu[e]?n.emulator.push(e):n.prod.push(e);return n}function KU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var yR=!1;function Gf(n,e){if(typeof window>"u"||typeof document>"u"||!Ti(window.location.host)||Lu[n]===e||Lu[n]||yR)return;Lu[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=WU().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{yR=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=KU(r),y=t("text"),C=document.getElementById(y)||document.createElement("span"),P=t("learnmore"),N=document.getElementById(P)||document.createElement("a"),k=t("preprendIcon"),G=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Q=m.element;a(Q),h(N,P);let Z=l();u(G,k),Q.append(G,C,N,Z),document.body.appendChild(Q)}o?(C.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function QU(){var n;let e=(n=zf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CR(){let n=gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function SR(){return!QU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ju(){try{return typeof indexedDB=="object"}catch{return!1}}function AR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var YU="FirebaseError",cn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=YU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vn.prototype.create)}},Vn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?JU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new cn(i,a,r)}};function JU(n,e){return n.replace(ZU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ZU=/\{\$([^}]+)}/g;function RR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ar(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(vR(o)&&vR(s)){if(!ar(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function vR(n){return n!==null&&typeof n=="object"}function Uu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ca(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ua(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function NR(n,e){let t=new cE(n,e);return t.subscribe.bind(t)}var cE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");XU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=sE),i.error===void 0&&(i.error=sE),i.complete===void 0&&(i.complete=sE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function XU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sE(){}var aoe=14400*1e3;function xt(n){return n&&n._delegate?n._delegate:n}var $t=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Lo="[DEFAULT]";var fE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Fo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tB(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function eB(n){return n===Lo?void 0:n}function tB(n){return n.instantiationMode==="EAGER"}var Wf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new fE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var nB=[],ge=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ge||{}),rB={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},iB=ge.INFO,oB={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},sB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=oB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},cr=class{constructor(e){this.name=e,this._logLevel=iB,this._logHandler=sB,this._userLogHandler=null,nB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}};var aB=(n,e)=>e.some(t=>n instanceof t),MR,xR;function cB(){return MR||(MR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uB(){return xR||(xR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var PR=new WeakMap,gE=new WeakMap,kR=new WeakMap,pE=new WeakMap,yE=new WeakMap;function lB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ur(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&PR.set(t,n)}).catch(()=>{}),yE.set(e,n),e}function dB(n){if(gE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});gE.set(n,e)}var mE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return gE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ur(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OR(n){mE=n(mE)}function hB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Kf(this),e,...t);return kR.set(r,e.sort?e.sort():[e]),ur(r)}:uB().includes(n)?function(...e){return n.apply(Kf(this),e),ur(PR.get(this))}:function(...e){return ur(n.apply(Kf(this),e))}}function fB(n){return typeof n=="function"?hB(n):(n instanceof IDBTransaction&&dB(n),aB(n,cB())?new Proxy(n,mE):n)}function ur(n){if(n instanceof IDBRequest)return lB(n);if(pE.has(n))return pE.get(n);let e=fB(n);return e!==n&&(pE.set(n,e),yE.set(e,n)),e}var Kf=n=>yE.get(n);function LR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=ur(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ur(s.result),u.oldVersion,u.newVersion,ur(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var pB=["get","getKey","getAll","getAllKeys","count"],gB=["put","add","delete","clear"],vE=new Map;function FR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(vE.get(e))return vE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=gB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pB.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return vE.set(e,o),o}OR(n=>ce(L({},n),{get:(e,t,r)=>FR(e,t)||n.get(e,t,r),has:(e,t)=>!!FR(e,t)||n.has(e,t)}));var EE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function mB(n){let e=n.getComponent();return e?.type==="VERSION"}var IE="@firebase/app",VR="0.13.2";var kr=new cr("@firebase/app"),yB="@firebase/app-compat",vB="@firebase/analytics-compat",_B="@firebase/analytics",EB="@firebase/app-check-compat",IB="@firebase/app-check",wB="@firebase/auth",DB="@firebase/auth-compat",TB="@firebase/database",bB="@firebase/data-connect",CB="@firebase/database-compat",SB="@firebase/functions",AB="@firebase/functions-compat",RB="@firebase/installations",NB="@firebase/installations-compat",MB="@firebase/messaging",xB="@firebase/messaging-compat",PB="@firebase/performance",kB="@firebase/performance-compat",OB="@firebase/remote-config",FB="@firebase/remote-config-compat",LB="@firebase/storage",VB="@firebase/storage-compat",jB="@firebase/firestore",UB="@firebase/ai",BB="@firebase/firestore-compat",$B="firebase",HB="11.10.0";var wE="[DEFAULT]",zB={[IE]:"fire-core",[yB]:"fire-core-compat",[_B]:"fire-analytics",[vB]:"fire-analytics-compat",[IB]:"fire-app-check",[EB]:"fire-app-check-compat",[wB]:"fire-auth",[DB]:"fire-auth-compat",[TB]:"fire-rtdb",[bB]:"fire-data-connect",[CB]:"fire-rtdb-compat",[SB]:"fire-fn",[AB]:"fire-fn-compat",[RB]:"fire-iid",[NB]:"fire-iid-compat",[MB]:"fire-fcm",[xB]:"fire-fcm-compat",[PB]:"fire-perf",[kB]:"fire-perf-compat",[OB]:"fire-rc",[FB]:"fire-rc-compat",[LB]:"fire-gcs",[VB]:"fire-gcs-compat",[jB]:"fire-fst",[BB]:"fire-fst-compat",[UB]:"fire-vertex","fire-js":"fire-js",[$B]:"fire-js-all"};var Bu=new Map,qB=new Map,DE=new Map;function jR(n,e){try{n.container.addComponent(e)}catch(t){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function jn(n){let e=n.name;if(DE.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;DE.set(e,n);for(let t of Bu.values())jR(t,n);for(let t of qB.values())jR(t,n);return!0}function la(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zt(n){return n==null?!1:n.settings!==void 0}var GB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new Vn("app","Firebase",GB);var TE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}};var Ci=HB;function SE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:wE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw bi.create("bad-app-name",{appName:String(i)});if(t||(t=dE()),!t)throw bi.create("no-options");let o=Bu.get(i);if(o){if(ar(t,o.options)&&ar(r,o.config))return o;throw bi.create("duplicate-app",{appName:i})}let s=new Wf(i);for(let u of DE.values())s.addComponent(u);let a=new TE(t,r,s);return Bu.set(i,a),a}function Vo(n=wE){let e=Bu.get(n);if(!e&&n===wE&&dE())return SE();if(!e)throw bi.create("no-app",{appName:n});return e}function Qf(){return Array.from(Bu.values())}function Qe(n,e,t){var r;let i=(r=zB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(a.join(" "));return}jn(new $t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var WB="firebase-heartbeat-database",KB=1,$u="firebase-heartbeat-store",_E=null;function HR(){return _E||(_E=LR(WB,KB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($u)}catch(t){console.warn(t)}}}}).catch(n=>{throw bi.create("idb-open",{originalErrorMessage:n.message})})),_E}function QB(n){return _(this,null,function*(){try{let t=(yield HR()).transaction($u),r=yield t.objectStore($u).get(zR(n));return yield t.done,r}catch(e){if(e instanceof cn)kr.warn(e.message);else{let t=bi.create("idb-get",{originalErrorMessage:e?.message});kr.warn(t.message)}}})}function UR(n,e){return _(this,null,function*(){try{let r=(yield HR()).transaction($u,"readwrite");yield r.objectStore($u).put(e,zR(n)),yield r.done}catch(t){if(t instanceof cn)kr.warn(t.message);else{let r=bi.create("idb-set",{originalErrorMessage:t?.message});kr.warn(r.message)}}})}function zR(n){return`${n.name}!${n.options.appId}`}var YB=1024,JB=30,bE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new CE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=BR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>JB){let s=XB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){kr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=BR(),{heartbeatsToSend:r,unsentEntries:i}=ZB(this._heartbeatsCache.heartbeats),o=Vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return kr.warn(t),""}})}};function BR(){return new Date().toISOString().substring(0,10)}function ZB(n,e=YB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),$R(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$R(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var CE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return ju()?AR().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield QB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function $R(n){return Vu(JSON.stringify({version:2,heartbeats:n})).length}function XB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function e$(n){jn(new $t("platform-logger",e=>new EE(e),"PRIVATE")),jn(new $t("heartbeat",e=>new bE(e),"PRIVATE")),Qe(IE,VR,n),Qe(IE,VR,"esm2017"),Qe("fire-js","")}e$("");var t$="firebase",n$="11.10.0";Qe(t$,n$,"app");function qR(n){n===void 0&&(n=R(qe));let e=n.get(di);return t=>new ee(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Si=new So("ANGULARFIRE2_VERSION");function Hu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ha=(n,e)=>{let t=e?[e]:Qf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},da=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(da||{}),GR=n_()&&typeof Zone<"u"?da.WARN:da.SILENT;var Yf=class{zone;delegate;constructor(e,t=wm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Ai=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=R(De);this.outsideAngular=t.runOutsideAngular(()=>new Yf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Yf(typeof Zone>"u"?void 0:Zone.current,Im))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WR=!1;function r$(n,e){!WR&&(GR>da.SILENT||n_())&&(WR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),GR>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function i$(n){let e=R(De,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function jo(n){let e=R(De,{optional:!0});return e?e.run(()=>n()):n()}var o$=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ge(t,()=>jo(()=>n.apply(void 0,r)))),Ht=(n,e,t)=>(t||=e?da.WARN:da.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=R(Ai),s=R(di),a=R(je)}catch{return r$(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=jo(()=>s.add())),i[l]=o$(i[l],r,a));let u=i$(()=>n.apply(this,i));return e?u instanceof ee?u.pipe(ei(o.outsideAngular),Xr(o.insideAngular),qR(a)):u instanceof Promise?jo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Ge(a,()=>jo(()=>h(m))),m=>Ge(a,()=>jo(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:jo(()=>u):u instanceof ee?u.pipe(ei(o.outsideAngular),Xr(o.insideAngular)):jo(()=>u)});var Or=class{constructor(e){return e}},Uo=class{constructor(){return Qf()}};function s$(n){return n&&n.length===1?n[0]:new Or(Vo())}var AE=new $("angularfire2._apps"),a$={provide:Or,useFactory:s$,deps:[[new on,AE]]},c$={provide:Uo,deps:[[new on,AE]]};function u$(n){return(e,t)=>{let r=t.get(fi);Qe("angularfire",Si.full,"core"),Qe("angularfire",Si.full,"app"),Qe("angular",kS.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Or(i)}}function KR(n,...e){return nn([a$,c$,{provide:AE,useFactory:u$(n),multi:!0,deps:[De,qe,Ai,...e]}])}var QR=Ht(SE,!0);var l$=new Map,d$={activated:!1,tokenObservers:[]},h$={initialized:!1,enabled:!1};function Un(n){return l$.get(n)||Object.assign({},d$)}function XR(){return h$}var f$="https://content-firebaseappcheck.googleapis.com/v1";var p$="exchangeDebugToken",YR={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},lse=1440*60*1e3;var ME=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Fo,this.pending.promise.catch(t=>{}),yield g$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Fo,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function g$(n){return new Promise(e=>{setTimeout(e,n)})}var m$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ri=new Vn("appCheck","AppCheck",m$);function eN(n){if(!Un(n).activated)throw Ri.create("use-before-activation",{appName:n.name})}function tN(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Ri.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Ri.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Ri.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function nN(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${f$}/projects/${t}/apps/${r}:${p$}?key=${i}`,body:{debug_token:e}}}var y$="firebase-app-check-database",v$=1,xE="firebase-app-check-store";var Jf=null;function _$(){return Jf||(Jf=new Promise((n,e)=>{try{let t=indexedDB.open(y$,v$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ri.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(xE,{keyPath:"compositeKey"})}}}catch(t){e(Ri.create("storage-open",{originalErrorMessage:t?.message}))}}),Jf)}function E$(n,e){return I$(w$(n),e)}function I$(n,e){return _(this,null,function*(){let r=(yield _$()).transaction(xE,"readwrite"),o=r.objectStore(xE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Ri.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function w$(n){return`${n.options.appId}-${n.name}`}var zu=new cr("@firebase/app-check");function RE(n,e){return ju()?E$(n,e).catch(t=>{zu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rN(){return XR().enabled}function iN(){return _(this,null,function*(){let n=XR();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var D$={error:"UNKNOWN_ERROR"};function T$(n){return $f.encodeString(JSON.stringify(n),!1)}function PE(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;eN(r);let i=Un(r),o=i.token,s;if(o&&!qu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(qu(l)?o=l:yield RE(r,void 0))}if(!e&&o&&qu(o))return{token:o.token};let a=!1;if(rN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=tN(nN(r,yield iN()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield RE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?zu.warn(l.message):t&&zu.error(l),NE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Un(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?zu.warn(l.message):t&&zu.error(l),s=l}let u;return o?s?qu(o)?u={token:o.token,internalError:s}:u=NE(s):(u={token:o.token},i.token=o,yield RE(r,o)):u=NE(s),a&&A$(r,u),u})}function b$(n){return _(this,null,function*(){let e=n.app;eN(e);let{provider:t}=Un(e);if(rN()){let r=yield iN(),{token:i}=yield tN(nN(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function C$(n,e,t,r){let{app:i}=n,o=Un(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&qu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),JR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>JR(n))}function oN(n,e){let t=Un(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function JR(n){let{app:e}=n,t=Un(e),r=t.tokenRefresher;r||(r=S$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function S$(n){let{app:e}=n;return new ME(()=>_(null,null,function*(){let t=Un(e),r;if(t.token?r=yield PE(n,!0):r=yield PE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Un(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},YR.RETRIAL_MIN_WAIT,YR.RETRIAL_MAX_WAIT)}function A$(n,e){let t=Un(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function qu(n){return n.expireTimeMillis-Date.now()>0}function NE(n){return{token:T$(D$),error:n}}var kE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Un(this.app);for(let t of e)oN(this.app,t.next);return Promise.resolve()}};function R$(n,e){return new kE(n,e)}function N$(n){return{getToken:e=>PE(n,e),getLimitedUseToken:()=>b$(n),addTokenListener:e=>C$(n,"INTERNAL",e),removeTokenListener:e=>oN(n.app,e)}}var M$="@firebase/app-check",x$="0.10.1";var P$="app-check",ZR="app-check-internal";function k$(){jn(new $t(P$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return R$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ZR).initialize()})),jn(new $t(ZR,n=>{let e=n.getProvider("app-check").getImmediate();return N$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qe(M$,x$)}k$();var O$="app-check";var fa=class{constructor(){return ha(O$)}};var F$=["localhost","0.0.0.0","127.0.0.1"],Dse=typeof window<"u"&&F$.includes(window.location.hostname);function IN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var wN=IN,DN=new Vn("auth","Firebase",IN());var rp=new cr("@firebase/auth");function L$(n,...e){rp.logLevel<=ge.WARN&&rp.warn(`Auth (${Ci}): ${n}`,...e)}function Xf(n,...e){rp.logLevel<=ge.ERROR&&rp.error(`Auth (${Ci}): ${n}`,...e)}function dr(n,...e){throw oI(n,...e)}function Bo(n,...e){return oI(n,...e)}function TN(n,e,t){let r=Object.assign(Object.assign({},wN()),{[e]:t});return new Vn("auth","Firebase",r).create(e,{appName:n.name})}function Vr(n){return TN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return DN.create(n,...e)}function X(n,e,...t){if(!n)throw oI(e,...t)}function Fr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Xf(e),new Error(e)}function xi(n,e){n||Fr(e)}function VE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function V$(){return sN()==="http:"||sN()==="https:"}function sN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function j$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V$()||TR()||"connection"in navigator)?navigator.onLine:!0}function U$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var $o=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=wR()||bR()}get(){return j$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function sI(n,e){xi(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ip=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var B$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var $$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],H$=new $o(3e4,6e4);function Pi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ki(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return bN(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Uu(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return DR()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Ti(n.emulatorConfig.host)&&(y.credentials="include"),ip.fetch()(yield CN(n,n.config.apiHost,t,p),y)}))})}function bN(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},B$),e);try{let i=new jE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Zf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zf(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Zf(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Zf(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw TN(n,h,l);dr(n,h)}}catch(i){if(i instanceof cn)throw i;dr(n,"network-request-failed",{message:String(i)})}})}function el(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield ki(n,e,t,r,i);return"mfaPendingCredential"in l&&dr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function CN(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?sI(n.config,i):`${n.config.apiScheme}://${i}`;return $$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function z$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var jE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Bo(this.auth,"network-request-failed")),H$.get())})}};function Zf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Bo(n,e,r);return i.customData._tokenResponse=t,i}function aN(n){return n!==void 0&&n.enterprise!==void 0}var UE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return z$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function q$(n,e){return _(this,null,function*(){return ki(n,"GET","/v2/recaptchaConfig",Pi(n,e))})}function G$(n,e){return _(this,null,function*(){return ki(n,"POST","/v1/accounts:delete",e)})}function op(n,e){return _(this,null,function*(){return ki(n,"POST","/v1/accounts:lookup",e)})}function Wu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function aI(n,e=!1){return _(this,null,function*(){let t=xt(n),r=yield t.getIdToken(e),i=cI(r);X(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Wu(OE(i.auth_time)),issuedAtTime:Wu(OE(i.iat)),expirationTime:Wu(OE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function OE(n){return Number(n)*1e3}function cI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Hf(t);return i?JSON.parse(i):(Xf("Failed to decode base64 JWT payload"),null)}catch(i){return Xf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cN(n){let e=cI(n);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Qu(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof cn&&W$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function W$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var BE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Yu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function sp(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Qu(n,op(t,{idToken:r}));X(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?SN(o.providerUserInfo):[],a=K$(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Yu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function uI(n){return _(this,null,function*(){let e=xt(n);yield sp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function K$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SN(n){return n.map(e=>{var{providerId:t}=e,r=Dm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Q$(n,e){return _(this,null,function*(){let t=yield bN(n,{},()=>_(null,null,function*(){let r=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield CN(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Ti(n.emulatorConfig.host)&&(u.credentials="include"),ip.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Y$(n,e){return _(this,null,function*(){return ki(n,"POST","/v2/accounts:revokeToken",Pi(n,e))})}var Ku=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){X(e.length!==0,"internal-error");let t=cN(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Q$(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(X(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(X(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Fr("not implemented")}};function Ni(n,e){X(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Mi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Dm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield Qu(this,this.stsTokenManager.getToken(this.auth,e));return X(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return aI(this,e)}reload(){return uI(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield sp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Zt(this.auth.app))return Promise.reject(Vr(this.auth));let e=yield this.getIdToken();return yield Qu(this,G$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,P=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,G=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:Z,isAnonymous:ke,providerData:pe,stsTokenManager:D}=t;X(Q&&D,e,"internal-error");let v=Ku.fromJSON(this.name,D);X(typeof Q=="string",e,"internal-error"),Ni(p,e.name),Ni(m,e.name),X(typeof Z=="boolean",e,"internal-error"),X(typeof ke=="boolean",e,"internal-error"),Ni(y,e.name),Ni(C,e.name),Ni(P,e.name),Ni(N,e.name),Ni(k,e.name),Ni(G,e.name);let I=new n({uid:Q,auth:e,email:m,emailVerified:Z,displayName:p,isAnonymous:ke,photoURL:C,phoneNumber:y,tenantId:P,stsTokenManager:v,createdAt:k,lastLoginAt:G});return pe&&Array.isArray(pe)&&(I.providerData=pe.map(w=>Object.assign({},w))),N&&(I._redirectEventId=N),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new Ku;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield sp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];X(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?SN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ku;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Yu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var uN=new Map;function Lr(n){xi(n instanceof Function,"Expected a class definition");let e=uN.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uN.set(n,e),e)}var J$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),$E=J$;function ep(n,e,t){return`firebase:${n}:${e}:${t}`}var ap=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ep(this.userKey,i.apiKey,o),this.fullPersistenceKey=ep("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield op(this.auth,{idToken:e}).catch(()=>{});return t?Mi._fromGetAccountInfoResponse(this.auth,t,e):null}return Mi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(Lr($E),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Lr($E),s=ep(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield op(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Mi._fromGetAccountInfoResponse(e,m,h)}else p=Mi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function lN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PN(e))return"Blackberry";if(kN(e))return"Webos";if(RN(e))return"Safari";if((e.includes("chrome/")||NN(e))&&!e.includes("edge/"))return"Chrome";if(xN(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function AN(n=gt()){return/firefox\//i.test(n)}function RN(n=gt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NN(n=gt()){return/crios\//i.test(n)}function MN(n=gt()){return/iemobile/i.test(n)}function xN(n=gt()){return/android/i.test(n)}function PN(n=gt()){return/blackberry/i.test(n)}function kN(n=gt()){return/webos/i.test(n)}function lI(n=gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Z$(n=gt()){var e;return lI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X$(){return CR()&&document.documentMode===10}function ON(n=gt()){return lI(n)||xN(n)||kN(n)||PN(n)||/windows phone/i.test(n)||MN(n)}function FN(n,e=[]){let t;switch(n){case"Browser":t=lN(gt());break;case"Worker":t=`${lN(gt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ci}/${r}`}var HE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function eH(t){return _(this,arguments,function*(n,e={}){return ki(n,"GET","/v2/passwordPolicy",Pi(n,e))})}var tH=6,zE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:tH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var qE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cp(this),this.idTokenSubscription=new cp(this),this.beforeStateQueue=new HE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Lr(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield ap.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield op(this,{idToken:e}),r=yield Mi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(Zt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield sp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=U$()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Zt(this.app))return Promise.reject(Vr(this));let t=e?xt(e):null;return t&&X(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Zt(this.app)?Promise.reject(Vr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Zt(this.app)?Promise.reject(Vr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Lr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield eH(this),t=new zE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Y$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Lr(e)||this._popupRedirectResolver;X(t,this,"argument-error"),this.redirectPersistenceManager=yield ap.create(this,[Lr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&L$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function zo(n){return xt(n)}var cp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=NR(t=>this.observer=t)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var gp={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nH(n){gp=n}function LN(n){return gp.loadJS(n)}function rH(){return gp.recaptchaEnterpriseScript}function iH(){return gp.gapiScript}function VN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var GE=class{constructor(){this.enterprise=new WE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},WE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var oH="recaptcha-enterprise",jN="NO_RECAPTCHA",KE=class{constructor(e){this.type=oH,this.auth=zo(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){q$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new UE(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;aN(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(jN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&aN(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=rH();u.length!==0&&(u+=a),LN(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Gu(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new KE(n),s;if(i)s=jN;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function QE(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Gu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Gu(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Gu(n,e,t);return r(n,a).catch(u=>_(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Gu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield Gu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function dI(n,e){let t=la(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ar(o,e??{}))return i;dr(i,"already-initialized")}return t.initialize({options:e})}function sH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Lr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function hI(n,e,t){let r=zo(n);X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=UN(e),{host:s,port:a}=aH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){X(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),X(ar(l,r.config.emulator)&&ar(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ti(s)?(qf(`${o}//${s}${u}`),Gf("Auth",!0)):i||cH()}function UN(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function aH(n){let e=UN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:dN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:dN(s)}}}function dN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function cH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ju=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,t){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}};function uH(n,e){return _(this,null,function*(){return ki(n,"POST","/v1/accounts:signUp",e)})}function lH(n,e){return _(this,null,function*(){return el(n,"POST","/v1/accounts:signInWithPassword",Pi(n,e))})}function dH(n,e){return _(this,null,function*(){return el(n,"POST","/v1/accounts:signInWithEmailLink",Pi(n,e))})}function hH(n,e){return _(this,null,function*(){return el(n,"POST","/v1/accounts:signInWithEmailLink",Pi(n,e))})}var Zu=class n extends Ju{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return QE(e,t,"signInWithPassword",lH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dH(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return QE(e,r,"signUpPassword",uH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return hH(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function FE(n,e){return _(this,null,function*(){return el(n,"POST","/v1/accounts:signInWithIdp",Pi(n,e))})}function fH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pH(n){let e=ca(ua(n)).link,t=e?ca(ua(e)).deep_link_id:null,r=ca(ua(n)).deep_link_id;return(r?ca(ua(r)).link:null)||r||t||e||n}var up=class n{constructor(e){var t,r,i,o,s,a;let u=ca(ua(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=fH((i=u.mode)!==null&&i!==void 0?i:null);X(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=pH(e);try{return new n(t)}catch{return null}}};var BN=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Zu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=up.parseLink(r);return X(i,"argument-error"),Zu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),lp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var YE=class extends lp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function gH(n,e){return _(this,null,function*(){return el(n,"POST","/v1/accounts:signUp",Pi(n,e))})}var pa=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield Mi._fromIdTokenResponse(e,r,i),s=hN(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=hN(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function hN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var JE=class n extends cn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function $N(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?JE._fromErrorAndOperation(n,o,e,r):o})}function mH(n,e,t=!1){return _(this,null,function*(){let r=yield Qu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return pa._forOperation(n,"link",r)})}function yH(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(Zt(r.app))return Promise.reject(Vr(r));let i="reauthenticate";try{let o=yield Qu(n,$N(r,i,e,n),t);X(o.idToken,r,"internal-error");let s=cI(o.idToken);X(s,r,"internal-error");let{sub:a}=s;return X(n.uid===a,r,"user-mismatch"),pa._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&dr(r,"user-mismatch"),o}})}function HN(n,e,t=!1){return _(this,null,function*(){if(Zt(n.app))return Promise.reject(Vr(n));let r="signIn",i=yield $N(n,r,e),o=yield pa._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function fI(n,e){return _(this,null,function*(){return HN(zo(n),e)})}function zN(n){return _(this,null,function*(){let e=zo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function pI(n,e,t){return _(this,null,function*(){if(Zt(n.app))return Promise.reject(Vr(n));let r=zo(n),s=yield QE(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gH,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&zN(n),u}),a=yield pa._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function gI(n,e,t){return Zt(n.app)?Promise.reject(Vr(n)):fI(xt(n),BN.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&zN(n),r}))}function tl(n,e,t,r){return xt(n).onIdTokenChanged(e,t,r)}function mI(n,e,t){return xt(n).beforeAuthStateChanged(e,t)}function yI(n){return xt(n).signOut()}var dp="__sak";var hp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dp,"1"),this.storage.removeItem(dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var vH=1e3,_H=10,EH=(()=>{class n extends hp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ON(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);X$()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,_H):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},vH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield Jr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield Jr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield Jr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),qN=EH;var IH=(()=>{class n extends hp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),vI=IH;function wH(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var DH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield wH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function GN(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var ZE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=GN("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function lr(){return window}function TH(n){lr().location.href=n}function WN(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}function bH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function CH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function SH(){return WN()?self:null}var KN="firebaseLocalStorageDb",AH=1,fp="firebaseLocalStorage",QN="fbase_key",Ho=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function mp(n,e){return n.transaction([fp],e?"readwrite":"readonly").objectStore(fp)}function RH(){let n=indexedDB.deleteDatabase(KN);return new Ho(n).toPromise()}function XE(){let n=indexedDB.open(KN,AH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(fp,{keyPath:QN})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(fp)?e(r):(r.close(),yield RH(),e(yield XE()))}))})}function fN(n,e,t){return _(this,null,function*(){let r=mp(n,!0).put({[QN]:e,value:t});return new Ho(r).toPromise()})}function NH(n,e){return _(this,null,function*(){let t=mp(n,!1).get(e),r=yield new Ho(t).toPromise();return r===void 0?null:r.value})}function pN(n,e){let t=mp(n,!0).delete(e);return new Ho(t).toPromise()}var MH=800,xH=3,PH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield XE(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>xH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return WN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=DH._getInstance(SH()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield bH(),!this.activeServiceWorker)return;this.sender=new ZE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||CH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield XE();return yield fN(t,dp,"1"),yield pN(t,dp),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>fN(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>NH(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>pN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=mp(o,!1).getAll();return new Ho(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),MH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),YN=PH;var Mse=VN("rcb"),xse=new $o(3e4,6e4);function kH(n,e){return e?Lr(e):(X(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Xu=class extends Ju{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return FE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return FE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return FE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function OH(n){return HN(n.auth,new Xu(n),n.bypassAuthState)}function FH(n){let{auth:e,user:t}=n;return X(t,e,"internal-error"),yH(t,new Xu(n),n.bypassAuthState)}function LH(n){return _(this,null,function*(){let{auth:e,user:t}=n;return X(t,e,"internal-error"),mH(t,new Xu(n),n.bypassAuthState)})}var eI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OH;case"linkViaPopup":case"linkViaRedirect":return LH;case"reauthViaPopup":case"reauthViaRedirect":return FH;default:dr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Pse=new $o(2e3,1e4);var VH="pendingRedirect",tp=new Map,tI=class n extends eI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=tp.get(this.auth._key());if(!e){try{let r=(yield jH(this.resolver,this.auth))?yield Jr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}tp.set(this.auth._key(),e)}return this.bypassAuthState||tp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Jr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Jr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function jH(n,e){return _(this,null,function*(){let t=$H(e),r=BH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function UH(n,e){tp.set(n._key(),e)}function BH(n){return Lr(n._redirectPersistence)}function $H(n){return ep(VH,n.config.apiKey,n.name)}function HH(n,e,t=!1){return _(this,null,function*(){if(Zt(n.app))return Promise.reject(Vr(n));let r=zo(n),i=kH(r,e),s=yield new tI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var zH=600*1e3,nI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!JN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Bo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zH&&this.cachedEventUids.clear(),this.cachedEventUids.has(gN(e))}saveEventToCache(e){this.cachedEventUids.add(gN(e)),this.lastProcessedEventTime=Date.now()}};function gN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function JN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function qH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JN(n);default:return!1}}function GH(t){return _(this,arguments,function*(n,e={}){return ki(n,"GET","/v1/projects",e)})}var WH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KH=/^https?/;function QH(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield GH(n);for(let t of e)try{if(YH(t))return}catch{}dr(n,"unauthorized-domain")})}function YH(n){let e=VE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!KH.test(t))return!1;if(WH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var JH=new $o(3e4,6e4);function mN(){let n=lr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ZH(n){return new Promise((e,t)=>{var r,i,o;function s(){mN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mN(),t(Bo(n,"network-request-failed"))},timeout:JH.get()})}if(!((i=(r=lr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=lr().gapi)===null||o===void 0)&&o.load)s();else{let a=VN("iframefcb");return lr()[a]=()=>{gapi.load?s():t(Bo(n,"network-request-failed"))},LN(`${iH()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw np=null,e})}var np=null;function XH(n){return np=np||ZH(n),np}var e4=new $o(5e3,15e3),t4="__/auth/iframe",n4="emulator/auth/iframe",r4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o4(n){let e=n.config;X(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?sI(e,n4):`https://${n.config.authDomain}/${t4}`,r={apiKey:e.apiKey,appName:n.name,v:Ci},i=i4.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Uu(r).slice(1)}`}function s4(n){return _(this,null,function*(){let e=yield XH(n),t=lr().gapi;return X(t,n,"internal-error"),e.open({where:document.body,url:o4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r4,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Bo(n,"network-request-failed"),a=lr().setTimeout(()=>{o(s)},e4.get());function u(){lr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var a4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c4=500,u4=600,l4="_blank",d4="http://localhost",pp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function h4(n,e,t,r=c4,i=u4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},a4),{width:r.toString(),height:i.toString(),top:o,left:s}),l=gt().toLowerCase();t&&(a=NN(l)?l4:t),AN(l)&&(e=e||d4,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(Z$(l)&&a!=="_self")return f4(e||"",a),new pp(null);let p=window.open(e||"",a,h);X(p,n,"popup-blocked");try{p.focus()}catch{}return new pp(p)}function f4(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var p4="__/auth/handler",g4="emulator/auth/handler",m4=encodeURIComponent("fac");function yN(n,e,t,r,i,o){return _(this,null,function*(){X(n.config.authDomain,n,"auth-domain-config-required"),X(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ci,eventId:i};if(e instanceof lp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",RR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof YE){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${m4}=${encodeURIComponent(u)}`:"";return`${y4(n)}?${Uu(a).slice(1)}${l}`})}function y4({config:n}){return n.emulator?sI(n,g4):`https://${n.authDomain}/${p4}`}var LE="webStorageSupport",rI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vI,this._completeRedirectFn=HH,this._overrideRedirectResult=UH}_openPopup(e,t,r,i){return _(this,null,function*(){var o;xi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield yN(e,t,r,VE(),i);return h4(e,s,GN())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield yN(e,t,r,VE(),i);return TH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(xi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield s4(e),r=new nI(e);return t.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(LE,{type:LE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[LE];s!==void 0&&t(!!s),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ON()||RN()||lI()}},ZN=rI;var vN="@firebase/auth",_N="1.10.8";var iI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function v4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _4(n){jn(new $t("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FN(n)},l=new qE(r,i,o,u);return sH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),jn(new $t("auth-internal",e=>{let t=zo(e.getProvider("auth").getImmediate());return(r=>new iI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(vN,_N,v4(n)),Qe(vN,_N,"esm2017")}var E4=300,I4=hE("authIdTokenMaxAge")||E4,EN=null,w4=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>I4)return;let i=t?.token;EN!==i&&(EN=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function _I(n=Vo()){let e=la(n,"auth");if(e.isInitialized())return e.getImmediate();let t=dI(n,{popupRedirectResolver:ZN,persistence:[YN,qN,vI]}),r=hE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=w4(o.toString());mI(t,s,()=>s(t.currentUser)),tl(t,a=>s(a))}}let i=lE("auth");return i&&hI(t,`http://${i}`),t}function D4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Bo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",D4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_4("Browser");function tM(n){return new ee(function(e){var t=tl(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var nM="auth",jr=class{constructor(e){return e}},nl=class{constructor(){return ha(nM)}};var EI=new $("angularfire2.auth-instances");function l3(n,e){let t=Hu(nM,n,e);return t&&new jr(t)}function d3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new jr(r)}}var h3={provide:nl,deps:[[new on,EI]]},f3={provide:jr,useFactory:l3,deps:[[new on,EI],Or]};function rM(n,...e){return Qe("angularfire",Si.full,"auth"),nn([f3,h3,{provide:EI,useFactory:d3(n),multi:!0,deps:[De,qe,Ai,Uo,[new on,fa],...e]}])}var yp=Ht(tM,!0);var iM=Ht(pI,!0,2);var oM=Ht(_I,!0);var sM=Ht(gI,!0,2);var aM=Ht(yI,!0,2);var cM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uM={};var Ur,II;(function(){var n;function e(D,v){function I(){}I.prototype=v.prototype,D.D=v.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(w,T,S){for(var E=Array(arguments.length-2),gr=2;gr<arguments.length;gr++)E[gr-2]=arguments[gr];return v.prototype[T].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)w[T]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(T=0;16>T;++T)w[T]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=D.g[0],I=D.g[1],T=D.g[2];var S=D.g[3],E=v+(S^I&(T^S))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=S+(T^v&(I^T))+w[1]+3905402710&4294967295,S=v+(E<<12&4294967295|E>>>20),E=T+(I^S&(v^I))+w[2]+606105819&4294967295,T=S+(E<<17&4294967295|E>>>15),E=I+(v^T&(S^v))+w[3]+3250441966&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(S^I&(T^S))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(T^v&(I^T))+w[5]+1200080426&4294967295,S=v+(E<<12&4294967295|E>>>20),E=T+(I^S&(v^I))+w[6]+2821735955&4294967295,T=S+(E<<17&4294967295|E>>>15),E=I+(v^T&(S^v))+w[7]+4249261313&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(S^I&(T^S))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(T^v&(I^T))+w[9]+2336552879&4294967295,S=v+(E<<12&4294967295|E>>>20),E=T+(I^S&(v^I))+w[10]+4294925233&4294967295,T=S+(E<<17&4294967295|E>>>15),E=I+(v^T&(S^v))+w[11]+2304563134&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(S^I&(T^S))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(T^v&(I^T))+w[13]+4254626195&4294967295,S=v+(E<<12&4294967295|E>>>20),E=T+(I^S&(v^I))+w[14]+2792965006&4294967295,T=S+(E<<17&4294967295|E>>>15),E=I+(v^T&(S^v))+w[15]+1236535329&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(T^S&(I^T))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^T&(v^I))+w[6]+3225465664&4294967295,S=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(S^v))+w[11]+643717713&4294967295,T=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(T^S))+w[0]+3921069994&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^S&(I^T))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^T&(v^I))+w[10]+38016083&4294967295,S=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(S^v))+w[15]+3634488961&4294967295,T=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(T^S))+w[4]+3889429448&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^S&(I^T))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^T&(v^I))+w[14]+3275163606&4294967295,S=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(S^v))+w[3]+4107603335&4294967295,T=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(T^S))+w[8]+1163531501&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^S&(I^T))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^T&(v^I))+w[2]+4243563512&4294967295,S=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(S^v))+w[7]+1735328473&4294967295,T=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(T^S))+w[12]+2368359562&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(I^T^S)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^T)+w[8]+2272392833&4294967295,S=v+(E<<11&4294967295|E>>>21),E=T+(S^v^I)+w[11]+1839030562&4294967295,T=S+(E<<16&4294967295|E>>>16),E=I+(T^S^v)+w[14]+4259657740&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^S)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^T)+w[4]+1272893353&4294967295,S=v+(E<<11&4294967295|E>>>21),E=T+(S^v^I)+w[7]+4139469664&4294967295,T=S+(E<<16&4294967295|E>>>16),E=I+(T^S^v)+w[10]+3200236656&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^S)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^T)+w[0]+3936430074&4294967295,S=v+(E<<11&4294967295|E>>>21),E=T+(S^v^I)+w[3]+3572445317&4294967295,T=S+(E<<16&4294967295|E>>>16),E=I+(T^S^v)+w[6]+76029189&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^S)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^T)+w[12]+3873151461&4294967295,S=v+(E<<11&4294967295|E>>>21),E=T+(S^v^I)+w[15]+530742520&4294967295,T=S+(E<<16&4294967295|E>>>16),E=I+(T^S^v)+w[2]+3299628645&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(T^(I|~S))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~T))+w[7]+1126891415&4294967295,S=v+(E<<10&4294967295|E>>>22),E=T+(v^(S|~I))+w[14]+2878612391&4294967295,T=S+(E<<15&4294967295|E>>>17),E=I+(S^(T|~v))+w[5]+4237533241&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~S))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~T))+w[3]+2399980690&4294967295,S=v+(E<<10&4294967295|E>>>22),E=T+(v^(S|~I))+w[10]+4293915773&4294967295,T=S+(E<<15&4294967295|E>>>17),E=I+(S^(T|~v))+w[1]+2240044497&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~S))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~T))+w[15]+4264355552&4294967295,S=v+(E<<10&4294967295|E>>>22),E=T+(v^(S|~I))+w[6]+2734768916&4294967295,T=S+(E<<15&4294967295|E>>>17),E=I+(S^(T|~v))+w[13]+1309151649&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~S))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~T))+w[11]+3174756917&4294967295,S=v+(E<<10&4294967295|E>>>22),E=T+(v^(S|~I))+w[2]+718787259&4294967295,T=S+(E<<15&4294967295|E>>>17),E=I+(S^(T|~v))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var I=v-this.blockSize,w=this.B,T=this.h,S=0;S<v;){if(T==0)for(;S<=I;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(w[T++]=D.charCodeAt(S++),T==this.blockSize){i(this,w),T=0;break}}else for(;S<v;)if(w[T++]=D[S++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var I=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=I&255,I/=256;for(this.u(D),D=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)D[I++]=this.g[v]>>>w&255;return D};function o(D,v){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=v(D)}function s(D,v){this.h=v;for(var I=[],w=!0,T=D.length-1;0<=T;T--){var S=D[T]|0;w&&S==v||(I[T]=S,w=!1)}this.g=I}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var v=[],I=1,w=0;D>=I;w++)v[w]=D/I|0,I*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return N(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,T=0;T<D.length;T+=8){var S=Math.min(8,D.length-T),E=parseInt(D.substring(T,T+S),v);8>S?(S=l(Math.pow(v,S)),w=w.j(S).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-N(this).m();for(var D=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);D+=(0<=w?w:4294967296+w)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(P(this))return"-"+N(this).toString(D);for(var v=l(Math.pow(D,6)),I=this,w="";;){var T=Z(I,v).g;I=k(I,T.j(v));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=T,C(I))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function P(D){return D.h==-1}n.l=function(D){return D=k(this,D),P(D)?-1:C(D)?0:1};function N(D){for(var v=D.g.length,I=[],w=0;w<v;w++)I[w]=~D.g[w];return new s(I,~D.h).add(m)}n.abs=function(){return P(this)?N(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0,T=0;T<=v;T++){var S=w+(this.i(T)&65535)+(D.i(T)&65535),E=(S>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);w=E>>>16,S&=65535,E&=65535,I[T]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function k(D,v){return D.add(N(v))}n.j=function(D){if(C(this)||C(D))return p;if(P(this))return P(D)?N(this).j(N(D)):N(N(this).j(D));if(P(D))return N(this.j(N(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<D.g.length;T++){var S=this.i(w)>>>16,E=this.i(w)&65535,gr=D.i(T)>>>16,Qa=D.i(T)&65535;I[2*w+2*T]+=E*Qa,G(I,2*w+2*T),I[2*w+2*T+1]+=S*Qa,G(I,2*w+2*T+1),I[2*w+2*T+1]+=E*gr,G(I,2*w+2*T+1),I[2*w+2*T+2]+=S*gr,G(I,2*w+2*T+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function G(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function Q(D,v){this.g=D,this.h=v}function Z(D,v){if(C(v))throw Error("division by zero");if(C(D))return new Q(p,p);if(P(D))return v=Z(N(D),v),new Q(N(v.g),N(v.h));if(P(v))return v=Z(D,N(v)),new Q(N(v.g),v.h);if(30<D.g.length){if(P(D)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=v;0>=w.l(D);)I=ke(I),w=ke(w);var T=pe(I,1),S=pe(w,1);for(w=pe(w,2),I=pe(I,2);!C(w);){var E=S.add(w);0>=E.l(D)&&(T=T.add(I),S=E),w=pe(w,1),I=pe(I,1)}return v=k(D,T.j(v)),new Q(T,v)}for(T=p;0<=D.l(v);){for(I=Math.max(1,Math.floor(D.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(I),E=S.j(v);P(E)||0<E.l(D);)I-=w,S=l(I),E=S.j(v);C(S)&&(S=m),T=T.add(S),D=k(D,E)}return new Q(T,D)}n.A=function(D){return Z(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&D.i(w);return new s(I,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|D.i(w);return new s(I,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^D.i(w);return new s(I,this.h^D.h)};function ke(D){for(var v=D.g.length+1,I=[],w=0;w<v;w++)I[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(I,D.h)}function pe(D,v){var I=v>>5;v%=32;for(var w=D.g.length-I,T=[],S=0;S<w;S++)T[S]=0<v?D.i(S+I)>>>v|D.i(S+I+1)<<32-v:D.i(S+I);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,II=uM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Ur=uM.Integer=s}).apply(typeof cM<"u"?cM:typeof self<"u"?self:typeof window<"u"?window:{});var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Br={};var wI,p3,ga,DI,rl,_p,TI,bI,CI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vp=="object"&&vp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var U=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)U[Me-2]=arguments[Me];return d.prototype[b].apply(g,U)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let U=0;U<A;U++)c[b+U]=g[U]}else c.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var ke=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function pe(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=xg;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class gr{constructor(){this.h=this.g=null}add(d,f){let g=Qa.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Qa=new k(()=>new nk,c=>c.reset());class nk{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ya,Ja=!1,xg=new gr,YD=()=>{let c=a.Promise.resolve(void 0);Ya=()=>{c.then(rk)}};var rk=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=Qa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ja=!1};function Wr(){this.s=this.s,this.C=this.C}Wr.prototype.s=!1,Wr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Wr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function wt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var ik=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function Za(c,d){if(wt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ke){e:{try{Z(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ok[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Za.aa.h.call(this)}}C(Za,wt);var ok={2:"touch",3:"pen",4:"mouse"};Za.prototype.h=function(){Za.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Xa="closure_listenable_"+(1e6*Math.random()|0),sk=0;function ak(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++sk,this.da=this.fa=!1}function kl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ol(c){this.src=c,this.g={},this.h=0}Ol.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var U=kg(c,d,g,b);return-1<U?(d=c[U],f||(d.fa=!1)):(d=new ak(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function Pg(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(kl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function kg(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var Og="closure_lm_"+(1e6*Math.random()|0),Fg={};function JD(c,d,f,g,b){if(g&&g.once)return XD(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)JD(c,d[A],f,g,b);return null}return f=Ug(f),c&&c[Xa]?c.K(d,f,l(g)?!!g.capture:!!g,b):ZD(c,d,f,!1,g,b)}function ZD(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var U=l(b)?!!b.capture:!!b,Me=Vg(c);if(Me||(c[Og]=Me=new Ol(c)),f=Me.add(d,f,g,U,A),f.proxy)return f;if(g=ck(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)ik||(b=U),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(tT(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ck(){function c(f){return d.call(c.src,c.listener,f)}let d=uk;return c}function XD(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)XD(c,d[A],f,g,b);return null}return f=Ug(f),c&&c[Xa]?c.L(d,f,l(g)?!!g.capture:!!g,b):ZD(c,d,f,!0,g,b)}function eT(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)eT(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=Ug(f),c&&c[Xa]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=kg(A,f,g,b),-1<f&&(kl(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Vg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=kg(d,f,g,b)),(f=-1<c?d[c]:null)&&Lg(f))}function Lg(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Xa])Pg(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(tT(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Vg(d))?(Pg(f,c),f.h==0&&(f.src=null,d[Og]=null)):kl(c)}}}function tT(c){return c in Fg?Fg[c]:Fg[c]="on"+c}function uk(c,d){if(c.da)c=!0;else{d=new Za(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Lg(c),c=f.call(g,d)}return c}function Vg(c){return c=c[Og],c instanceof Ol?c:null}var jg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ug(c){return typeof c=="function"?c:(c[jg]||(c[jg]=function(d){return c.handleEvent(d)}),c[jg])}function Dt(){Wr.call(this),this.i=new Ol(this),this.M=this,this.F=null}C(Dt,Wr),Dt.prototype[Xa]=!0,Dt.prototype.removeEventListener=function(c,d,f,g){eT(this,c,d,f,g)};function Ot(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new wt(d,c);else if(d instanceof wt)d.target=d.target||c;else{var b=d;d=new wt(g,c),w(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var U=d.g=f[A];b=Fl(U,g,!0,d)&&b}if(U=d.g=c,b=Fl(U,g,!0,d)&&b,b=Fl(U,g,!1,d)&&b,f)for(A=0;A<f.length;A++)U=d.g=f[A],b=Fl(U,g,!1,d)&&b}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)kl(f[g]);delete c.g[d],c.h--}}this.F=null},Dt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Dt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Fl(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var U=d[A];if(U&&!U.da&&U.capture==f){var Me=U.listener,vt=U.ha||U.src;U.fa&&Pg(c.i,U),b=Me.call(vt,g)!==!1&&b}}return b&&!g.defaultPrevented}function nT(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function rT(c){c.g=nT(()=>{c.g=null,c.i&&(c.i=!1,rT(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class lk extends Wr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:rT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ec(c){Wr.call(this),this.h=c,this.g={}}C(ec,Wr);var iT=[];function oT(c){pe(c.g,function(d,f){this.g.hasOwnProperty(f)&&Lg(d)},c),c.g={}}ec.prototype.N=function(){ec.aa.N.call(this),oT(this)},ec.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bg=a.JSON.stringify,dk=a.JSON.parse,hk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function $g(){}$g.prototype.h=null;function sT(c){return c.h||(c.h=c.i())}function aT(){}var tc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hg(){wt.call(this,"d")}C(Hg,wt);function zg(){wt.call(this,"c")}C(zg,wt);var qi={},cT=null;function Ll(){return cT=cT||new Dt}qi.La="serverreachability";function uT(c){wt.call(this,qi.La,c)}C(uT,wt);function nc(c){let d=Ll();Ot(d,new uT(d))}qi.STAT_EVENT="statevent";function lT(c,d){wt.call(this,qi.STAT_EVENT,c),this.stat=d}C(lT,wt);function Ft(c){let d=Ll();Ot(d,new lT(d,c))}qi.Ma="timingevent";function dT(c,d){wt.call(this,qi.Ma,c),this.size=d}C(dT,wt);function rc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ic(){this.g=!0}ic.prototype.xa=function(){this.g=!1};function fk(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var U="",Me=A.split("&"),vt=0;vt<Me.length;vt++){var we=Me[vt].split("=");if(1<we.length){var Tt=we[0];we=we[1];var bt=Tt.split("_");U=2<=bt.length&&bt[1]=="type"?U+(Tt+"="+we+"&"):U+(Tt+"=redacted&")}}else U=null;else U=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+U})}function pk(c,d,f,g,b,A,U){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+U})}function es(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+mk(c,f)+(g?" "+g:"")})}function gk(c,d){c.info(function(){return"TIMEOUT: "+d})}ic.prototype.info=function(){};function mk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var U=1;U<b.length;U++)b[U]=""}}}}return Bg(f)}catch{return d}}var Vl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qg;function jl(){}C(jl,$g),jl.prototype.g=function(){return new XMLHttpRequest},jl.prototype.i=function(){return{}},qg=new jl;function Kr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ec(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fT}function fT(){this.i=null,this.g="",this.h=!1}var pT={},Gg={};function Wg(c,d,f){c.L=1,c.v=Hl(mr(d)),c.m=f,c.P=!0,gT(c,null)}function gT(c,d){c.F=Date.now(),Ul(c),c.A=mr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),RT(f.i,"t",g),c.C=0,f=c.j.J,c.h=new fT,c.g=WT(c.j,f?d:null,!c.m),0<c.O&&(c.M=new lk(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(iT[0]=b.toString()),b=iT);for(var A=0;A<b.length;A++){var U=JD(f,b[A],g||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),nc(),fk(c.i,c.u,c.A,c.l,c.R,c.m)}Kr.prototype.ca=function(c){c=c.target;let d=this.M;d&&yr(c)==3?d.j():this.Y(c)},Kr.prototype.Y=function(c){try{if(c==this.g)e:{let bt=yr(this.g);var d=this.g.Ba();let rs=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||FT(this.g)))){this.J||bt!=4||d==7||(d==8||0>=rs?nc(3):nc(2)),Kg(this);var f=this.g.Z();this.X=f;t:if(mT(this)){var g=FT(this.g);c="";var b=g.length,A=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),oc(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,pk(this.i,this.u,this.A,this.l,this.R,bt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,vt=this.g;if((Me=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Me)){var we=Me;break t}}we=null}if(f=we)es(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qg(this,f);else{this.o=!1,this.s=3,Ft(12),Gi(this),oc(this);break e}}if(this.P){f=!0;let wn;for(;!this.J&&this.C<U.length;)if(wn=yk(this,U),wn==Gg){bt==4&&(this.s=4,Ft(14),f=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==pT){this.s=4,Ft(15),es(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else es(this.i,this.l,wn,null),Qg(this,wn);if(mT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||U.length!=0||this.h.h||(this.s=1,Ft(16),f=!1),this.o=this.o&&f,!f)es(this.i,this.l,U,"[Invalid Chunked Response]"),Gi(this),oc(this);else if(0<U.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),tm(Tt),Tt.M=!0,Ft(11))}}else es(this.i,this.l,U,null),Qg(this,U);bt==4&&Gi(this),this.o&&!this.J&&(bt==4?HT(this.j,this):(this.o=!1,Ul(this)))}else kk(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),Gi(this),oc(this)}}}catch{}finally{}};function mT(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yk(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Gg:(f=Number(d.substring(f,g)),isNaN(f)?pT:(g+=1,g+f>d.length?Gg:(d=d.slice(g,g+f),c.C=g+f,d)))}Kr.prototype.cancel=function(){this.J=!0,Gi(this)};function Ul(c){c.S=Date.now()+c.I,yT(c,c.I)}function yT(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=rc(m(c.ba,c),d)}function Kg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Kr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(gk(this.i,this.A),this.L!=2&&(nc(),Ft(17)),Gi(this),this.s=2,oc(this)):yT(this,this.S-c)};function oc(c){c.j.G==0||c.J||HT(c.j,c)}function Gi(c){Kg(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,oT(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Qg(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Yg(f.h,c))){if(!c.K&&Yg(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Kl(f),Gl(f);else break e;em(f),Ft(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=rc(m(f.Za,f),6e3));if(1>=ET(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ki(f,11)}else if((c.K||f.g==c)&&Kl(f),!G(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let we=b[d];if(f.T=we[0],we=we[1],f.G==2)if(we[0]=="c"){f.K=we[1],f.ia=we[2];let Tt=we[3];Tt!=null&&(f.la=Tt,f.j.info("VER="+f.la));let bt=we[4];bt!=null&&(f.Aa=bt,f.j.info("SVER="+f.Aa));let rs=we[5];rs!=null&&typeof rs=="number"&&0<rs&&(g=1.5*rs,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let wn=c.g;if(wn){let Yl=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yl){var A=g.h;A.g||Yl.indexOf("spdy")==-1&&Yl.indexOf("quic")==-1&&Yl.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Jg(A,A.h),A.h=null))}if(g.D){let nm=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;nm&&(g.ya=nm,Fe(g.I,g.D,nm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var U=c;if(g.qa=GT(g,g.J?g.ia:null,g.W),U.K){IT(g.h,U);var Me=U,vt=g.L;vt&&(Me.I=vt),Me.B&&(Kg(Me),Ul(Me)),g.g=U}else BT(g);0<f.i.length&&Wl(f)}else we[0]!="stop"&&we[0]!="close"||Ki(f,7);else f.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Ki(f,7):Xg(f):we[0]!="noop"&&f.l&&f.l.ta(we),f.v=0)}}nc(4)}catch{}}var vk=class{constructor(c,d){this.g=c,this.map=d}};function vT(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _T(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ET(c){return c.h?1:c.g?c.g.size:0}function Yg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Jg(c,d){c.g?c.g.add(d):c.h=d}function IT(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}vT.prototype.cancel=function(){if(this.i=wT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function wT(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function _k(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function Ek(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function DT(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Ek(c),g=_k(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var TT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ik(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Wi){this.h=c.h,Bl(this,c.j),this.o=c.o,this.g=c.g,$l(this,c.s),this.l=c.l;var d=c.i,f=new cc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),bT(this,f),this.m=c.m}else c&&(d=String(c).match(TT))?(this.h=!1,Bl(this,d[1]||"",!0),this.o=sc(d[2]||""),this.g=sc(d[3]||"",!0),$l(this,d[4]),this.l=sc(d[5]||"",!0),bT(this,d[6]||"",!0),this.m=sc(d[7]||"")):(this.h=!1,this.i=new cc(null,this.h))}Wi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ac(d,CT,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ac(d,CT,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ac(f,f.charAt(0)=="/"?Tk:Dk,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ac(f,Ck)),c.join("")};function mr(c){return new Wi(c)}function Bl(c,d,f){c.j=f?sc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function $l(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function bT(c,d,f){d instanceof cc?(c.i=d,Sk(c.i,c.h)):(f||(d=ac(d,bk)),c.i=new cc(d,c.h))}function Fe(c,d,f){c.i.set(d,f)}function Hl(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function sc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ac(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,wk),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var CT=/[#\/\?@]/g,Dk=/[#\?:]/g,Tk=/[#\?]/g,bk=/[#\?@]/g,Ck=/#/g;function cc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Qr(c){c.g||(c.g=new Map,c.h=0,c.i&&Ik(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=cc.prototype,n.add=function(c,d){Qr(this),this.i=null,c=ts(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function ST(c,d){Qr(c),d=ts(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function AT(c,d){return Qr(c),d=ts(c,d),c.g.has(d)}n.forEach=function(c,d){Qr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){Qr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},n.V=function(c){Qr(this);let d=[];if(typeof c=="string")AT(this,c)&&(d=d.concat(this.g.get(ts(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Qr(this),this.i=null,c=ts(this,c),AT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function RT(c,d,f){ST(c,d),0<f.length&&(c.i=null,c.g.set(ts(c,d),P(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),U=this.V(g);for(g=0;g<U.length;g++){var b=A;U[g]!==""&&(b+="="+encodeURIComponent(String(U[g]))),c.push(b)}}return this.i=c.join("&")};function ts(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Sk(c,d){d&&!c.j&&(Qr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(ST(this,g),RT(this,b,f))},c)),c.j=d}function Ak(c,d){let f=new ic;if(a.Image){let g=new Image;g.onload=y(Yr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Yr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Yr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Yr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function Rk(c,d){let f=new ic,g=new AbortController,b=setTimeout(()=>{g.abort(),Yr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?Yr(f,"TestPingServer: ok",!0,d):Yr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Yr(f,"TestPingServer: error",!1,d)})}function Yr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function Nk(){this.g=new hk}function Mk(c,d,f){let g=f||"";try{DT(c,function(b,A){let U=b;l(b)&&(U=Bg(b)),d.push(g+A+"="+encodeURIComponent(U))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function uc(c){this.l=c.Ub||null,this.j=c.eb||!1}C(uc,$g),uc.prototype.g=function(){return new zl(this.l,this.j)},uc.prototype.i=(function(c){return function(){return c}})({});function zl(c,d){Dt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(zl,Dt),n=zl.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,dc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,dc(this)),this.g&&(this.readyState=3,dc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;NT(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function NT(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?lc(this):dc(this),this.readyState==3&&NT(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,lc(this))},n.Qa=function(c){this.g&&(this.response=c,lc(this))},n.ga=function(){this.g&&lc(this)};function lc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,dc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function dc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function MT(c){let d="";return pe(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Zg(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=MT(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Fe(c,d,f))}function He(c){Dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(He,Dt);var xk=/^https?$/i,Pk=["POST","PUT"];n=He.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qg.g(),this.v=this.o?sT(this.o):sT(qg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){xT(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Pk,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,U]of f)this.g.setRequestHeader(A,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{OT(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){xT(this,A)}};function xT(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,PT(c),ql(c)}function PT(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),ql(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ql(this,!0)),He.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?kT(this):this.bb())},n.bb=function(){kT(this)};function kT(c){if(c.h&&typeof s<"u"&&(!c.v[1]||yr(c)!=4||c.Z()!=2)){if(c.u&&yr(c)==4)nT(c.Ea,0,c);else if(Ot(c,"readystatechange"),yr(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=U===0){var b=String(c.D).match(TT)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!xk.test(b?b.toLowerCase():"")}f=g}if(f)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var A=2<yr(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",PT(c)}}finally{ql(c)}}}}function ql(c,d){if(c.g){OT(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Ot(c,"ready");try{f.onreadystatechange=g}catch{}}}function OT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function yr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),dk(d)}};function FT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kk(c){let d={};c=(c.g&&2<=yr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(G(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}D(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function LT(c){this.Aa=0,this.i=[],this.j=new ic,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hc("baseRetryDelayMs",5e3,c),this.cb=hc("retryDelaySeedMs",1e4,c),this.Wa=hc("forwardChannelMaxRetries",2,c),this.wa=hc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vT(c&&c.concurrentRequestLimit),this.Da=new Nk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=LT.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Ft(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=GT(this,null,this.W),Wl(this)};function Xg(c){if(VT(c),c.G==3){var d=c.U++,f=mr(c.I);if(Fe(f,"SID",c.K),Fe(f,"RID",d),Fe(f,"TYPE","terminate"),fc(c,f),d=new Kr(c,c.j,d),d.L=2,d.v=Hl(mr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=WT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ul(d)}qT(c)}function Gl(c){c.g&&(tm(c),c.g.cancel(),c.g=null)}function VT(c){Gl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Kl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Wl(c){if(!_T(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ya||YD(),Ja||(Ya(),Ja=!0),xg.add(d,c),c.B=0}}function Ok(c,d){return ET(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=rc(m(c.Ga,c,d),zT(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Kr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=UT(this,b,d),f=mr(this.I),Fe(f,"RID",c),Fe(f,"CVER",22),this.D&&Fe(f,"X-HTTP-Session-Id",this.D),fc(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(MT(A)))+"&"+d:this.m&&Zg(f,this.m,A)),Jg(this.h,b),this.Ua&&Fe(f,"TYPE","init"),this.P?(Fe(f,"$req",d),Fe(f,"SID","null"),b.T=!0,Wg(b,f,null)):Wg(b,f,d),this.G=2}}else this.G==3&&(c?jT(this,c):this.i.length==0||_T(this.h)||jT(this))};function jT(c,d){var f;d?f=d.l:f=c.U++;let g=mr(c.I);Fe(g,"SID",c.K),Fe(g,"RID",f),Fe(g,"AID",c.T),fc(c,g),c.m&&c.o&&Zg(g,c.m,c.o),f=new Kr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=UT(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Jg(c.h,f),Wg(f,g,d)}function fc(c,d){c.H&&pe(c.H,function(f,g){Fe(d,g,f)}),c.l&&DT({},function(f,g){Fe(d,g,f)})}function UT(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let U=["count="+f];A==-1?0<f?(A=b[0].g,U.push("ofs="+A)):A=0:U.push("ofs="+A);let Me=!0;for(let vt=0;vt<f;vt++){let we=b[vt].g,Tt=b[vt].map;if(we-=A,0>we)A=Math.max(0,b[vt].g-100),Me=!1;else try{Mk(Tt,U,"req"+we+"_")}catch{g&&g(Tt)}}if(Me){g=U.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function BT(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ya||YD(),Ja||(Ya(),Ja=!0),xg.add(d,c),c.v=0}}function em(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=rc(m(c.Fa,c),zT(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,$T(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=rc(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),Gl(this),$T(this))};function tm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function $T(c){c.g=new Kr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=mr(c.qa);Fe(d,"RID","rpc"),Fe(d,"SID",c.K),Fe(d,"AID",c.T),Fe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(d,"TO",c.ja),Fe(d,"TYPE","xmlhttp"),fc(c,d),c.m&&c.o&&Zg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Hl(mr(d)),f.m=null,f.P=!0,gT(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Gl(this),em(this),Ft(19))};function Kl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function HT(c,d){var f=null;if(c.g==d){Kl(c),tm(c),c.g=null;var g=2}else if(Yg(c.h,d))f=d.D,IT(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Ll(),Ot(g,new dT(g,f)),Wl(c)}else BT(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&Ok(c,d)||g==2&&em(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function zT(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ki(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Wi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bl(g,"https"),Hl(g),b?Ak(g.toString(),f):Rk(g.toString(),f)}else Ft(2);c.G=0,c.l&&c.l.sa(d),qT(c),VT(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function qT(c){if(c.G=0,c.ka=[],c.l){let d=wT(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function GT(c,d,f){var g=f instanceof Wi?mr(f):new Wi(f);if(g.g!="")d&&(g.g=d+"."+g.g),$l(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Wi(null);g&&Bl(A,g),d&&(A.g=d),b&&$l(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Fe(g,f,d),Fe(g,"VER",c.la),fc(c,g),g}function WT(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new He(new uc({eb:f})):new He(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function KT(){}n=KT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ql(){}Ql.prototype.g=function(c,d){return new Xt(c,d)};function Xt(c,d){Dt.call(this),this.g=new LT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ns(this)}C(Xt,Dt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Xg(this.g)},Xt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Bg(c),c=f);d.i.push(new vk(d.Ya++,c)),d.G==3&&Wl(d)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Xg(this.g),delete this.g,Xt.aa.N.call(this)};function QT(c){Hg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(QT,Hg);function YT(){zg.call(this),this.status=1}C(YT,zg);function ns(c){this.g=c}C(ns,KT),ns.prototype.ua=function(){Ot(this.g,"a")},ns.prototype.ta=function(c){Ot(this.g,new QT(c))},ns.prototype.sa=function(c){Ot(this.g,new YT)},ns.prototype.ra=function(){Ot(this.g,"b")},Ql.prototype.createWebChannel=Ql.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,CI=Br.createWebChannelTransport=function(){return new Ql},bI=Br.getStatEventTarget=function(){return Ll()},TI=Br.Event=qi,_p=Br.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vl.NO_ERROR=0,Vl.TIMEOUT=8,Vl.HTTP_ERROR=6,rl=Br.ErrorCode=Vl,hT.COMPLETE="complete",DI=Br.EventType=hT,aT.EventType=tc,tc.OPEN="a",tc.CLOSE="b",tc.ERROR="c",tc.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,ga=Br.WebChannel=aT,p3=Br.FetchXmlHttpFactory=uc,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,wI=Br.XhrIo=He}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});var lM="@firebase/firestore",dM="4.8.0";var mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");var ja="11.10.0";var Yo=new cr("@firebase/firestore");function ma(){return Yo.logLevel}function z(n,...e){if(Yo.logLevel<=ge.DEBUG){let t=e.map(fD);Yo.debug(`Firestore (${ja}): ${n}`,...t)}}function Hr(n,...e){if(Yo.logLevel<=ge.ERROR){let t=e.map(fD);Yo.error(`Firestore (${ja}): ${n}`,...t)}}function ji(n,...e){if(Yo.logLevel<=ge.WARN){let t=e.map(fD);Yo.warn(`Firestore (${ja}): ${n}`,...t)}}function fD(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ne(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,ix(n,r,t)}function ix(n,e,t){let r=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Hr(r),new Error(r)}function $e(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||ix(e,i,r)}function Ee(n,e){return n}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends cn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Oi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Cp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mt.UNAUTHENTICATED))}shutdown(){}},PI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},kI=class{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Oi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Oi)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new Cp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new mt(e)}},OI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},FI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new OI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Sp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},LI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Sp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function g3(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function ox(){return new TextEncoder}var Ap=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=g3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function fe(n,e){return n<e?-1:n>e?1:0}function VI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return fe(r,i);{let o=ox(),s=m3(o.encode(hM(n,t)),o.encode(hM(e,t)));return s!==0?s:fe(r,i)}}t+=r>65535?2:1}return fe(n.length,e.length)}function hM(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function m3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return fe(n[t],e[t]);return fe(n.length,e.length)}function Ca(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var fM="__name__",Rp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ne(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return fe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):VI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ur.fromString(e.substring(4,e.length-2))}},Ye=class n extends Rp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},y3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,In=class n extends Rp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return y3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fM}static keyField(){return new n([fM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new q(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new q(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ye.fromString(e))}static fromName(e){return new n(Ye.fromString(e).popFirst(5))}static empty(){return new n(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ye(e.slice()))}};function v3(n,e,t){if(!t)throw new q(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _3(n,e,t,r){if(e===!0&&r===!0)throw new q(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pM(n){if(J.isDocumentKey(n))throw new q(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ng(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ne(12329,{type:typeof n})}function Dp(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ng(n);throw new q(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lt(n,e){let t={typeString:n};return e&&(t.value=e),t}function bl(n,e){if(!sx(n))throw new q(V.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new q(V.INVALID_ARGUMENT,t);return!0}var gM=-62135596800,mM=1e6,ft=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*mM);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gM)throw new q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mM}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bl(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-gM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:lt("string",ft._jsonSchemaVersion),seconds:lt("number"),nanoseconds:lt("number")};var ae=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ft(0,0))}static max(){return new n(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ll=-1,jI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};jI.UNKNOWN_ID=-1;function E3(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new ft(t+1,0):new ft(t,r));return new Jo(i,J.empty(),e)}function I3(n){return new Jo(n.readTime,n.key,ll)}var Jo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ae.min(),J.empty(),ll)}static max(){return new n(ae.max(),J.empty(),ll)}};function w3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:fe(n.largestBatchId,e.largestBatchId))}var D3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",UI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function rg(n){return _(this,null,function*(){if(n.code!==V.FAILED_PRECONDITION||n.message!==D3)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function T3(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ua(n){return n.name==="IndexedDbTransactionError"}var pD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),b3=-1;function ig(n){return n==null}function dl(n){return n===0&&1/n==-1/0}function C3(n){return typeof n=="number"&&Number.isInteger(n)&&!dl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var ax="";function S3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yM(e)),e=A3(n.get(t),e);return yM(e)}function A3(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case ax:t+="";break;default:t+=o}}return t}function yM(n){return n+ax+""}var R3="remoteDocuments",cx="owner";var ux="mutationQueues";var lx="mutations";var dx="documentMutations",N3="remoteDocumentsV14";var hx="remoteDocumentGlobal";var fx="targets";var px="targetDocuments";var gx="targetGlobal",mx="collectionParents";var yx="clientMetadata";var vx="bundles";var _x="namedQueries";var M3="indexConfiguration";var x3="indexState";var P3="indexEntries";var Ex="documentOverlays";var k3="globals";var O3=[ux,lx,dx,R3,fx,cx,gx,px,yx,hx,mx,vx,_x],jae=[...O3,Ex],F3=[ux,lx,dx,N3,fx,cx,gx,px,yx,hx,mx,vx,_x,Ex],L3=F3,V3=[...L3,M3,x3,P3];var Uae=[...V3,k3];function vM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ba(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ix(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Xe=class n{constructor(e,t){this.comparator=e,this.root=t||hr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ea(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ea(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ea(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ea(this.root,e,this.comparator,!0)}},Ea=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},hr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}};hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1;hr.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new hr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class n{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Np(this.data.getIterator())}getIteratorFrom(e){return new Np(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Np=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var qo=class n{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new n([])}unionWith(e){let t=new yt(In.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Mp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var kt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Mp("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};kt.EMPTY_BYTE_STRING=new kt("");var j3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(n){if($e(!!n,39018),typeof n=="string"){let e=0,t=j3.exec(n);if($e(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(n.seconds),nanos:Ve(n.nanos)}}function Ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qr(n){return typeof n=="string"?kt.fromBase64String(n):kt.fromUint8Array(n)}var wx="server_timestamp",Dx="__type__",Tx="__previous_value__",bx="__local_write_time__";function gD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dx])===null||t===void 0?void 0:t.stringValue)===wx}function og(n){let e=n.mapValue.fields[Tx];return gD(e)?og(e):e}function hl(n){let e=zr(n.mapValue.fields[bx].timestampValue);return new ft(e.seconds,e.nanos)}var BI=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},xp="(default)",Pp=class n{constructor(e,t){this.projectId=e,this.database=t||xp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===xp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var mD="__type__",Cx="__max__",Ep={mapValue:{fields:{__type__:{stringValue:Cx}}}},yD="__vector__",Sa="value";function Ui(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gD(n)?4:Ax(n)?9007199254740991:Sx(n)?10:11:ne(28295,{value:n})}function pr(n,e){if(n===e)return!0;let t=Ui(n);if(t!==Ui(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hl(n).isEqual(hl(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=zr(i.timestampValue),a=zr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return qr(i.bytesValue).isEqual(qr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?dl(s)===dl(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Ca(n.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(vM(s)!==vM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!pr(s[u],a[u])))return!1;return!0})(n,e);default:return ne(52216,{left:n})}}function fl(n,e){return(n.values||[]).find(t=>pr(t,e))!==void 0}function Aa(n,e){if(n===e)return 0;let t=Ui(n),r=Ui(e);if(t!==r)return fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fe(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return _M(n.timestampValue,e.timestampValue);case 4:return _M(hl(n),hl(e));case 5:return VI(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=qr(o),u=qr(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=fe(a[l],u[l]);if(h!==0)return h}return fe(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=fe(Ve(o.latitude),Ve(s.latitude));return a!==0?a:fe(Ve(o.longitude),Ve(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return EM(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Sa])===null||a===void 0?void 0:a.arrayValue,C=(u=m[Sa])===null||u===void 0?void 0:u.arrayValue,P=fe(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:EM(y,C)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Ep.mapValue&&s===Ep.mapValue)return 0;if(o===Ep.mapValue)return 1;if(s===Ep.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=VI(u[p],h[p]);if(m!==0)return m;let y=Aa(a[u[p]],l[h[p]]);if(y!==0)return y}return fe(u.length,h.length)})(n.mapValue,e.mapValue);default:throw ne(23264,{le:t})}}function _M(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return fe(n,e);let t=zr(n),r=zr(e),i=fe(t.seconds,r.seconds);return i!==0?i:fe(t.nanos,r.nanos)}function EM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Aa(t[i],r[i]);if(o)return o}return fe(t.length,r.length)}function Ra(n){return $I(n)}function $I(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=zr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return qr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return J.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=$I(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${$I(t.fields[s])}`;return i+"}"})(n.mapValue):ne(61005,{value:n})}function Tp(n){switch(Ui(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=og(n);return e?16+Tp(e):16;case 5:return 2*n.stringValue.length;case 6:return qr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Tp(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ba(r.fields,(o,s)=>{i+=o.length+Tp(s)}),i})(n.mapValue);default:throw ne(13486,{value:n})}}function IM(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function HI(n){return!!n&&"integerValue"in n}function vD(n){return!!n&&"arrayValue"in n}function wM(n){return!!n&&"nullValue"in n}function DM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function SI(n){return!!n&&"mapValue"in n}function Sx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mD])===null||t===void 0?void 0:t.stringValue)===yD}function ol(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ba(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ol(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ol(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ax(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Cx}var $ae={mapValue:{fields:{[mD]:{stringValue:yD},[Sa]:{arrayValue:{}}}}};var $r=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!SI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(t)}setAll(e){let t=In.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ol(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());SI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];SI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ba(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ol(this.value))}};var Bn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ae.min(),ae.min(),ae.min(),$r.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ae.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ae.min(),ae.min(),$r.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ae.min(),ae.min(),$r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Na=class{constructor(e,t){this.position=e,this.inclusive=t}};function TM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),t.key):r=Aa(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pr(n.position[t],e.position[t]))return!1;return!0}var Ma=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function U3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var kp=class{},ut=class n extends kp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new qI(e,t,r):t==="array-contains"?new KI(e,r):t==="in"?new QI(e,r):t==="not-in"?new YI(e,r):t==="array-contains-any"?new JI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new GI(e,r):new WI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Aa(t,this.value)):t!==null&&Ui(this.value)===Ui(t)&&this.matchesComparison(Aa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$n=class n extends kp{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return Rx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function Rx(n){return n.op==="and"}function Nx(n){return B3(n)&&Rx(n)}function B3(n){for(let e of n.filters)if(e instanceof $n)return!1;return!0}function zI(n){if(n instanceof ut)return n.field.canonicalString()+n.op.toString()+Ra(n.value);if(Nx(n))return n.filters.map(e=>zI(e)).join(",");{let e=n.filters.map(t=>zI(t)).join(",");return`${n.op}(${e})`}}function Mx(n,e){return n instanceof ut?(function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&pr(r.value,i.value)})(n,e):n instanceof $n?(function(r,i){return i instanceof $n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Mx(s,i.filters[a]),!0):!1})(n,e):void ne(19439)}function xx(n){return n instanceof ut?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ra(t.value)}`})(n):n instanceof $n?(function(t){return t.op.toString()+" {"+t.getFilters().map(xx).join(" ,")+"}"})(n):"Filter"}var qI=class extends ut{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},GI=class extends ut{constructor(e,t){super(e,"in",t),this.keys=Px("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},WI=class extends ut{constructor(e,t){super(e,"not-in",t),this.keys=Px("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Px(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>J.fromName(r.referenceValue))}var KI=class extends ut{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return vD(t)&&fl(t.arrayValue,this.value)}},QI=class extends ut{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&fl(this.value.arrayValue,t)}},YI=class extends ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fl(this.value.arrayValue,t)}},JI=class extends ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!vD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fl(this.value.arrayValue,r))}};var ZI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function CM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new ZI(n,e,t,r,i,o,s)}function _D(n){let e=Ee(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),ig(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ra(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ra(r)).join(",")),e.Pe=t}return e.Pe}function ED(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!U3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Mx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bM(n.startAt,e.startAt)&&bM(n.endAt,e.endAt)}function XI(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Zo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function $3(n,e,t,r,i,o,s,a){return new Zo(n,e,t,r,i,o,s,a)}function ID(n){return new Zo(n)}function SM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kx(n){return n.collectionGroup!==null}function sl(n){let e=Ee(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yt(In.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ma(o,r))}),t.has(In.keyField().canonicalString())||e.Te.push(new Ma(In.keyField(),r))}return e.Te}function fr(n){let e=Ee(n);return e.Ie||(e.Ie=H3(e,sl(n))),e.Ie}function H3(n,e){if(n.limitType==="F")return CM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ma(i.field,o)});let t=n.endAt?new Na(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Na(n.startAt.position,n.startAt.inclusive):null;return CM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ew(n,e){let t=n.filters.concat([e]);return new Zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tw(n,e,t){return new Zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sg(n,e){return ED(fr(n),fr(e))&&n.limitType===e.limitType}function Ox(n){return`${_D(fr(n))}|lt:${n.limitType}`}function ya(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>xx(i)).join(", ")}]`),ig(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ra(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ra(i)).join(",")),`Target(${r})`})(fr(n))}; limitType=${n.limitType})`}function ag(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of sl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=TM(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,sl(r),i)||r.endAt&&!(function(s,a,u){let l=TM(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,sl(r),i))})(n,e)}function z3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Fx(n){return(e,t)=>{let r=!1;for(let i of sl(n)){let o=q3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function q3(n,e,t){let r=n.field.isKeyField()?J.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Aa(u,l):ne(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:n.dir})}}var Gr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Ix(this.inner)}size(){return this.innerSize}};var G3=new Xe(J.comparator);function Bi(){return G3}var Lx=new Xe(J.comparator);function il(...n){let e=Lx;for(let t of n)e=e.insert(t.key,t);return e}function W3(n){let e=Lx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Go(){return al()}function Vx(){return al()}function al(){return new Gr(n=>n.toString(),(n,e)=>n.isEqual(e))}var Hae=new Xe(J.comparator),K3=new yt(J.comparator);function Ie(...n){let e=K3;for(let t of n)e=e.add(t);return e}var Q3=new yt(fe);function Y3(){return Q3}function wD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dl(e)?"-0":e}}function jx(n){return{integerValue:""+n}}function J3(n,e){return C3(e)?jx(e):wD(n,e)}var xa=class{constructor(){this._=void 0}};function Z3(n,e,t){return n instanceof pl?(function(i,o){let s={fields:{[Dx]:{stringValue:wx},[bx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&gD(o)&&(o=og(o)),o&&(s.fields[Tx]=o),{mapValue:s}})(t,e):n instanceof Pa?Ux(n,e):n instanceof ka?Bx(n,e):(function(i,o){let s=ez(i,o),a=AM(s)+AM(i.Ee);return HI(s)&&HI(i.Ee)?jx(a):wD(i.serializer,a)})(n,e)}function X3(n,e,t){return n instanceof Pa?Ux(n,e):n instanceof ka?Bx(n,e):t}function ez(n,e){return n instanceof gl?(function(r){return HI(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var pl=class extends xa{},Pa=class extends xa{constructor(e){super(),this.elements=e}};function Ux(n,e){let t=$x(e);for(let r of n.elements)t.some(i=>pr(i,r))||t.push(r);return{arrayValue:{values:t}}}var ka=class extends xa{constructor(e){super(),this.elements=e}};function Bx(n,e){let t=$x(e);for(let r of n.elements)t=t.filter(i=>!pr(i,r));return{arrayValue:{values:t}}}var gl=class extends xa{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function AM(n){return Ve(n.integerValue||n.doubleValue)}function $x(n){return vD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function tz(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Pa&&i instanceof Pa||r instanceof ka&&i instanceof ka?Ca(r.elements,i.elements,pr):r instanceof gl&&i instanceof gl?pr(r.Ee,i.Ee):r instanceof pl&&i instanceof pl})(n.transform,e.transform)}var cl=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function bp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ml=class{};function Hx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nw(n.key,cl.none()):new yl(n.key,n.data,cl.none());{let t=n.data,r=$r.empty(),i=new yt(In.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Oa(n.key,r,new qo(i.toArray()),cl.none())}}function nz(n,e,t){n instanceof yl?(function(i,o,s){let a=i.value.clone(),u=NM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Oa?(function(i,o,s){if(!bp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=NM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(zx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function ul(n,e,t,r){return n instanceof yl?(function(o,s,a,u){if(!bp(o.precondition,s))return a;let l=o.value.clone(),h=MM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Oa?(function(o,s,a,u){if(!bp(o.precondition,s))return a;let l=MM(o.fieldTransforms,u,s),h=s.data;return h.setAll(zx(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return bp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function RM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ca(r,i,(o,s)=>tz(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var yl=class extends ml{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Oa=class extends ml{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function zx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function NM(n,e,t){let r=new Map;$e(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,X3(s,a,t[i]))}return r}function MM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Z3(o,s,e))}return r}var nw=class extends ml{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var rw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&nz(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ul(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ul(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Vx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=Hx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(t,r)=>RM(t,r))&&Ca(this.baseMutations,e.baseMutations,(t,r)=>RM(t,r))}};var iw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ow=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var at,_e;function qx(n){if(n===void 0)return Hr("GRPC error has no .code"),V.UNKNOWN;switch(n){case at.OK:return V.OK;case at.CANCELLED:return V.CANCELLED;case at.UNKNOWN:return V.UNKNOWN;case at.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case at.INTERNAL:return V.INTERNAL;case at.UNAVAILABLE:return V.UNAVAILABLE;case at.UNAUTHENTICATED:return V.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case at.NOT_FOUND:return V.NOT_FOUND;case at.ALREADY_EXISTS:return V.ALREADY_EXISTS;case at.PERMISSION_DENIED:return V.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case at.ABORTED:return V.ABORTED;case at.OUT_OF_RANGE:return V.OUT_OF_RANGE;case at.UNIMPLEMENTED:return V.UNIMPLEMENTED;case at.DATA_LOSS:return V.DATA_LOSS;default:return ne(39323,{code:n})}}(_e=at||(at={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var xM=null;var rz=new Ur([4294967295,4294967295],0);function PM(n){let e=ox().encode(n),t=new II;return t.update(e),new Uint8Array(t.digest())}function kM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ur([t,r],0),new Ur([i,o],0)]}var sw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wo(`Invalid padding: ${t}`);if(r<0)throw new Wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ur.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Ur.fromNumber(r)));return i.compare(rz)===1&&(i=new Ur([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=PM(e),[r,i]=kM(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=PM(e),[r,i]=kM(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Wo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Op=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ae.min(),i,new Xe(fe),Bi(),Ie())}},vl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ie(),Ie(),Ie())}};var Ia=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Fp=class{constructor(e,t){this.targetId=e,this.De=t}},Lp=class{constructor(e,t,r=kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Vp=class{constructor(){this.ve=0,this.Ce=OM(),this.Fe=kt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ie(),t=Ie(),r=Ie();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ne(38017,{changeType:o})}}),new vl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=OM()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},aw=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Bi(),this.je=Ip(),this.Je=Ip(),this.He=new Xe(fe)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(XI(o))if(r===0){let s=new J(o.path);this.Xe(t,s,Bn.newNoDocument(s,ae.min()))}else $e(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}xM?.ct((function(h,p,m,y,C){var P,N,k,G,Q,Z;let ke={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},pe=p.unchangedNames;return pe&&(ke.bloomFilter={applied:C===0,hashCount:(P=pe?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(G=(k=(N=pe?.bits)===null||N===void 0?void 0:N.bitmap)===null||k===void 0?void 0:k.length)!==null&&G!==void 0?G:0,padding:(Z=(Q=pe?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&Z!==void 0?Z:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),ke})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=qr(r).toUint8Array()}catch(u){if(u instanceof Mp)return ji("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new sw(s,i,o)}catch(u){return ji(u instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&XI(a.target)){let u=new J(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Bn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Ie();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Op(e,t,this.He,this.ze,r);return this.ze=Bi(),this.je=Ip(),this.Je=Ip(),this.He=new Xe(fe),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Vp,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new yt(fe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new yt(fe),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Vp),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Ip(){return new Xe(J.comparator)}function OM(){return new Xe(J.comparator)}var iz={asc:"ASCENDING",desc:"DESCENDING"},oz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sz={and:"AND",or:"OR"},cw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function uw(n,e){return n.useProto3Json||ig(e)?e:{value:e}}function lw(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wa(n){return $e(!!n,49232),ae.fromTimestamp((function(t){let r=zr(t);return new ft(r.seconds,r.nanos)})(n))}function Wx(n,e){return dw(n,e).canonicalString()}function dw(n,e){let t=(function(i){return new Ye(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Kx(n){let e=Ye.fromString(n);return $e(Xx(e),10190,{key:e.toString()}),e}function AI(n,e){let t=Kx(e);if(t.get(1)!==n.databaseId.projectId)throw new q(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(Yx(t))}function Qx(n,e){return Wx(n.databaseId,e)}function az(n){let e=Kx(n);return e.length===4?Ye.emptyPath():Yx(e)}function FM(n){return new Ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yx(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cz(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?($e(h===void 0||typeof h=="string",58123),kt.fromBase64String(h||"")):($e(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),kt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?V.UNKNOWN:qx(l.code);return new q(h,l.message||"")})(s);t=new Lp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=AI(n,r.document.name),o=wa(r.document.updateTime),s=r.document.createTime?wa(r.document.createTime):ae.min(),a=new $r({mapValue:{fields:r.document.fields}}),u=Bn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ia(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=AI(n,r.document),o=r.readTime?wa(r.readTime):ae.min(),s=Bn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ia([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=AI(n,r.document),o=r.removedTargetIds||[];t=new Ia([],o,i,null)}else{if(!("filter"in e))return ne(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ow(i,o),a=r.targetId;t=new Fp(a,s)}}return t}function uz(n,e){return{documents:[Qx(n,e.path)]}}function lz(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Qx(n,i);let o=(function(l){if(l.length!==0)return Zx($n.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:va(m.field),direction:fz(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=uw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function dz(n){let e=az(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){$e(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=Jx(p);return m instanceof $n&&Nx(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(C){return new Ma(_a(C.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,ig(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Na(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Na(y,m)})(t.endAt)),$3(e,i,s,o,a,"F",u,l)}function hz(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Jx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=_a(t.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_a(t.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=_a(t.unaryFilter.field);return ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=_a(t.unaryFilter.field);return ut.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ut.create(_a(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return $n.create(t.compositeFilter.filters.map(r=>Jx(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne(1026)}})(t.compositeFilter.op))})(n):ne(30097,{filter:n})}function fz(n){return iz[n]}function pz(n){return oz[n]}function gz(n){return sz[n]}function va(n){return{fieldPath:n.canonicalString()}}function _a(n){return In.fromServerFormat(n.fieldPath)}function Zx(n){return n instanceof ut?(function(t){if(t.op==="=="){if(DM(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NAN"}};if(wM(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(DM(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NOT_NAN"}};if(wM(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(t.field),op:pz(t.op),value:t.value}}})(n):n instanceof $n?(function(t){let r=t.getFilters().map(i=>Zx(i));return r.length===1?r[0]:{compositeFilter:{op:gz(t.op),filters:r}}})(n):ne(54877,{filter:n})}function Xx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var _l=class n{constructor(e,t,r,i,o=ae.min(),s=ae.min(),a=kt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var hw=class{constructor(e){this.gt=e}};function mz(n){let e=dz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tw(e,e.limit,"L"):e}var jp=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),dl(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=zr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(qr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?Ax(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Sx(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ne(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Sa,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ve(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),J.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};jp.Ut=new jp;var fw=class{constructor(){this.Dn=new pw}addToCollectionParentIndex(e,t){return this.Dn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(Jo.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(Jo.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},pw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yt(Ye.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(Ye.comparator)).toArray()}};var zae=new Uint8Array(0);var LM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eP=41943040,En=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(eP,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);var El=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var VM="LruGarbageCollector",yz=1048576;function jM([n,e],[t,r]){let i=fe(n,t);return i===0?fe(e,r):i}var gw=class{constructor(e){this.Tr=e,this.buffer=new yt(jM),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();jM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},mw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){z(VM,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ua(t)?z(VM,"Ignoring IndexedDB error during garbage collection: ",t):yield rg(t)}yield this.Rr(3e5)}))}},yw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(pD.ue);let r=new gw(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(LM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LM):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ma()<=ge.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function vz(n,e){return new yw(n,e)}var vw=class{constructor(){this.changes=new Gr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var _w=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Ew=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ul(r.mutation,i,qo.empty(),ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ie()){let i=Go();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=il();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Go();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ie()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Bi(),s=al(),a=(function(){return al()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Oa)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ul(h.mutation,l,h.mutation.getFieldMask(),ft.now())):s.set(l.key,qo.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new _w(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=al(),i=new Xe((s,a)=>s-a),o=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||qo.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ie()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=Vx();h.forEach(m=>{if(!o.has(m)){let y=Hx(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(Go()),a=ll,u=o;return s.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ie())).next(h=>({batchId:a,changes:W3(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=il();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=(function(p,m){return new Zo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Bn.newInvalidDocument(h)))});let a=il();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ul(h.mutation,l,qo.empty(),ft.now()),ag(t,l)&&(a=a.insert(u,l))}),a})}};var Iw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return O.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:wa(i.createTime)}})(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:mz(i.bundledQuery),readTime:wa(i.readTime)}})(t)),O.resolve()}};var ww=class{constructor(){this.overlays=new Xe(J.comparator),this.kr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Go();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=Go(),o=t.length+1,s=new J(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Xe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Go(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Go(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new iw(t,r));let o=this.kr.get(t);o===void 0&&(o=Ie(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var Dw=class{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var Il=class{constructor(){this.qr=new yt(ct.Qr),this.$r=new yt(ct.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new ct(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new ct(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new J(new Ye([])),r=new ct(t,e),i=new ct(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new J(new Ye([])),r=new ct(t,e),i=new ct(t,e+1),o=Ie();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ct(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ct=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return J.comparator(e.key,t.key)||fe(e.Hr,t.Hr)}static Ur(e,t){return fe(e.Hr,t.Hr)||J.comparator(e.key,t.key)}};var Tw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new yt(ct.Qr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new rw(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?b3:this.er-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ct(t,0),i=new ct(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yt(fe);return t.forEach(i=>{let o=new ct(i,0),s=new ct(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),O.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new ct(new J(o),0),a=new yt(fe);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),O.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){$e(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return O.forEach(t.mutations,i=>{let o=new ct(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new ct(t,0),i=this.Yr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var bw=class{constructor(e){this.ni=e,this.docs=(function(){return new Xe(J.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let r=Bi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Bi(),s=t.path,a=new J(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||w3(I3(h),r)<=0||(i.has(h.key)||ag(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ne(9500)}ri(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Cw(this)}getSize(e){return O.resolve(this.size)}},Cw=class extends vw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Sw=class{constructor(e){this.persistence=e,this.ii=new Gr(t=>_D(t),ED),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.si=0,this.oi=new Il,this.targetCount=0,this._i=El.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),O.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new El(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.hr(t),O.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.oi.containsKey(t))}};var Up=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new pD(0),this.ci=!1,this.ci=!0,this.li=new Dw,this.referenceDelegate=e(this),this.hi=new Sw(this),this.indexManager=new fw,this.remoteDocumentCache=(function(i){return new bw(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new hw(t),this.Ti=new Iw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ww,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Tw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new Aw(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return O.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Aw=class extends UI{constructor(e){super(),this.currentSequenceNumber=e}},Rw=class n{constructor(e){this.persistence=e,this.Ai=new Il,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ne(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),O.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.mi,r=>{let i=J.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ae.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return O.or([()=>O.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Bp=class n{constructor(e,t){this.persistence=e,this.gi=new Gr(r=>S3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vz(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return O.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ae.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tp(e.data.value)),t}Sr(e,t,r){return O.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Nw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ie(),i=Ie();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Mw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var xw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return SR()?8:T3(gt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Mw;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(ma()<=ge.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",ya(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(ma()<=ge.DEBUG&&z("QueryEngine","Query:",ya(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ma()<=ge.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",ya(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(t))):O.resolve())}ps(e,t){if(SM(t))return O.resolve(null);let r=fr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=tw(t,null,"F"),r=fr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ie(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,tw(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return SM(t)||i.isEqual(ae.min())?O.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?O.resolve(null):(ma()<=ge.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ya(t)),this.vs(e,s,t,E3(i,ll)).next(a=>a))})}bs(e,t){let r=new yt(Fx(e));return t.forEach((i,o)=>{ag(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return ma()<=ge.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",ya(t)),this.gs.getDocumentsMatchingQuery(e,t,Jo.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var DD="LocalStore",_z=3e8,Pw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Xe(fe),this.Ms=new Gr(o=>_D(o),ED),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ew(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function Ez(n,e,t,r){return new Pw(n,e,t,r)}function tP(n,e){return _(this,null,function*(){let t=Ee(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ie();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function nP(n){let e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function Iz(n,e){let t=Ee(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(kt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(P,N,k){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=_z?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=Bi(),l=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(wz(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ae.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function wz(n,e,t){let r=Ie(),i=Ie();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Bi();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z(DD,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function Dz(n,e){let t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new _l(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function kw(n,e,t){return _(this,null,function*(){let r=Ee(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ua(s))throw s;z(DD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function UM(n,e,t){let r=Ee(n),i=ae.min(),o=Ie();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=Ee(u),m=p.Ms.get(h);return m!==void 0?O.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,fr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ae.min(),t?o:Ie())).next(a=>(Tz(r,z3(e),a),{documents:a,qs:o})))}function Tz(n,e,t){let r=n.xs.get(e)||ae.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var $p=class{constructor(){this.activeTargetIds=Y3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ow=class{constructor(){this.Fo=new $p,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new $p,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Fw=class{xo(e){}shutdown(){}};var BM="ConnectivityMonitor",Hp=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){z(BM,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){z(BM,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var wp=null;function Lw(){return wp===null?wp=(function(){return 268435456+Math.round(2147483648*Math.random())})():wp++,"0x"+wp.toString(16)}var RI="RestConnection",bz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Vw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===xp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Lw(),a=this.Go(e,t.toUriEncodedString());z(RI,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Ti(l);return this.jo(e,a,u,r,h).then(p=>(z(RI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ji(RI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ja})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=bz[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var jw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Pt="WebChannelConnection",Uw=class extends Vw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Lw();return new Promise((a,u)=>{let l=new wI;l.setWithCredentials(!0),l.listenOnce(DI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rl.NO_ERROR:let p=l.getResponseJson();z(Pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case rl.TIMEOUT:z(Pt,`RPC '${e}' ${s} timed out`),u(new q(V.DEADLINE_EXCEEDED,"Request time out"));break;case rl.HTTP_ERROR:let m=l.getStatus();if(z(Pt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let P=(function(k){let G=k.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(G)>=0?G:V.UNKNOWN})(C.status);u(new q(P,C.message))}else u(new q(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new q(V.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{z(Pt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);z(Pt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=Lw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=CI(),a=bI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(Pt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,C=new jw({Ho:N=>{y?z(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(z(Pt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),z(Pt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Yo:()=>p.close()}),P=(N,k,G)=>{N.listen(k,Q=>{try{G(Q)}catch(Z){setTimeout(()=>{throw Z},0)}})};return P(p,ga.EventType.OPEN,()=>{y||(z(Pt,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),P(p,ga.EventType.CLOSE,()=>{y||(y=!0,z(Pt,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(p))}),P(p,ga.EventType.ERROR,N=>{y||(y=!0,ji(Pt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),C.__(new q(V.UNAVAILABLE,"The operation could not be completed")))}),P(p,ga.EventType.MESSAGE,N=>{var k;if(!y){let G=N.data[0];$e(!!G,16349);let Q=G,Z=Q?.error||((k=Q[0])===null||k===void 0?void 0:k.error);if(Z){z(Pt,`RPC '${e}' stream ${i} received error:`,Z);let ke=Z.status,pe=(function(I){let w=at[I];if(w!==void 0)return qx(w)})(ke),D=Z.message;pe===void 0&&(pe=V.INTERNAL,D="Unknown error status: "+ke+" with message "+Z.message),y=!0,C.__(new q(pe,D)),p.close()}else z(Pt,`RPC '${e}' stream ${i} received:`,G),C.a_(G)}}),P(a,TI.STAT_EVENT,N=>{N.stat===_p.PROXY?z(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===_p.NOPROXY&&z(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function NI(){return typeof document<"u"?document:null}function cg(n){return new cw(n,!0)}var zp=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var $M="PersistentStream",Bw=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new zp(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(Hr(t.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new q(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return z($M,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(z($M,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},$w=class extends Bw{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=cz(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?wa(s.readTime):ae.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=FM(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=XI(u)?{documents:uz(o,u)}:{query:lz(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Gx(o,s.resumeToken);let l=uw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=lw(o,s.snapshotVersion.toTimestamp());let l=uw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=hz(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=FM(this.serializer),t.removeTarget=e,this.k_(t)}};var Hw=class{},zw=class extends Hw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new q(V.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,dw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(V.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,dw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(V.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},qw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Hr(t),this._a=!1):z("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Fa="RemoteStore",Gw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Sl(this)&&(z(Fa,"Restarting streams for network reachability change."),yield(function(u){return _(this,null,function*(){let l=Ee(u);l.Ia.add(4),yield Cl(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield ug(l)})})(this))}))}),this.Aa=new qw(r,i)}};function ug(n){return _(this,null,function*(){if(Sl(n))for(let e of n.da)yield e(!0)})}function Cl(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function rP(n,e){let t=Ee(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),SD(t)?CD(t):$a(t).x_()&&bD(t,e))}function TD(n,e){let t=Ee(n),r=$a(t);t.Ta.delete(e),r.x_()&&iP(t,e),t.Ta.size===0&&(r.x_()?r.B_():Sl(t)&&t.Aa.set("Unknown"))}function bD(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$a(n).H_(e)}function iP(n,e){n.Ra.$e(e),$a(n).Y_(e)}function CD(n){n.Ra=new aw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),$a(n).start(),n.Aa.aa()}function SD(n){return Sl(n)&&!$a(n).M_()&&n.Ta.size>0}function Sl(n){return Ee(n).Ia.size===0}function oP(n){n.Ra=void 0}function Cz(n){return _(this,null,function*(){n.Aa.set("Online")})}function Sz(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{bD(n,e)})})}function Az(n,e){return _(this,null,function*(){oP(n),SD(n)?(n.Aa.la(e),CD(n)):n.Aa.set("Unknown")})}function Rz(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof Lp&&e.state===2&&e.cause)try{yield(function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){z(Fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield HM(n,r)}else if(e instanceof Ia?n.Ra.Ye(e):e instanceof Fp?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ae.min()))try{let r=yield nP(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(kt.EMPTY_BYTE_STRING,h.snapshotVersion)),iP(o,u);let p=new _l(h.target,u,l,h.sequenceNumber);bD(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){z(Fa,"Failed to raise snapshot:",r),yield HM(n,r)}})}function HM(n,e,t){return _(this,null,function*(){if(!Ua(e))throw e;n.Ia.add(1),yield Cl(n),n.Aa.set("Offline"),t||(t=()=>nP(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){z(Fa,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield ug(n)}))})}function zM(n,e){return _(this,null,function*(){let t=Ee(n);t.asyncQueue.verifyOperationInProgress(),z(Fa,"RemoteStore received new credentials");let r=Sl(t);t.Ia.add(3),yield Cl(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield ug(t)})}function Nz(n,e){return _(this,null,function*(){let t=Ee(n);e?(t.Ia.delete(2),yield ug(t)):e||(t.Ia.add(2),yield Cl(t),t.Aa.set("Unknown"))})}function $a(n){return n.Va||(n.Va=(function(t,r,i){let o=Ee(t);return o.ia(),new $w(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:Cz.bind(null,n),e_:Sz.bind(null,n),n_:Az.bind(null,n),J_:Rz.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),SD(n)?CD(n):n.Aa.set("Unknown")):(yield n.Va.stop(),oP(n))}))),n.Va}var Ww=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function sP(n,e){if(Hr("AsyncQueue",`${e}: ${n}`),Ua(n))return new q(V.UNAVAILABLE,`${e}: ${n}`);throw n}var qp=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||J.comparator(t.key,r.key):(t,r)=>J.comparator(t.key,r.key),this.keyedMap=il(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Gp=class{constructor(){this.fa=new Xe(J.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ne(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},La=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,qp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Kw=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Qw=class{constructor(){this.queries=qM(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=Ee(t),o=i.queries;i.queries=qM(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new q(V.ABORTED,"Firestore shutting down"))}};function qM(){return new Gr(n=>Ox(n),sg)}function Mz(n,e){return _(this,null,function*(){let t=Ee(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Kw,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=sP(s,`Initialization of query '${ya(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&AD(t)})}function xz(n,e){return _(this,null,function*(){let t=Ee(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Pz(n,e){let t=Ee(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&AD(t)}function kz(n,e,t){let r=Ee(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function AD(n){n.Da.forEach(e=>{e.next()})}var Yw,GM;(GM=Yw||(Yw={})).Fa="default",GM.Cache="cache";var Jw=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new La(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Yw.Cache}};var Wp=class{constructor(e){this.key=e}},Kp=class{constructor(e){this.key=e}},Zw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ie(),this.mutatedKeys=Ie(),this.Xa=Fx(e),this.eu=new qp(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Gp,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=ag(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;m&&y?m.data.isEqual(y.data)?C!==P&&(r.track({type:3,doc:y}),N=!0):this.iu(m,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),N=!0):m&&!y&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,C){let P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{At:N})}};return P(y)-P(C)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new La(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Gp,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Ie(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Kp(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Wp(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ie();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return La.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},RD="SyncEngine",Xw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},eD=class{constructor(e){this.key=e,this.lu=!1}},tD=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Gr(a=>Ox(a),sg),this.Tu=new Map,this.Iu=new Set,this.du=new Xe(J.comparator),this.Eu=new Map,this.Au=new Il,this.Ru={},this.Vu=new Map,this.mu=El.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Oz(n,e,t=!0){return _(this,null,function*(){let r=dP(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield aP(r,e,t,!0),i})}function Fz(n,e){return _(this,null,function*(){let t=dP(n);yield aP(t,e,!0,!1)})}function aP(n,e,t,r){return _(this,null,function*(){let i=yield Dz(n.localStore,fr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Lz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&rP(n.remoteStore,i),a})}function Lz(n,e,t,r,i){return _(this,null,function*(){n.gu=(p,m,y)=>(function(P,N,k,G){return _(this,null,function*(){let Q=N.view.nu(k);Q.Ds&&(Q=yield UM(P.localStore,N.query,!1).then(({documents:D})=>N.view.nu(D,Q)));let Z=G&&G.targetChanges.get(N.targetId),ke=G&&G.targetMismatches.get(N.targetId)!=null,pe=N.view.applyChanges(Q,P.isPrimaryClient,Z,ke);return KM(P,N.targetId,pe._u),pe.snapshot})})(n,p,m,y);let o=yield UM(n.localStore,e,!0),s=new Zw(e,o.qs),a=s.nu(o.documents),u=vl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);KM(n,t,l._u);let h=new Xw(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function Vz(n,e,t){return _(this,null,function*(){let r=Ee(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!sg(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield kw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&TD(r.remoteStore,i.targetId),nD(r,i.targetId)}).catch(rg))):(nD(r,i.targetId),yield kw(r.localStore,i.targetId,!0))})}function jz(n,e){return _(this,null,function*(){let t=Ee(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),TD(t.remoteStore,r.targetId))})}function cP(n,e){return _(this,null,function*(){let t=Ee(n);try{let r=yield Iz(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?$e(s.lu,14607):i.removedDocuments.size>0&&($e(s.lu,42227),s.lu=!1))}),yield lP(t,r,e)}catch(r){yield rg(r)}})}function WM(n,e,t){let r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=Ee(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&AD(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Uz(n,e,t){return _(this,null,function*(){let r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Xe(J.comparator);s=s.insert(o,Bn.newNoDocument(o,ae.min()));let a=Ie().add(o),u=new Op(ae.min(),new Map,new Xe(fe),s,a);yield cP(r,u),r.du=r.du.remove(o),r.Eu.delete(e),ND(r)}else yield kw(r.localStore,e,!1).then(()=>nD(r,e,t)).catch(rg)})}function nD(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||uP(n,r)})}function uP(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(TD(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),ND(n))}function KM(n,e,t){for(let r of t)r instanceof Wp?(n.Au.addReference(r.key,e),Bz(n,r)):r instanceof Kp?(z(RD,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||uP(n,r.key)):ne(19791,{yu:r})}function Bz(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(z(RD,"New document in limbo: "+t),n.Iu.add(r),ND(n))}function ND(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new J(Ye.fromString(e)),r=n.mu.next();n.Eu.set(r,new eD(t)),n.du=n.du.insert(t,r),rP(n.remoteStore,new _l(fr(ID(t.path)),r,"TargetPurposeLimboResolution",pD.ue))}}function lP(n,e,t){return _(this,null,function*(){let r=Ee(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Nw.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return _(this,null,function*(){let h=Ee(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ua(p))throw p;z(DD,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),C=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(C);h.Fs=h.Fs.insert(m,P)}}})})(r.localStore,o))})}function $z(n,e){return _(this,null,function*(){let t=Ee(n);if(!t.currentUser.isEqual(e)){z(RD,"User change. New user:",e.toKey());let r=yield tP(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new q(V.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield lP(t,r.Bs)}})}function Hz(n,e){let t=Ee(n),r=t.Eu.get(e);if(r&&r.lu)return Ie().add(r.key);{let i=Ie(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function dP(n){let e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uz.bind(null,e),e.hu.J_=Pz.bind(null,e.eventManager),e.hu.pu=kz.bind(null,e.eventManager),e}var hP=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=cg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return Ez(this.persistence,new xw,t.initialUser,this.serializer)}Du(t){return new Up(Rw.Vi,this.serializer)}bu(t){return new Ow}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),rD=class extends hP{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){$e(this.persistence.referenceDelegate instanceof Bp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new mw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Up(r=>Bp.Vi(r,t),this.serializer)}};var zz=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>WM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$z.bind(null,this.syncEngine),yield Nz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new Qw})()}createDatastore(t){let r=cg(t.databaseInfo.databaseId),i=(function(s){return new Uw(s)})(t.databaseInfo);return(function(s,a,u,l){return new zw(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new Gw(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>WM(this.syncEngine,r,0),(function(){return Hp.C()?new Hp:new Fw})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new tD(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield(function(o){return _(this,null,function*(){let s=Ee(o);z(Fa,"RemoteStore shutting down."),s.Ia.add(5),yield Cl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var iD=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var $i="FirestoreClient",oD=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=Ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){z($i,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z($i,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=sP(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function MI(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z($i,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield tP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{ji("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{z("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ji("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function QM(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield qz(n);z($i,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zM(e.remoteStore,i)),n._onlineComponents=e})}function qz(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z($i,"Using user provided OfflineComponentProvider");try{yield MI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ji("Error using user provided cache. Falling back to memory cache: "+t),yield MI(n,new hP)}}else z($i,"Using default OfflineComponentProvider"),yield MI(n,new rD(void 0));return n._offlineComponents})}function Gz(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z($i,"Using user provided OnlineComponentProvider"),yield QM(n,n._uninitializedComponentsProvider._online)):(z($i,"Using default OnlineComponentProvider"),yield QM(n,new zz))),n._onlineComponents})}function YM(n){return _(this,null,function*(){let e=yield Gz(n),t=e.eventManager;return t.onListen=Oz.bind(null,e.syncEngine),t.onUnlisten=Vz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Fz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jz.bind(null,e.syncEngine),t})}function fP(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var JM=new Map;var pP="firestore.googleapis.com",ZM=!0,Qp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pP,this.ssl=ZM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ZM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yz)throw new q(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},wl=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new xI;switch(r.type){case"firstParty":return new FI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=JM.get(t);r&&(z("ComponentProvider","Removing Datastore"),JM.delete(t),r.terminate())})(this),Promise.resolve()}};function gP(n,e,t,r={}){var i;n=Dp(n,wl);let o=Ti(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(qf(`https://${u}`),Gf("Firestore",!0)),s.host!==pP&&s.host!==u&&ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!ar(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=mt.MOCK_USER;else{h=IR(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new q(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new mt(m)}n._authCredentials=new PI(new Cp(h,p))}}var Va=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},un=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(bl(t,n._jsonSchema))return new n(e,r||null,new J(Ye.fromString(t.referencePath)))}};un._jsonSchemaVersion="firestore/documentReference/1.0",un._jsonSchema={type:lt("string",un._jsonSchemaVersion),referencePath:lt("string")};var Da=class n extends Va{constructor(e,t,r){super(e,t,ID(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function mP(n,e,...t){if(n=xt(n),v3("collection","path",e),n instanceof wl){let r=Ye.fromString(e,...t);return pM(r),new Da(n,null,r)}{if(!(n instanceof un||n instanceof Da))throw new q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ye.fromString(e,...t));return pM(r),new Da(n.firestore,null,r)}}var XM="AsyncQueue",Yp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new zp(this,"async_queue_retry"),this.oc=()=>{let r=NI();r&&z(XM,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=NI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=NI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Oi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ua(e))throw e;z(XM,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Hr("INTERNAL UNHANDLED ERROR: ",ex(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Ww.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ne(47125,{hc:ex(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function ex(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function tx(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Dl=class extends wl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Yp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Yp(e),this._firestoreClient=void 0,yield e}})}};function yP(n,e){let t=typeof n=="object"?n:Vo(),r=typeof n=="string"?n:e||xp,i=la(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ER("firestore");o&&gP(i,...o)}return i}function Wz(n){if(n._terminated)throw new q(V.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Kz(n),n._firestoreClient}function Kz(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new BI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new oD(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var Fi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(kt.fromBase64String(e))}catch(t){throw new q(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bl(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Fi._jsonSchemaVersion="firestore/bytes/1.0",Fi._jsonSchema={type:lt("string",Fi._jsonSchemaVersion),bytes:lt("string")};var Jp=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Zp=class{constructor(e){this._methodName=e}};var Li=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(bl(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:lt("string",Li._jsonSchemaVersion),latitude:lt("number"),longitude:lt("number")};var Vi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bl(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new q(V.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:lt("string",Vi._jsonSchemaVersion),vectorValues:lt("object")};var Qz=/^__.*__$/;function vP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ec:n})}}var sD=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return cD(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(vP(this.Ec)&&Qz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},aD=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cg(e)}Dc(e,t,r,i=!1){return new sD({Ec:e,methodName:t,bc:r,path:In.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Yz(n){let e=n._freezeSettings(),t=cg(n._databaseId);return new aD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Jz(n,e,t,r=!1){return MD(t,n.Dc(r?4:3,e))}function MD(n,e){if(_P(n=xt(n)))return Xz("Unsupported field value:",e,n),Zz(n,e);if(n instanceof Zp)return(function(r,i){if(!vP(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=MD(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ft.fromDate(r);return{timestampValue:lw(i.serializer,o)}}if(r instanceof ft){let o=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lw(i.serializer,o)}}if(r instanceof Li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fi)return{bytesValue:Gx(i.serializer,r._byteString)};if(r instanceof un){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vi)return(function(s,a){return{mapValue:{fields:{[mD]:{stringValue:yD},[Sa]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return wD(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${ng(r)}`)})(n,e)}function Zz(n,e){let t={};return Ix(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(n,(r,i)=>{let o=MD(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function _P(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof Li||n instanceof Fi||n instanceof un||n instanceof Zp||n instanceof Vi)}function Xz(n,e,t){if(!_P(t)||!sx(t)){let r=ng(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}var eq=new RegExp("[~\\*/\\[\\]]");function tq(n,e,t){if(e.search(eq)>=0)throw cD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jp(...e.split("."))._internalPath}catch{throw cD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cD(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new q(V.INVALID_ARGUMENT,a+n+u)}var Xp=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new uD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(xD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},uD=class extends Xp{data(){return super.data()}};function xD(n,e){return typeof e=="string"?tq(n,e):e instanceof Jp?e._internalPath:e._delegate._internalPath}function nq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tl=class{},lD=class extends Tl{};function EP(n,e,...t){let r=[];e instanceof Tl&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof dD).length,a=o.filter(u=>u instanceof eg).length;if(s>1||s>0&&a>0)throw new q(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var eg=class n extends lD{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return wP(e._query,t),new Va(e.firestore,e.converter,ew(e._query,t))}_parse(e){let t=Yz(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){rx(p,h);let C=[];for(let P of p)C.push(nx(u,o,P));m={arrayValue:{values:C}}}else m=nx(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||rx(p,h),m=Jz(a,s,p,h==="in"||h==="not-in");return ut.create(l,h,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function IP(n,e,t){let r=e,i=xD("where",n);return eg._create(i,r,t)}var dD=class n extends Tl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:$n.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)wP(s,u),s=ew(s,u)})(e._query,t),new Va(e.firestore,e.converter,ew(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function nx(n,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new q(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kx(e)&&t.indexOf("/")!==-1)throw new q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ye.fromString(t));if(!J.isDocumentKey(r))throw new q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IM(n,new J(r))}if(t instanceof un)return IM(n,t._key);throw new q(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ng(t)}.`)}function rx(n,e){if(!Array.isArray(n)||n.length===0)throw new q(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wP(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new q(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var hD=class{convertValue(e,t="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ba(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Sa].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ve(s.doubleValue));return new Vi(o)}convertGeoPoint(e){return new Li(Ve(e.latitude),Ve(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=og(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){let t=zr(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ye.fromString(e);$e(Xx(r),9688,{name:e});let i=new Pp(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(t)||Hr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Ko=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Qo=class n extends Xp{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(xD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(V.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qo._jsonSchema={type:lt("string",Qo._jsonSchemaVersion),bundleSource:lt("string","DocumentSnapshot"),bundleName:lt("string"),bundle:lt("string")};var Ta=class extends Qo{data(e={}){return super.data(e)}},ba=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ko(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ta(this._firestore,this._userDataWriter,r.key,r,new Ko(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ta(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ko(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ta(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ko(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:rq(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(V.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function rq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:n})}}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:lt("string",ba._jsonSchemaVersion),bundleSource:lt("string","QuerySnapshot"),bundleName:lt("string"),bundle:lt("string")};var tg=class extends hD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}};function DP(n,...e){var t,r,i;n=xt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||tx(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(tx(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof un)l=Dp(n.firestore,Dl),h=ID(n._key.path),u={next:p=>{e[s]&&e[s](iq(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Dp(n,Va);l=Dp(p.firestore,Dl),h=p._query;let m=new tg(l);u={next:y=>{e[s]&&e[s](new ba(l,m,p,y))},error:e[s+1],complete:e[s+2]},nq(n._query)}return(function(m,y,C,P){let N=new iD(P),k=new Jw(y,N,C);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Mz(yield YM(m),k)})),()=>{N.Ou(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return xz(yield YM(m),k)}))}})(Wz(l),h,a,u)}function iq(n,e,t){let r=t.docs.get(e._key),i=new tg(n);return new Qo(n,i,e._key,r,new Ko(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ja=i})(Ci),jn(new $t("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Dl(new kI(r.getProvider("auth-internal")),new LI(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new q(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pp(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qe(lM,dM,e),Qe(lM,dM,"esm2017")})();var Xo=class{constructor(e){return e}},TP="firestore",PD=class{constructor(){return ha(TP)}};var kD=new $("angularfire2.firestore-instances");function oq(n,e){let t=Hu(TP,n,e);return t&&new Xo(t)}function sq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Xo(r)}}var aq={provide:PD,deps:[[new on,kD]]},cq={provide:Xo,useFactory:oq,deps:[[new on,kD],Or]};function bP(n,...e){return Qe("angularfire",Si.full,"fst"),nn([cq,aq,{provide:kD,useFactory:sq(n),multi:!0,deps:[De,qe,Ai,Uo,[new on,nl],[new on,fa],...e]}])}var OD=Ht(mP,!0,2);var CP=Ht(yP,!0);var FD=Ht(DP,!0);var LD=Ht(EP,!0,2);var SP=Ht(IP,!0,2);var Ha=class n{firestore=R(Xo);constructor(){}createRealtimeObservable(e,t){let r=LD(e,SP("date","==",t));return new ee(i=>{let o=FD(r,s=>{let a=[];s.forEach(u=>{a.push(L({id:u.id},u.data()))}),i.next(a)},s=>{console.error(`Erreur de souscription en temps r\xE9el pour ${e.path}:`,s),i.error(s)});return()=>o()})}getTickets(e){let t=OD(this.firestore,"tickets");return this.createRealtimeObservable(t,e)}getShortlist(){let e=OD(this.firestore,"shortlist"),t=LD(e);return new ee(r=>{let i=FD(t,o=>{let s=[];o.forEach(a=>{s.push(L({id:a.id},a.data()))}),s.sort((a,u)=>new Date(u.createdAt).getTime()-new Date(a.createdAt).getTime()),r.next(s)},o=>{console.error("Erreur de souscription en temps r\xE9el pour la shortlist:",o),r.error(o)});return()=>i()})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var Hi=class n{auth=R(jr);user$=yp(this.auth);register({email:e,password:t}){return iM(this.auth,e,t)}login({email:e,password:t}){return sM(this.auth,e,t)}logout(){return aM(this.auth)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var uq=(n,e)=>({"bg-[#222] border border-[#00FF41]":n,"bg-[#111] hover:bg-[#1A1A1A]":e});function lq(n,e){if(n&1){let t=mn();M(0,"button",9),Ke("click",function(){let i=Nt(t).$implicit,o=Le();return Mt(o.onSelectDay(i))}),M(1,"span",10),F(2),x(),M(3,"span",11),F(4),x()()}if(n&2){let t=e.$implicit,r=Le();Y("ngClass",ru(3,uq,t===r.selectedDayOffset,t!==r.selectedDayOffset)),j(2),Ne(" ",t===0?"Aujourd'hui":t>0?"J+"+t:"J"+t," "),j(2),Ne(" ",r.getDateForOffset(t).getDate()," ")}}var lg=class n{selectedDayOffset=0;selectDay=new Oe;dayOffsets=Array.from({length:9},(e,t)=>t-6);getDateForOffset(e){let t=new Date;return t.setDate(t.getDate()+e),t}formatDate(e,t){if(t===0)return"Aujourd'hui";let r=e.toLocaleDateString("fr-FR",{weekday:"short"}),i=e.getDate();return`${r.charAt(0).toUpperCase()+r.slice(1)} ${i}`}onSelectDay(e){this.selectDay.emit(e)}prevDay(){this.selectedDayOffset>-6&&this.onSelectDay(this.selectedDayOffset-1)}nextDay(){this.selectedDayOffset<2&&this.onSelectDay(this.selectedDayOffset+1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-day-selector"]],inputs:{selectedDayOffset:"selectedDayOffset"},outputs:{selectDay:"selectDay"},decls:12,vars:4,consts:[[1,"mb-8"],[1,"flex","justify-between","items-center","mb-4"],[1,"p-2","rounded-full","hover:bg-[#222]","transition-colors","disabled:opacity-50",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6"],["d","m15 18-6-6 6-6"],[1,"text-xl","font-bold"],["d","m9 18 6-6-6-6"],[1,"flex","justify-center","overflow-x-auto","pb-4","space-x-2","scrollbar-hide"],["class","flex flex-col items-center justify-center min-w-[60px] h-16 rounded p-2 transition-all relative",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","justify-center","min-w-[60px]","h-16","rounded","p-2","transition-all","relative",3,"click","ngClass"],[1,"text-xs"],[1,"text-sm","font-mono"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"button",2),Ke("click",function(){return r.prevDay()}),rt(),M(3,"svg",3),de(4,"path",4),x()(),it(),M(5,"h2",5),F(6),x(),M(7,"button",2),Ke("click",function(){return r.nextDay()}),rt(),M(8,"svg",3),de(9,"path",6),x()()(),it(),M(10,"div",7),Se(11,lq,5,6,"button",8),x()()),t&2&&(j(2),Y("disabled",r.selectedDayOffset<=-6),j(4),Ne(" ",r.formatDate(r.getDateForOffset(r.selectedDayOffset),r.selectedDayOffset)," "),j(),Y("disabled",r.selectedDayOffset>=2),j(4),Y("ngForOf",r.dayOffsets))},dependencies:[Ae,xr,Yt],encapsulation:2})};var za=class n{translations={home_win:"Victoire Domicile",away_win:"Victoire Ext\xE9rieur",draw:"Match Nul",favorite_win:"Favori Vainqueur",outsider_win:"Outsider Vainqueur",double_chance_favorite:"Double Chance Favori",double_chance_outsider:"Double Chance Outsider",btts:"Les 2 \xC9quipes Marquent",btts_no:"Les 2 \xC9quipes Ne Marquent Pas","match_over_0.5":"+0.5 Buts","match_under_0.5":"-0.5 Buts","match_over_1.5":"+1.5 Buts","match_under_1.5":"-1.5 Buts","match_over_2.5":"+2.5 Buts","match_under_2.5":"-2.5 Buts","match_over_3.5":"+3.5 Buts","match_under_3.5":"-3.5 Buts","ht_over_0.5":"+0.5 Buts (1MT)","ht_under_0.5":"-0.5 Buts (1MT)","ht_over_1.5":"+1.5 Buts (1MT)","ht_under_1.5":"-1.5 Buts (1MT)","st_over_0.5":"+0.5 Buts (2MT)","st_under_0.5":"-0.5 Buts (2MT)","st_over_1.5":"+1.5 Buts (2MT)","st_under_1.5":"-1.5 Buts (2MT)","home_over_0.5":"+0.5 Buts (Domicile)","home_under_0.5":"-0.5 Buts (Domicile)","home_over_1.5":"+1.5 Buts (Domicile)","home_under_1.5":"-1.5 Buts (Domicile)","away_over_0.5":"+0.5 Buts (Ext\xE9rieur)","away_under_0.5":"-0.5 Buts (Ext\xE9rieur)","away_over_1.5":"+1.5 Buts (Ext\xE9rieur)","away_under_1.5":"-1.5 Buts (Ext\xE9rieur)"};transform(e){return this.translations[e]||e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Us({name:"marketTranslate",type:n,pure:!0})};function dq(n,e){n&1&&de(0,"hr",19)}function hq(n,e){if(n&1&&(M(0,"div")(1,"div",6)(2,"div",7),F(3),x(),M(4,"div",8)(5,"div",9),de(6,"img",10),M(7,"span",11),F(8),x()(),M(9,"span",12),F(10,"vs"),x(),M(11,"div",9)(12,"span",11),F(13),x(),de(14,"img",10),x()(),M(15,"div",13)(16,"div",14),F(17),Mr(18,"marketTranslate"),x(),M(19,"div",15)(20,"span",16),F(21),x(),M(22,"span",17),F(23),x()()()(),Se(24,dq,1,0,"hr",18),x()),n&2){let t=e.$implicit,r=e.last;j(3),Be(t.league),j(3),Y("alt",Gh("",t.homeTeam," logo"))("src",t.homeLogo,Kc),j(2),Be(t.homeTeam),j(5),Be(t.awayTeam),j(),Y("alt",Gh("",t.awayTeam," logo"))("src",t.awayLogo,Kc),j(3),Be(Hs(18,13,t.market)),j(4),Ne("@ ",t.odd.toFixed(2)),j(2),Ne("Confiance: ",t.score.toFixed(0),"%"),j(),Y("ngIf",!r)}}function fq(n,e){if(n&1&&(M(0,"div",1)(1,"div",2)(2,"h3",3),F(3),x()(),M(4,"div",4),Se(5,hq,25,15,"div",5),x()()),n&2){let t=Le();j(3),Ne(" Cote Totale : ",t.ticket.totalOdd.toFixed(2)," "),j(2),Y("ngForOf",t.ticket.bets)}}var dg=class n{ticket;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-ticket-card"]],inputs:{ticket:"ticket"},decls:1,vars:1,consts:[["class","h-full rounded-lg border border-[#222] bg-[#121212] overflow-hidden flex flex-col",4,"ngIf"],[1,"h-full","rounded-lg","border","border-[#222]","bg-[#121212]","overflow-hidden","flex","flex-col"],[1,"p-3","border-b","border-[#222]","bg-[#0F0F0F]","text-center"],[1,"font-bold","text-lg","text-[#00FF41]"],[1,"p-4","flex-grow"],[4,"ngFor","ngForOf"],[1,"py-3"],[1,"text-xs","text-gray-400","mb-2"],[1,"flex","items-center","justify-between","mb-2"],[1,"flex","items-center","gap-2"],[1,"w-5","h-5",3,"src","alt"],[1,"font-semibold"],[1,"text-gray-500"],[1,"bg-[#0A0A0A]","p-2","rounded-md","text-center"],[1,"text-sm","text-gray-300"],[1,"flex","items-center","justify-center","gap-4"],[1,"font-mono","font-bold","text-white"],[1,"text-sm","text-[#00FF41]"],["class","border-[#222]",4,"ngIf"],[1,"border-[#222]"]],template:function(t,r){t&1&&Se(0,fq,6,2,"div",0),t&2&&Y("ngIf",r.ticket)},dependencies:[Ae,Yt,Ut,za],encapsulation:2})};function pq(n,e){if(n&1){let t=mn();M(0,"div")(1,"button",11),Ke("click",function(){Nt(t);let i=Le();return Mt(i.onActionClick())}),F(2),x()()}if(n&2){let t=Le();j(2),Ne(" ",t.actionText," ")}}var qa=class n{title="Aucune Donn\xE9e";message="Il n'y a rien \xE0 afficher pour le moment.";actionText;action=new Oe;onActionClick(){this.action.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-empty-state"]],inputs:{title:"title",message:"message",actionText:"actionText"},outputs:{action:"action"},decls:13,vars:3,consts:[[1,"w-full","bg-[#0A0A0A]","border","border-[#333]","rounded-lg","p-8","text-center","flex","flex-col","items-center","font-mono"],[1,"mb-4","text-[#999]"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","M10 15.5c.5 0 1 .2 1.4.6"],["d","M10 13c-1.7 0-3 1.3-3 3 0 1.5 1 2.8 2.5 3"],["d","M14 18c0-1.7-1.3-3-3-3"],[1,"text-xl","font-bold","text-[#FF0000]","mb-2"],[1,"text-[#E0E0E0]","max-w-sm","mx-auto","mb-6"],[4,"ngIf"],[1,"px-6","py-2","bg-transparent","border","border-[#FF0000]","text-[#FF0000]","rounded","hover:bg-[#FF0000]","hover:bg-opacity-10","transition-colors",3,"click"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1),rt(),M(2,"svg",2),de(3,"path",3)(4,"polyline",4)(5,"path",5)(6,"path",6)(7,"path",7),x()(),it(),M(8,"h3",8),F(9),x(),M(10,"p",9),F(11),x(),Se(12,pq,3,1,"div",10),x()),t&2&&(j(9),Be(r.title),j(2),Be(r.message),j(),Y("ngIf",r.actionText))},dependencies:[Ae,Ut],encapsulation:2,changeDetection:0})};function gq(n,e){if(n&1&&(M(0,"div",4)(1,"h2",5),F(2,"The Oracle's Choice"),x(),M(3,"div",6),de(4,"app-ticket-card",7),x()()),n&2){let t=Le(2);j(4),Y("ticket",t.oraclesChoice)}}function mq(n,e){if(n&1&&de(0,"app-ticket-card",7),n&2){let t=e.$implicit;Y("ticket",t)}}function yq(n,e){if(n&1&&(M(0,"div",8)(1,"h3",9),F(2,"Other Generated Tickets"),x(),M(3,"div",10),Se(4,mq,1,1,"app-ticket-card",11),x()()),n&2){let t=Le(2);j(4),Y("ngForOf",t.otherTickets)}}function vq(n,e){if(n&1&&(M(0,"div"),Se(1,gq,5,1,"div",2)(2,yq,5,1,"div",3),x()),n&2){let t=Le();j(),Y("ngIf",t.oraclesChoice),j(),Y("ngIf",t.otherTickets.length>0)}}function _q(n,e){n&1&&de(0,"app-empty-state",12)}var hg=class n{ticketsData=null;selectedDayOffset=0;objectKeys=Object.keys;get selectedDayKey(){let e=new Date;return e.setDate(e.getDate()+this.selectedDayOffset),e.toLocaleDateString("fr-FR")}get ticketsForSelectedDay(){return this.ticketsData?this.ticketsData[this.selectedDayKey]:null}get areTicketsAvailable(){let e=this.ticketsForSelectedDay;if(!e)return!1;let t=e["The Oracle's Choice"],r=e["The Agent's Play"],i=e["The Red Pill"];return!!(t&&t.length>0)||!!(r&&r.length>0)||!!(i&&i.length>0)}get oraclesChoice(){let e=this.ticketsForSelectedDay;return e&&e["The Oracle's Choice"]?e["The Oracle's Choice"][0]:null}get otherTickets(){let e=this.ticketsForSelectedDay;if(!e)return[];let t=[];return e["The Agent's Play"]&&t.push(...e["The Agent's Play"]),e["The Red Pill"]&&t.push(...e["The Red Pill"]),t}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-tickets-list"]],inputs:{ticketsData:"ticketsData",selectedDayOffset:"selectedDayOffset"},decls:3,vars:2,consts:[["noTickets",""],[4,"ngIf","ngIfElse"],["class","mb-8",4,"ngIf"],["class","mt-12",4,"ngIf"],[1,"mb-8"],[1,"text-2xl","font-bold","text-center","mb-4","text-green-400"],[1,"max-w-md","mx-auto"],[3,"ticket"],[1,"mt-12"],[1,"text-xl","font-bold","text-center","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[3,"ticket",4,"ngFor","ngForOf"],["title","Aucun Ticket Trouv\xE9","message","Il n'y a aucun ticket g\xE9n\xE9r\xE9 pour ce jour. Veuillez consulter les pronostics ou essayer une autre date."]],template:function(t,r){if(t&1&&Se(0,vq,3,2,"div",1)(1,_q,1,0,"ng-template",null,0,er),t&2){let i=yn(2);Y("ngIf",r.areTicketsAvailable)("ngIfElse",i)}},dependencies:[Ae,Yt,Ut,dg,qa],encapsulation:2})};var Eq=(n,e,t)=>({"text-[#00FF41]":n,"text-red-500":e,"text-[#888]":t}),fg=class n{character;get progressPercentage(){return this.character.progress/this.character.goal*100}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-character-card"]],inputs:{character:"character"},decls:24,vars:20,consts:[[1,"bg-[#0F0F0F]","border","border-[#222]","rounded-lg","p-3","flex","flex-col"],[1,"flex","justify-between","items-center","mb-2"],[1,"font-bold","text-[#00FF41]"],[1,"text-xs","font-mono","text-[#888]"],[1,"w-full","h-2","bg-[#222]","rounded-full","mb-3","overflow-hidden"],[1,"h-full","bg-[#00FF41]"],[1,"text-xs","text-[#888]","mb-2"],[1,"text-[#CCC]"],[1,"flex","justify-between","items-center","mb-1"],[1,"text-xs","text-[#888]"],[1,"font-mono","font-bold"],[1,"flex","justify-between","items-center"],[1,"font-mono","font-bold",3,"ngClass"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"h3",2),F(3),x(),M(4,"span",3),F(5),x()(),M(6,"div",4),de(7,"div",5),x(),M(8,"div",6),F(9," Goal: "),M(10,"span",7),F(11),x()(),M(12,"div",8)(13,"span",9),F(14,"Current Bankroll:"),x(),M(15,"span",10),F(16),Mr(17,"number"),x()(),M(18,"div",11)(19,"span",9),F(20,"Total Performance:"),x(),M(21,"span",12),F(22),Mr(23,"number"),x()()()),t&2&&(j(3),Be(r.character.name),j(2),eu(" ",r.character.progress,"/",r.character.goal," wins "),j(2),zh("width",r.progressPercentage,"%"),j(4),Ne("Reach ",r.character.goal," consecutive wins"),j(5),Ne("",Wh(17,10,r.character.bankroll,"1.2-2"),"\u20AC"),j(5),Y("ngClass",Kv(16,Eq,r.character.performance>0,r.character.performance<0,r.character.performance===0)),j(),eu(" ",r.character.performance>0?"+":"","",Wh(23,13,r.character.performance,"1.2-2"),"\u20AC "))},dependencies:[Ae,xr,p_],encapsulation:2})};function Iq(n,e){if(n&1&&de(0,"app-character-card",6),n&2){let t=e.$implicit;Y("character",t)}}var pg=class n{ticketsData=null;selectedDayOffset=0;characters=[];initialCharacters=[{name:"Cypher",goal:1,bankroll:20,initialBankroll:20,progress:0,performance:0},{name:"Morpheus",goal:2,bankroll:20,initialBankroll:20,progress:0,performance:0},{name:"Trinity",goal:3,bankroll:20,initialBankroll:20,progress:0,performance:0},{name:"Neo",goal:4,bankroll:20,initialBankroll:20,progress:0,performance:0},{name:"L'Oracle",goal:5,bankroll:20,initialBankroll:20,progress:0,performance:0}];constructor(){this.characters=JSON.parse(JSON.stringify(this.initialCharacters))}ngOnChanges(e){(e.ticketsData||e.selectedDayOffset)&&this.runSimulation()}runSimulation(){if(this.ticketsData){this.characters=JSON.parse(JSON.stringify(this.initialCharacters));for(let e=-6;e<=this.selectedDayOffset;e++){let t=new Date;t.setDate(t.getDate()+e);let r=t.toLocaleDateString("fr-FR"),i=this.ticketsData[r];if(i){let o=i["The Oracle's Choice"];if(o&&o.length>0){let s=o[0];s&&this.characters.forEach(a=>{if(s.status==="won"){let u=a.bankroll*s.totalOdd,l=u-a.bankroll;a.bankroll=u,a.progress++,a.performance+=l,a.progress>=a.goal&&(a.bankroll=a.initialBankroll,a.progress=0)}else s.status==="lost"&&(a.performance-=a.bankroll,a.bankroll=a.initialBankroll,a.progress=0)})}}}}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-architects-simulator"]],inputs:{ticketsData:"ticketsData",selectedDayOffset:"selectedDayOffset"},features:[Nn],decls:9,vars:1,consts:[[1,"mb-8","p-4","bg-[#0A0A0A]","border","border-[#222]","rounded-lg"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-xl","font-bold","text-[#00FF41]","flex","items-center","gap-2"],[1,"text-xs","font-mono","text-[#666]"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-5","gap-4"],[3,"character",4,"ngFor","ngForOf"],[3,"character"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span",3),F(4,"[SYSTEM]"),x(),M(5,"span"),F(6,"THE ARCHITECT'S SIMULATION"),x()()(),M(7,"div",4),Se(8,Iq,1,1,"app-character-card",5),x()()),t&2&&(j(8),Y("ngForOf",r.characters))},dependencies:[Ae,Yt,fg],encapsulation:2})};var wq=(n,e)=>({"text-yellow-400":n,"text-green-400":e});function Dq(n,e){if(n&1&&(M(0,"tr",21)(1,"td",22),F(2),x(),M(3,"td",23),F(4),Mr(5,"marketTranslate"),x(),M(6,"td",22),F(7),x(),M(8,"td",22),F(9),x(),M(10,"td",22),F(11),x(),M(12,"td",22)(13,"span",24),F(14),x()()()),n&2){let t=e.$implicit;j(2),Be(t.matchLabel),j(2),Be(Hs(5,7,t.market)),j(3),Ne("",t.score==null?null:t.score.toFixed(0),"%"),j(2),Ne("",t.historicalSuccessRate==null?null:t.historicalSuccessRate.toFixed(0),"%"),j(2),Be(t.odd||"..."),j(2),Y("ngClass",ru(9,wq,t.status==="PENDING_ODDS",t.status==="COMPLETED")),j(),Ne(" ",t.status==="PENDING_ODDS"?"EN ATTENTE DE COTE":"PR\xCAT"," ")}}function Tq(n,e){if(n&1&&(M(0,"table",16)(1,"thead",17)(2,"tr",18)(3,"th",19),F(4,"MATCH"),x(),M(5,"th",19),F(6,"MARCH\xC9"),x(),M(7,"th",19),F(8,"CONF. ALGO"),x(),M(9,"th",19),F(10,"TX. R\xC9USSITE HIST."),x(),M(11,"th",19),F(12,"COTE"),x(),M(13,"th",19),F(14,"STATUT"),x()()(),M(15,"tbody"),Se(16,Dq,15,12,"tr",20),x()()),n&2){let t=Le().ngIf;j(16),Y("ngForOf",t)}}function bq(n,e){n&1&&(M(0,"div",25)(1,"p"),F(2,"Aucune pr\xE9diction pertinente dans la shortlist pour le moment."),x(),M(3,"p",26),F(4,"Le syst\xE8me attend les prochains matchs \xE0 analyser."),x()())}function Cq(n,e){if(n&1&&(Bh(0),Se(1,Tq,17,1,"table",15)(2,bq,5,0,"ng-template",null,1,er),$h()),n&2){let t=e.ngIf,r=yn(3);j(),Y("ngIf",t.length>0)("ngIfElse",r)}}function Sq(n,e){n&1&&(M(0,"div",25)(1,"p"),F(2,"Chargement du flux de donn\xE9es..."),x()())}var gg=class n{close=new Oe;apiService=R(Ha);shortlist$;constructor(){this.shortlist$=this.apiService.getShortlist()}onClose(){this.close.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-raw-data-flow"]],outputs:{close:"close"},decls:19,vars:4,consts:[["loading",""],["empty",""],[1,"fixed","inset-0","bg-black","bg-opacity-90","backdrop-blur-sm","flex","items-center","justify-center","z-50","p-4"],[1,"max-w-4xl","w-full","bg-[#080808]","border","border-[#222]","rounded-lg","overflow-hidden","relative"],[1,"scanline-effect"],[1,"flex","items-center","justify-between","p-4","border-b","border-[#222]","bg-[#0A0A0A]","relative","z-10"],[1,"text-sm","font-mono","text-[#666]"],[1,"flex","items-center","gap-2"],[1,"text-[#00FF41]","font-mono"],[1,"p-2","hover:bg-[#111]","rounded-full","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"p-2","max-h-[70vh]","overflow-y-auto","relative","z-10"],[4,"ngIf","ngIfElse"],["class","w-full border-collapse font-mono text-xs",4,"ngIf","ngIfElse"],[1,"w-full","border-collapse","font-mono","text-xs"],[1,"text-[#666]"],[1,"border-b","border-[#222]"],[1,"p-2","text-left"],["class","border-b border-[#111] hover:bg-[#0A0A0A]",4,"ngFor","ngForOf"],[1,"border-b","border-[#111]","hover:bg-[#0A0A0A]"],[1,"p-2"],[1,"p-2","text-[#00FF41]"],[3,"ngClass"],[1,"text-center","p-8","text-[#666]"],[1,"text-xs","mt-2"]],template:function(t,r){if(t&1){let i=mn();M(0,"div",2)(1,"div",3),de(2,"div",4),M(3,"div",5)(4,"div")(5,"h3",6),F(6," SHORTLIST - PR\xC9DICTIONS PERTINENTES "),x(),M(7,"div",7)(8,"span",8),F(9," EN TEMPS R\xC9EL "),x()()(),M(10,"button",9),Ke("click",function(){return Nt(i),Mt(r.onClose())}),rt(),M(11,"svg",10),de(12,"line",11)(13,"line",12),x()()(),it(),M(14,"div",13),Se(15,Cq,4,2,"ng-container",14),Mr(16,"async"),Se(17,Sq,3,0,"ng-template",null,0,er),x()()()}if(t&2){let i=yn(18);j(15),Y("ngIf",Hs(16,2,r.shortlist$))("ngIfElse",i)}},dependencies:[Ae,xr,Yt,Ut,f_,za],styles:['.scanline-effect[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;overflow:hidden;opacity:.05}.scanline-effect[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-100%;left:0;width:100%;height:200%;background:linear-gradient(to bottom,transparent 0%,rgba(0,255,65,.2) 50%,transparent 100%);animation:_ngcontent-%COMP%_scan 4s linear infinite}@keyframes _ngcontent-%COMP%_scan{0%{transform:translateY(0)}to{transform:translateY(100%)}}']})};function Aq(n,e){n&1&&(M(0,"div",8)(1,"p",9),F(2,"Chargement des donn\xE9es..."),x()())}function Rq(n,e){if(n&1&&(M(0,"div",10),rt(),M(1,"svg",11),de(2,"path",12)(3,"line",13)(4,"line",14),x(),it(),M(5,"h3",15),F(6),x(),M(7,"p",16),F(8),x()()),n&2){let t=Le();j(6),Be(t.error.title),j(2),Be(t.error.message)}}function Nq(n,e){if(n&1&&(M(0,"div"),de(1,"app-tickets-list",25),x()),n&2){let t=Le(2);j(),Y("ticketsData",t.ticketsData)}}function Mq(n,e){n&1&&de(0,"app-empty-state",26)}function xq(n,e){if(n&1){let t=mn();M(0,"div")(1,"div",17)(2,"div",18)(3,"div")(4,"div",19),F(5," FIABILIT\xC9 DU SIGNAL (7J) "),x(),M(6,"div",20),F(7),x()(),M(8,"button",21),Ke("click",function(){Nt(t);let i=Le();return Mt(i.openRawData())}),M(9,"span"),F(10,"<>"),x(),M(11,"span"),F(12,"VOIR LE FLUX COMPLET"),x()()()(),M(13,"h2",22)(14,"span",23),F(15,"[MATRICE]"),x(),M(16,"span"),F(17,"LE PROGRAMME DU JOUR"),x()(),Se(18,Nq,2,1,"div",24)(19,Mq,1,0,"ng-template",null,0,er),x()}if(n&2){let t=yn(20),r=Le();j(7),Ne(" ",r.sevenDayRate,"% "),j(11),Y("ngIf",r.objectKeys(r.ticketsData).length>0)("ngIfElse",t)}}function Pq(n,e){if(n&1){let t=mn();M(0,"app-raw-data-flow",27),Ke("close",function(){Nt(t);let i=Le();return Mt(i.closeRawData())}),x()}}var mg=class n{predictionsData={};ticketsData={};isLoading=!0;error=null;selectedDayOffset=0;sevenDayRate=82;showRawData=!1;authService=R(Hi);apiService=R(Ha);objectKeys=Object.keys;ngOnInit(){let e=this.getDateFromOffset(0);this.loadDataForDate(e)}openRawData(){this.showRawData=!0}closeRawData(){this.showRawData=!1}loadDataForDate(e){this.isLoading=!0,this.error=null,this.predictionsData={},this.ticketsData={},this.apiService.getTickets(e).pipe(Tn(t=>(t.status!==404&&(console.error("Erreur API (Tickets):",t),this.error||(this.error={title:"Signal Interrompu",message:"Impossible de mat\xE9rialiser les tickets. Le signal vers le Mainframe est perdu."})),K([]))),nt(()=>{this.error&&(this.isLoading=!1)})).subscribe(t=>{t&&t.length>0?this.ticketsData={[e]:(t||[]).reduce((r,i)=>{let o=i.title;return r[o]||(r[o]=[]),r[o].push(i),r},{})}:this.ticketsData={},this.isLoading=!1})}handleDaySelect(e){this.selectedDayOffset=e;let t=this.getDateFromOffset(e);this.loadDataForDate(t)}getDateFromOffset(e){let t=new Date;return t.setDate(t.getDate()+e),t.toISOString().split("T")[0]}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-dashboard"]],decls:7,vars:7,consts:[["noTickets",""],[1,"container","mx-auto","p-4"],[3,"selectDay","selectedDayOffset"],[3,"ticketsData","selectedDayOffset"],["class","text-center mt-8",4,"ngIf"],["class","w-full bg-[#0A0A0A] border border-[#FF0000] rounded-lg p-8 text-center flex flex-col items-center font-mono mt-8",4,"ngIf"],[4,"ngIf"],[3,"close",4,"ngIf"],[1,"text-center","mt-8"],[1,"text-lg"],[1,"w-full","bg-[#0A0A0A]","border","border-[#FF0000]","rounded-lg","p-8","text-center","flex","flex-col","items-center","font-mono","mt-8"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round",1,"text-[#FF0000]","mb-4"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"text-2xl","font-bold","text-[#FF0000]","mb-2"],[1,"text-[#E0E0E0]","max-w-md","mx-auto"],[1,"mb-6","p-4","bg-[#0A0A0A]","border","border-[#222]","rounded-lg","relative","overflow-hidden"],[1,"relative","z-10","flex","items-center","justify-between"],[1,"text-xs","text-[#888]","mb-1","font-mono"],[1,"text-2xl","font-bold","font-mono","text-[#00FF41]"],[1,"text-xs","font-mono","text-[#888]","hover:text-[#00FF41]","transition-colors","border","border-[#333]","px-3","py-1","rounded","flex","items-center","gap-1",3,"click"],[1,"text-xl","font-bold","text-[#00FF41]","mb-4","flex","items-center","gap-2"],[1,"text-xs","font-mono","text-[#666]"],[4,"ngIf","ngIfElse"],[3,"ticketsData"],["title","Aucun Ticket Trouv\xE9","message","Aucun ticket n'a \xE9t\xE9 g\xE9n\xE9r\xE9 pour cette date. Le silence de la Matrice est parfois un pr\xE9sage."],[3,"close"]],template:function(t,r){t&1&&(M(0,"div",1)(1,"app-day-selector",2),Ke("selectDay",function(o){return r.handleDaySelect(o)}),x(),de(2,"app-architects-simulator",3),Se(3,Aq,3,0,"div",4)(4,Rq,9,2,"div",5)(5,xq,21,3,"div",6),x(),Se(6,Pq,1,0,"app-raw-data-flow",7)),t&2&&(j(),Y("selectedDayOffset",r.selectedDayOffset),j(),Y("ticketsData",r.ticketsData)("selectedDayOffset",r.selectedDayOffset),j(),Y("ngIf",r.isLoading),j(),Y("ngIf",r.error),j(),Y("ngIf",!r.isLoading&&!r.error),j(),Y("ngIf",r.showRawData))},dependencies:[Ae,Ut,Fu,lg,hg,pg,qa,gg],encapsulation:2})};var yg=class n{userEmail="neo@oracle.com";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-user-info"]],decls:10,vars:1,consts:[[1,"flex","items-center","gap-2","mb-2"],[1,"text-sm","text-[#888]"],[1,"flex","items-center","gap-2","p-3","bg-[#0A0A0A]","rounded","border","border-[#222]"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-[#666]"],["cx","12","cy","12","r","4"],["d","M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"],[1,"font-mono"]],template:function(t,r){t&1&&(Kt(0,"div")(1,"div",0)(2,"span",1),F(3,"Adresse email"),Pn()(),Kt(4,"div",2),rt(),Kt(5,"svg",3),bo(6,"circle",4)(7,"path",5),Pn(),it(),Kt(8,"span",6),F(9),Pn()()()),t&2&&(j(9),Be(r.userEmail))},dependencies:[Ae],encapsulation:2})};var vg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-change-password"]],decls:12,vars:0,consts:[[1,"mb-4"],["for","new-password",1,"block","text-sm","text-[#888]","mb-2"],[1,"relative"],["type","password","id","new-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","bg-[#0A0A0A]","border","border-[#222]","rounded","p-3","font-mono","text-[#E0E0E0]","focus:outline-none","focus:border-[#00FF41]"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-[#666]"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],[1,"px-4","py-2","bg-[#00FF41]","text-black","font-bold","rounded","hover:bg-opacity-90","transition-colors"]],template:function(t,r){t&1&&(Kt(0,"div")(1,"div",0)(2,"label",1),F(3," Nouveau mot de passe "),Pn(),Kt(4,"div",2),bo(5,"input",3),Kt(6,"div",4),rt(),Kt(7,"svg",5),bo(8,"rect",6)(9,"path",7),Pn()()()(),it(),Kt(10,"button",8),F(11," Mettre \xE0 jour "),Pn()())},dependencies:[Ae],encapsulation:2})};function kq(n,e){if(n&1&&(M(0,"div",10)(1,"div")(2,"div",11),F(3),x(),M(4,"div",12),F(5),x()(),M(6,"button",13),rt(),M(7,"svg",14),de(8,"path",15)(9,"polyline",16)(10,"line",17),x(),it(),M(11,"span",18),F(12,"T\xE9l\xE9charger"),x()()()),n&2){let t=e.$implicit;j(3),Ne("Facture - ",t.date),j(2),Be(t.amount)}}function Oq(n,e){if(n&1&&(M(0,"div")(1,"h3",4),F(2,"Historique des factures"),x(),M(3,"div",5),Se(4,kq,13,2,"div",6),x(),M(5,"div",7)(6,"div",8)(7,"button",9),F(8," Annuler l'abonnement "),x()()()()),n&2){let t=Le();j(4),Y("ngForOf",t.mockInvoices)}}function Fq(n,e){n&1&&(M(0,"div",19),rt(),M(1,"svg",20),de(2,"polygon",21),x(),it(),M(3,"h3",22),F(4," Passez \xE0 la vitesse sup\xE9rieure "),x(),M(5,"p",23),F(6," Acc\xE9dez aux pr\xE9dictions futures et d\xE9bloquez tout le potentiel de l'Oracle. "),x(),M(7,"button",24),F(8," Passer Premium "),x()())}var _g=class n{isPremium=!1;mockInvoices=[{id:1,date:"Ao\xFBt 2023",amount:"9.99\u20AC"},{id:2,date:"Juillet 2023",amount:"9.99\u20AC"},{id:3,date:"Juin 2023",amount:"9.99\u20AC"}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-subscription-manager"]],inputs:{isPremium:"isPremium"},decls:7,vars:4,consts:[["freeUserView",""],[1,"inline-block","px-3","py-1","rounded-full","mb-6",3,"ngClass"],[1,"font-mono","text-sm"],[4,"ngIf","ngIfElse"],[1,"text-lg","font-bold","mb-3"],[1,"space-y-2"],["class","flex justify-between items-center p-3 bg-[#0A0A0A] rounded border border-[#222]",4,"ngFor","ngForOf"],[1,"mt-6","p-4","border","border-[#333]","border-dashed","rounded","bg-[#0F0F0F]"],[1,"text-center"],[1,"px-4","py-2","bg-[#333]","text-[#E0E0E0]","rounded","hover:bg-[#444]","transition-colors"],[1,"flex","justify-between","items-center","p-3","bg-[#0A0A0A]","rounded","border","border-[#222]"],[1,"font-medium"],[1,"text-sm","text-[#888]"],[1,"flex","items-center","gap-1","px-3","py-1","bg-[#222]","hover:bg-[#333]","rounded","transition-colors"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[1,"text-sm"],[1,"p-6","border","border-[#333]","border-dashed","rounded","bg-[#0F0F0F]","text-center"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-[#00FF41]","mx-auto","mb-3"],["points","13 2 3 14 12 14 11 22 21 10 12 10 13 2"],[1,"text-xl","font-bold","mb-2"],[1,"mb-4","text-[#888]"],[1,"px-6","py-3","bg-[#00FF41]","text-black","font-bold","rounded","hover:bg-opacity-90","transition-colors"]],template:function(t,r){if(t&1&&(M(0,"div")(1,"div",1)(2,"span",2),F(3),x()(),Se(4,Oq,9,1,"div",3)(5,Fq,9,0,"ng-template",null,0,er),x()),t&2){let i=yn(6);j(),Y("ngClass",r.isPremium?"bg-[#0A2A0A] text-[#00FF41]":"bg-[#1A1A1A] text-[#888]"),j(2),Ne(" Abonnement: ",r.isPremium?"Premium":"Gratuit"," "),j(),Y("ngIf",r.isPremium)("ngIfElse",i)}},dependencies:[Ae,xr,Yt,Ut],encapsulation:2})};var Eg=class n{isPremium=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-profile-page"]],inputs:{isPremium:"isPremium"},decls:30,vars:1,consts:[[1,"container","mx-auto","p-4","max-w-3xl"],[1,"flex","items-center","mb-6"],["routerLink","/",1,"p-2","rounded-full","hover:bg-[#222]","transition-colors","mr-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","19","y1","12","x2","5","y2","12"],["points","12 19 5 12 12 5"],[1,"text-2xl","font-bold","text-[#00FF41]"],[1,"space-y-8"],[1,"bg-[#121212]","border","border-[#222]","rounded-lg","p-6"],[1,"text-xl","font-bold","mb-4","flex","items-center","gap-2"],[1,"text-xs","font-mono","text-[#666]"],[3,"isPremium"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"a",2),rt(),M(3,"svg",3),de(4,"line",4)(5,"polyline",5),x()(),it(),M(6,"h1",6),F(7,"Mon Profil"),x()(),M(8,"div",7)(9,"section",8)(10,"h2",9)(11,"span",10),F(12,"[SYSTEM]"),x(),M(13,"span"),F(14,"Informations"),x()(),de(15,"app-user-info"),x(),M(16,"section",8)(17,"h2",9)(18,"span",10),F(19,"[SECURE]"),x(),M(20,"span"),F(21,"S\xE9curit\xE9"),x()(),de(22,"app-change-password"),x(),M(23,"section",8)(24,"h2",9)(25,"span",10),F(26,"[ACCESS]"),x(),M(27,"span"),F(28,"Abonnement & Facturation"),x()(),de(29,"app-subscription-manager",11),x()()()),t&2&&(j(29),Y("isPremium",r.isPremium))},dependencies:[Ae,Fu,Bf,yg,vg,_g],encapsulation:2})};var FP=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(he(Rr),he(Zn))};static \u0275dir=ot({type:n})}return n})(),Lq=(()=>{class n extends FP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=wo(n)))(i||n)}})();static \u0275dir=ot({type:n,features:[Xn]})}return n})(),LP=new $("");var Vq={provide:LP,useExisting:br(()=>Ag),multi:!0};function jq(){let n=vn()?vn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Uq=new $(""),Ag=(()=>{class n extends FP{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!jq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(he(Rr),he(Zn),he(Uq,8))};static \u0275dir=ot({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ke("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[$s([Vq]),Xn]})}return n})();function Bq(n){return n==null||$q(n)===0}function $q(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var BD=new $(""),VP=new $("");function Hq(n){return Bq(n.value)?{required:!0}:null}function AP(n){return null}function jP(n){return n!=null}function UP(n){return Nr(n)?xe(n):n}function BP(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function $P(n,e){return e.map(t=>t(n))}function zq(n){return!n.validate}function HP(n){return n.map(e=>zq(e)?e:t=>e.validate(t))}function qq(n){if(!n)return null;let e=n.filter(jP);return e.length==0?null:function(t){return BP($P(t,e))}}function $D(n){return n!=null?qq(HP(n)):null}function Gq(n){if(!n)return null;let e=n.filter(jP);return e.length==0?null:function(t){let r=$P(t,e).map(UP);return bm(r).pipe(oe(BP))}}function HD(n){return n!=null?Gq(HP(n)):null}function RP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Wq(n){return n._rawValidators}function Kq(n){return n._rawAsyncValidators}function VD(n){return n?Array.isArray(n)?n:[n]:[]}function wg(n,e){return Array.isArray(n)?n.includes(e):n===e}function NP(n,e){let t=VD(e);return VD(n).forEach(i=>{wg(t,i)||t.push(i)}),t}function MP(n,e){return VD(e).filter(t=>!wg(n,t))}var Dg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$D(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ka=class extends Dg{name;get formDirective(){return null}get path(){return null}},Pl=class extends Dg{_parent=null;name=null;valueAccessor=null},Tg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Qq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Fle=ce(L({},Qq),{"[class.ng-submitted]":"isSubmitted"}),zP=(()=>{class n extends Tg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(he(Pl,2))};static \u0275dir=ot({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Xc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Xn]})}return n})(),qP=(()=>{class n extends Tg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(he(Ka,10))};static \u0275dir=ot({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Xc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Xn]})}return n})();var Al="VALID",Ig="INVALID",Ga="PENDING",Rl="DISABLED",zi=class{},bg=class extends zi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Ml=class extends zi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},xl=class extends zi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Wa=class extends zi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},jD=class extends zi{source;constructor(e){super(),this.source=e}},UD=class extends zi{source;constructor(e){super(),this.source=e}};function GP(n){return(Rg(n)?n.validators:n)||null}function Yq(n){return Array.isArray(n)?$D(n):n||null}function WP(n,e){return(Rg(e)?e.asyncValidators:n)||null}function Jq(n){return Array.isArray(n)?HD(n):n||null}function Rg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Zq(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[t])throw new B(1001,"")}function Xq(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new B(1002,"")})}var Cg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return st(this.statusReactive)}set status(e){st(()=>this.statusReactive.set(e))}_status=zs(()=>this.statusReactive());statusReactive=Wt(void 0);get valid(){return this.status===Al}get invalid(){return this.status===Ig}get pending(){return this.status==Ga}get disabled(){return this.status===Rl}get enabled(){return this.status!==Rl}errors;get pristine(){return st(this.pristineReactive)}set pristine(e){st(()=>this.pristineReactive.set(e))}_pristine=zs(()=>this.pristineReactive());pristineReactive=Wt(!0);get dirty(){return!this.pristine}get touched(){return st(this.touchedReactive)}set touched(e){st(()=>this.touchedReactive.set(e))}_touched=zs(()=>this.touchedReactive());touchedReactive=Wt(!1);get untouched(){return!this.touched}_events=new et;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(NP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MP(e,this._rawAsyncValidators))}hasValidator(e){return wg(this._rawValidators,e)}hasAsyncValidator(e){return wg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new xl(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new xl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ml(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ml(!0,r))}markAsPending(e={}){this.status=Ga;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Rl,this.errors=null,this._forEachChild(i=>{i.disable(ce(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bg(this.value,r)),this._events.next(new Wa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Al,this._forEachChild(r=>{r.enable(ce(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Al||this.status===Ga)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bg(this.value,t)),this._events.next(new Wa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rl:Al}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ga,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=UP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Wa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?Rl:this.errors?Ig:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ga)?Ga:this._anyControlsHaveStatus(Ig)?Ig:Al}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ml(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new xl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Yq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Jq(this._rawAsyncValidators)}},Sg=class extends Cg{constructor(e,t,r){super(GP(t),WP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Xq(this,!0,e),Object.keys(e).forEach(r=>{Zq(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var zD=new $("",{providedIn:"root",factory:()=>qD}),qD="always";function e6(n,e){return[...e.path,n]}function KP(n,e,t=qD){QP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),n6(n,e),i6(n,e),r6(n,e),t6(n,e)}function xP(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function t6(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function QP(n,e){let t=Wq(n);e.validator!==null?n.setValidators(RP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Kq(n);e.asyncValidator!==null?n.setAsyncValidators(RP(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();xP(e._rawValidators,i),xP(e._rawAsyncValidators,i)}function n6(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&YP(n,e)})}function r6(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&YP(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function YP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function i6(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function o6(n,e){n==null,QP(n,e)}function s6(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function a6(n){return Object.getPrototypeOf(n.constructor)===Lq}function c6(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function u6(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ag?t=o:a6(o)?r=o:i=o}),i||r||t||null}var l6={provide:Ka,useExisting:br(()=>GD)},Nl=Promise.resolve(),GD=(()=>{class n extends Ka{callSetDisabledState;get submitted(){return st(this.submittedReactive)}_submitted=zs(()=>this.submittedReactive());submittedReactive=Wt(!1);_directives=new Set;form;ngSubmit=new Oe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Sg({},$D(t),HD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Nl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),KP(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Nl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Nl.then(()=>{let r=this._findContainer(t.path),i=new Sg({});o6(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Nl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Nl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),c6(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new jD(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new UD(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(he(BD,10),he(VP,10),he(zD,8))};static \u0275dir=ot({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ke("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[$s([l6]),Xn]})}return n})();function PP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function kP(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var d6=class extends Cg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(GP(t),WP(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(kP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var h6={provide:Pl,useExisting:br(()=>WD)},OP=Promise.resolve(),WD=(()=>{class n extends Pl{_changeDetectorRef;callSetDisabledState;control=new d6;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Oe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=u6(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),s6(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){KP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){OP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&mi(r);OP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?e6(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(he(Ka,9),he(BD,10),he(VP,10),he(LP,10),he(gi,8),he(zD,8))};static \u0275dir=ot({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[$s([h6]),Xn,Nn]})}return n})();var JP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ot({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var f6=(()=>{class n{_validator=AP;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):AP,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ot({type:n,features:[Nn]})}return n})();var p6={provide:BD,useExisting:br(()=>KD),multi:!0};var KD=(()=>{class n extends f6{required;inputName="required";normalizeInput=mi;createValidator=t=>Hq;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wo(n)))(i||n)}})();static \u0275dir=ot({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Bs("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[$s([p6]),Xn]})}return n})();var g6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xn({type:n});static \u0275inj=ln({})}return n})();var ZP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zD,useValue:t.callSetDisabledState??qD}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=xn({type:n});static \u0275inj=ln({imports:[g6]})}return n})();function y6(n,e){if(n&1&&(M(0,"div",15),F(1),x()),n&2){let t=Le();j(),Ne(" ",t.error," ")}}var Ng=class n{email="";password="";isLoading=!1;error=null;authService=R(Hi);router=R(Jt);handleRegister(){return _(this,null,function*(){this.isLoading=!0,this.error=null;try{yield this.authService.register({email:this.email,password:this.password}),this.router.navigate(["/"])}catch(e){this.error=this.getFirebaseErrorMessage(e.code)}this.isLoading=!1})}handleLogin(){return _(this,null,function*(){this.isLoading=!0,this.error=null;try{yield this.authService.login({email:this.email,password:this.password}),this.router.navigate(["/"])}catch(e){this.error=this.getFirebaseErrorMessage(e.code)}this.isLoading=!1})}getFirebaseErrorMessage(e){switch(e){case"auth/invalid-email":return"Adresse email invalide.";case"auth/user-not-found":case"auth/wrong-password":return"Email ou mot de passe incorrect.";case"auth/email-already-in-use":return"Cette adresse email est d\xE9j\xE0 utilis\xE9e.";case"auth/weak-password":return"Le mot de passe doit contenir au moins 6 caract\xE8res.";default:return"Une erreur est survenue. Veuillez r\xE9essayer."}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-login-page"]],decls:23,vars:7,consts:[["loginForm","ngForm"],[1,"flex","items-center","justify-center","min-h-screen","bg-[#0A0A0A]"],[1,"max-w-md","w-full","bg-[#121212]","border","border-[#222]","rounded-lg","p-8","space-y-6"],[1,"text-center"],[1,"text-3xl","font-bold","text-[#00FF41]"],[1,"text-[#888]","mt-2"],[1,"space-y-6",3,"ngSubmit"],["for","email",1,"block","text-sm","text-[#888]","mb-2"],["type","email","id","email","name","email","required","","placeholder","neo@oracle.com",1,"w-full","bg-[#0A0A0A]","border","border-[#222]","rounded","p-3","font-mono","text-[#E0E0E0]","focus:outline-none","focus:border-[#00FF41]",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","text-[#888]","mb-2"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","bg-[#0A0A0A]","border","border-[#222]","rounded","p-3","font-mono","text-[#E0E0E0]","focus:outline-none","focus:border-[#00FF41]",3,"ngModelChange","ngModel"],["class","text-center p-3 bg-[#2A0A0A] text-red-500 border border-red-500 rounded-md",4,"ngIf"],[1,"flex","flex-col","gap-4"],["type","submit",1,"w-full","py-3","bg-[#00FF41]","text-black","font-bold","rounded","hover:bg-opacity-90","transition-colors","disabled:bg-opacity-50","disabled:cursor-not-allowed",3,"disabled"],["type","button",1,"w-full","py-3","bg-transparent","border","border-[#333]","text-[#CCC]","rounded","hover:bg-[#1A1A1A]","transition-colors","disabled:bg-opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"text-center","p-3","bg-[#2A0A0A]","text-red-500","border","border-red-500","rounded-md"]],template:function(t,r){if(t&1){let i=mn();M(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),F(4,"The Oracle"),x(),M(5,"p",5),F(6,"Connectez-vous pour acc\xE9der au signal."),x()(),M(7,"form",6,0),Ke("ngSubmit",function(){return Nt(i),Mt(r.handleLogin())}),M(9,"div")(10,"label",7),F(11,"Email"),x(),M(12,"input",8),nu("ngModelChange",function(s){return Nt(i),qh(r.email,s)||(r.email=s),Mt(s)}),x()(),M(13,"div")(14,"label",9),F(15,"Mot de passe"),x(),M(16,"input",10),nu("ngModelChange",function(s){return Nt(i),qh(r.password,s)||(r.password=s),Mt(s)}),x()(),Se(17,y6,2,1,"div",11),M(18,"div",12)(19,"button",13),F(20),x(),M(21,"button",14),Ke("click",function(){return Nt(i),Mt(r.handleRegister())}),F(22),x()()()()()}if(t&2){let i=yn(8);j(12),tu("ngModel",r.email),j(4),tu("ngModel",r.password),j(),Y("ngIf",r.error),j(2),Y("disabled",r.isLoading||i.invalid),j(),Ne(" ",r.isLoading?"Connexion...":"Se Connecter"," "),j(),Y("disabled",r.isLoading||i.invalid),j(),Ne(" ",r.isLoading?"Inscription...":"S'inscrire"," ")}},dependencies:[Ae,Ut,ZP,JP,Ag,zP,qP,KD,WD,GD],encapsulation:2})};var QD=(n,e)=>{let t=R(Hi),r=R(Jt);return t.user$.pipe(oe(i=>i?!0:(r.navigate(["/login"]),!1)))};var XP=[{path:"",component:mg,canActivate:[QD]},{path:"profile",component:Eg,canActivate:[QD]},{path:"login",component:Ng}];var ek=(n,e)=>{let t=R(jr);return yp(t).pipe(Ze(i=>i?xe(i.getIdToken()).pipe(Ze(o=>{let s=n.clone({setHeaders:{Authorization:`Bearer ${o}`}});return e(s)})):e(n)))};var v6={apiKey:"AIzaSyBSYrbOMBpSxuHzPIsoj8ymqsvcvM6KTgU",authDomain:"oracle-prediction-app.firebaseapp.com",projectId:"oracle-prediction-app",storageBucket:"oracle-prediction-app.firebasestorage.app",messagingSenderId:"321557095918",appId:"1:321557095918:web:4f478a7c08792c532adaff",measurementId:"G-8Y6YRT96DK"},tk={providers:[iE(XP),R_(N_([ek])),KR(()=>QR(v6)),rM(()=>oM()),bP(()=>CP())]};var Mg=class n{title=Wt("frontend-angular");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&de(0,"router-outlet")},dependencies:[Ae,Mu],encapsulation:2})};T_(Mg,tk).catch(n=>console.error(n));
