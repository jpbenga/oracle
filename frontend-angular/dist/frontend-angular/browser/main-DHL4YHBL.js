var Nk=Object.defineProperty,Mk=Object.defineProperties;var xk=Object.getOwnPropertyDescriptors;var bT=Object.getOwnPropertySymbols,Pk=Object.getPrototypeOf,kk=Object.prototype.hasOwnProperty,Ok=Object.prototype.propertyIsEnumerable,Fk=Reflect.get;var CT=(n,e,t)=>e in n?Nk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})kk.call(e,t)&&CT(n,t,e[t]);if(bT)for(var t of bT(e))Ok.call(e,t)&&CT(n,t,e[t]);return n},te=(n,e)=>Mk(n,xk(e));var fi=(n,e,t)=>Fk(Pk(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var Am;function vd(){return Am}function or(n){let e=Am;return Am=n,e}var ST=Symbol("NotFound");function Ts(n){return n===ST||n?.name==="\u0275NotFound"}function Dd(n,e){return Object.is(n,e)}var Pt=null,_d=!1,Rm=1,Lk=null,kt=Symbol("SIGNAL");function de(n){let e=Pt;return Pt=n,e}function Td(){return Pt}var bs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cs(n){if(_d)throw new Error("");if(Pt===null)return;Pt.consumerOnSignalRead(n);let e=Pt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Pt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Pt.producers,t!==void 0&&t.producer===n)){Pt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Pt&&(!r||jk(i,Pt)))return;let o=As(Pt),s={producer:n,consumer:Pt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Pt.producersTail=s,e!==void 0?e.nextProducer=s:Pt.producers=s,o&&RT(n,s)}function AT(){Rm++}function bd(n){if(!(As(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Rm)){if(!n.producerMustRecompute(n)&&!Fc(n)){wd(n);return}n.producerRecomputeValue(n),wd(n)}}function Nm(n){if(n.consumers===void 0)return;let e=_d;_d=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||Vk(r)}}finally{_d=e}}function Mm(){return Pt?.consumerAllowSignalWrites!==!1}function Vk(n){n.dirty=!0,Nm(n),n.consumerMarkedDirty?.(n)}function wd(n){n.dirty=!1,n.lastCleanEpoch=Rm}function Ss(n){return n&&(n.producersTail=void 0,n.recomputing=!0),de(n)}function Oc(n,e){if(de(e),!n)return;n.recomputing=!1;let t=n.producersTail,r=t!==void 0?t.nextProducer:n.producers;if(r!==void 0){if(As(n))do r=xm(r);while(r!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Fc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(bd(t),r!==t.version))return!0}return!1}function Lc(n){if(As(n)){let e=n.producers;for(;e!==void 0;)e=xm(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function RT(n,e){let t=n.consumersTail,r=As(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)RT(i.producer,i)}function xm(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!As(e)){let o=e.producers;for(;o!==void 0;)o=xm(o)}return t}function As(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Cd(n){Lk?.(n)}function jk(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Sd(n,e){let t=Object.create(Uk);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(bd(t),Cs(t),t.value===kc)throw t.error;return t.value};return r[kt]=t,Cd(t),r}var Ed=Symbol("UNSET"),Id=Symbol("COMPUTING"),kc=Symbol("ERRORED"),Uk=te(V({},bs),{value:Ed,dirty:!0,error:null,equal:Dd,kind:"computed",producerMustRecompute(n){return n.value===Ed||n.value===Id},producerRecomputeValue(n){if(n.value===Id)throw new Error("");let e=n.value;n.value=Id;let t=Ss(n),r,i=!1;try{r=n.computation(),de(null),i=e!==Ed&&e!==kc&&r!==kc&&n.equal(e,r)}catch(o){r=kc,n.error=o}finally{Oc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Bk(){throw new Error}var NT=Bk;function MT(n){NT(n)}function Pm(n){NT=n}var $k=null;function km(n,e){let t=Object.create(Ad);t.value=n,e!==void 0&&(t.equal=e);let r=()=>xT(t);return r[kt]=t,Cd(t),[r,s=>Rs(t,s),s=>Om(t,s)]}function xT(n){return Cs(n),n.value}function Rs(n,e){Mm()||MT(n),n.equal(n.value,e)||(n.value=e,Hk(n))}function Om(n,e){Mm()||MT(n),Rs(n,e(n.value))}var Ad=te(V({},bs),{equal:Dd,value:void 0,kind:"signal"});function Hk(n){n.version++,AT(),Nm(n),$k?.(n)}function ae(n){return typeof n=="function"}function Ns(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Rd=Ns(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function go(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(o){e=o instanceof Rd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{PT(o)}catch(s){e=e??[],s instanceof Rd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Rd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)PT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&go(t,e)}remove(e){let{_finalizers:t}=this;t&&go(t,e),e instanceof n&&e._removeParent(this)}};Je.EMPTY=(()=>{let n=new Je;return n.closed=!0,n})();var Fm=Je.EMPTY;function Nd(n){return n instanceof Je||n&&"closed"in n&&ae(n.remove)&&ae(n.add)&&ae(n.unsubscribe)}function PT(n){ae(n)?n():n.unsubscribe()}var Pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ms={setTimeout(n,e,...t){let{delegate:r}=Ms;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ms;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Md(n){Ms.setTimeout(()=>{let{onUnhandledError:e}=Pn;if(e)e(n);else throw n})}function Vc(){}var kT=Lm("C",void 0,void 0);function OT(n){return Lm("E",void 0,n)}function FT(n){return Lm("N",n,void 0)}function Lm(n,e,t){return{kind:n,value:e,error:t}}var mo=null;function xs(n){if(Pn.useDeprecatedSynchronousErrorHandling){let e=!mo;if(e&&(mo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=mo;if(mo=null,t)throw r}}else n()}function LT(n){Pn.useDeprecatedSynchronousErrorHandling&&mo&&(mo.errorThrown=!0,mo.error=n)}var yo=class extends Je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Nd(e)&&e.add(this)):this.destination=Gk}static create(e,t,r){return new Ps(e,t,r)}next(e){this.isStopped?jm(FT(e),this):this._next(e)}error(e){this.isStopped?jm(OT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jm(kT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zk=Function.prototype.bind;function Vm(n,e){return zk.call(n,e)}var Um=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){xd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){xd(r)}else xd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){xd(t)}}},Ps=class extends yo{constructor(e,t,r){super();let i;if(ae(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vm(e.next,o),error:e.error&&Vm(e.error,o),complete:e.complete&&Vm(e.complete,o)}):i=e}this.destination=new Um(i)}};function xd(n){Pn.useDeprecatedSynchronousErrorHandling?LT(n):Md(n)}function qk(n){throw n}function jm(n,e){let{onStoppedNotification:t}=Pn;t&&Ms.setTimeout(()=>t(n,e))}var Gk={closed:!0,next:Vc,error:qk,complete:Vc};var ks=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ln(n){return n}function Bm(...n){return $m(n)}function $m(n){return n.length===0?ln:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Z=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Kk(t)?t:new Ps(t,r,i);return xs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=VT(r),new r((i,o)=>{let s=new Ps({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ks](){return this}pipe(...t){return $m(t)(this)}toPromise(t){return t=VT(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function VT(n){var e;return(e=n??Pn.Promise)!==null&&e!==void 0?e:Promise}function Wk(n){return n&&ae(n.next)&&ae(n.error)&&ae(n.complete)}function Kk(n){return n&&n instanceof yo||Wk(n)&&Nd(n)}function Hm(n){return ae(n?.lift)}function _e(n){return e=>{if(Hm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,r,i){return new zm(n,e,t,r,i)}var zm=class extends yo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Os(){return _e((n,e)=>{let t=null;n._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Fs=class extends Z{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Hm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Je;let t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Je.EMPTY)}return e}refCount(){return Os()(this)}};var jT=Ns(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var st=(()=>{class n extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Pd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new jT}next(t){xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Fm:(this.currentObservers=null,o.push(t),new Je(()=>{this.currentObservers=null,go(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Z;return t.source=this,t}}return n.create=(e,t)=>new Pd(e,t),n})(),Pd=class extends st{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Fm}};var Dt=class extends st{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var qm={now(){return(qm.delegate||Date).now()},delegate:void 0};var kd=class extends Je{constructor(e,t){super()}schedule(e,t=0){return this}};var jc={setInterval(n,e,...t){let{delegate:r}=jc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=jc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ls=class extends kd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return jc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&jc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,go(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Vs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Vs.now=qm.now;var js=class extends Vs{constructor(e,t=Vs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Gm=new js(Ls);var Od=class extends Ls{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Fd=class extends js{};var Wm=new Fd(Od);var Jt=new Z(n=>n.complete());function UT(n){return n&&ae(n.schedule)}function BT(n){return n[n.length-1]}function Ld(n){return ae(BT(n))?n.pop():void 0}function pi(n){return UT(BT(n))?n.pop():void 0}function Km(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function HT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function $T(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vo(n){return this instanceof vo?(this.v=n,this):new vo(n)}function zT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(P){return new Promise(function(N,F){o.push([y,P,N,F])>1||u(y,P)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(P){g(o[0][3],P)}}function l(y){y.value instanceof vo?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function qT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof $T=="function"?$T(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Vd=n=>n&&typeof n.length=="number"&&typeof n!="function";function jd(n){return ae(n?.then)}function Ud(n){return ae(n[ks])}function Bd(n){return Symbol.asyncIterator&&ae(n?.[Symbol.asyncIterator])}function $d(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Qk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hd=Qk();function zd(n){return ae(n?.[Hd])}function qd(n){return zT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield vo(t.read());if(i)return yield vo(void 0);yield yield vo(r)}}finally{t.releaseLock()}})}function Gd(n){return ae(n?.getReader)}function at(n){if(n instanceof Z)return n;if(n!=null){if(Ud(n))return Yk(n);if(Vd(n))return Jk(n);if(jd(n))return Zk(n);if(Bd(n))return GT(n);if(zd(n))return Xk(n);if(Gd(n))return eO(n)}throw $d(n)}function Yk(n){return new Z(e=>{let t=n[ks]();if(ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Jk(n){return new Z(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Zk(n){return new Z(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Md)})}function Xk(n){return new Z(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function GT(n){return new Z(e=>{tO(n,e).catch(t=>e.error(t))})}function eO(n){return GT(qd(n))}function tO(n,e){var t,r,i,o;return HT(this,void 0,void 0,function*(){try{for(t=qT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Zt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function gi(n,e=0){return _e((t,r)=>{t.subscribe(ye(r,i=>Zt(r,n,()=>r.next(i),e),()=>Zt(r,n,()=>r.complete(),e),i=>Zt(r,n,()=>r.error(i),e)))})}function mi(n,e=0){return _e((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function WT(n,e){return at(n).pipe(mi(e),gi(e))}function KT(n,e){return at(n).pipe(mi(e),gi(e))}function QT(n,e){return new Z(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function YT(n,e){return new Z(t=>{let r;return Zt(t,e,()=>{r=n[Hd](),Zt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function Wd(n,e){if(!n)throw new Error("Iterable cannot be null");return new Z(t=>{Zt(t,e,()=>{let r=n[Symbol.asyncIterator]();Zt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function JT(n,e){return Wd(qd(n),e)}function ZT(n,e){if(n!=null){if(Ud(n))return WT(n,e);if(Vd(n))return QT(n,e);if(jd(n))return KT(n,e);if(Bd(n))return Wd(n,e);if(zd(n))return YT(n,e);if(Gd(n))return JT(n,e)}throw $d(n)}function Oe(n,e){return e?ZT(n,e):at(n)}function K(...n){let e=pi(n);return Oe(n,e)}function Us(n,e){let t=ae(n)?n:()=>n,r=i=>i.error(t());return new Z(e?i=>e.schedule(r,0,i):r)}function Qm(n){return!!n&&(n instanceof Z||ae(n.lift)&&ae(n.subscribe))}var Or=Ns(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(n,e){return _e((t,r)=>{let i=0;t.subscribe(ye(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:nO}=Array;function rO(n,e){return nO(e)?n(...e):n(e)}function Kd(n){return ce(e=>rO(n,e))}var{isArray:iO}=Array,{getPrototypeOf:oO,prototype:sO,keys:aO}=Object;function Qd(n){if(n.length===1){let e=n[0];if(iO(e))return{args:e,keys:null};if(cO(e)){let t=aO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function cO(n){return n&&typeof n=="object"&&oO(n)===sO}function Yd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function _o(...n){let e=pi(n),t=Ld(n),{args:r,keys:i}=Qd(n);if(r.length===0)return Oe([],e);let o=new Z(uO(r,e,i?s=>Yd(i,s):ln));return t?o.pipe(Kd(t)):o}function uO(n,e,t=ln){return r=>{XT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)XT(e,()=>{let l=Oe(n[u],e),h=!1;l.subscribe(ye(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function XT(n,e,t){n?Zt(t,n,e):e()}function eb(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?b(P):u.push(P),b=P=>{o&&e.next(P),l++;let N=!1;at(t(P,h++)).subscribe(ye(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let F=u.shift();s?Zt(e,s,()=>b(F)):b(F)}g()}catch(F){e.error(F)}}))};return n.subscribe(ye(e,y,()=>{p=!0,g()})),()=>{a?.()}}function rt(n,e,t=1/0){return ae(e)?rt((r,i)=>ce((o,s)=>e(r,o,i,s))(at(n(r,i))),t):(typeof e=="number"&&(t=e),_e((r,i)=>eb(r,i,n,t)))}function Bs(n=1/0){return rt(ln,n)}function tb(){return Bs(1)}function $s(...n){return tb()(Oe(n,pi(n)))}function Uc(n){return new Z(e=>{at(n()).subscribe(e)})}function Ym(...n){let e=Ld(n),{args:t,keys:r}=Qd(n),i=new Z(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;at(t[h]).subscribe(ye(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Yd(r,a):a),o.complete())}))}});return e?i.pipe(Kd(e)):i}function Ot(n,e){return _e((t,r)=>{let i=0;t.subscribe(ye(r,o=>n.call(e,o,i++)&&r.next(o)))})}function kn(n){return _e((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ye(t,void 0,void 0,s=>{o=at(n(s,kn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function nb(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ye(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function sr(n,e){return ae(e)?rt(n,e,1):rt(n,1)}function yi(n){return _e((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Fr(n){return n<=0?()=>Jt:_e((e,t)=>{let r=0;e.subscribe(ye(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Jd(n=lO){return _e((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function lO(){return new Or}function Eo(n){return _e((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Lr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ot((i,o)=>n(i,o,r)):ln,Fr(1),t?yi(e):Jd(()=>new Or))}function Hs(n){return n<=0?()=>Jt:_e((e,t)=>{let r=[];e.subscribe(ye(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Jm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ot((i,o)=>n(i,o,r)):ln,Hs(1),t?yi(e):Jd(()=>new Or))}function Zm(n,e){return _e(nb(n,e,arguments.length>=2,!0))}function Xm(...n){let e=pi(n);return _e((t,r)=>{(e?$s(n,t,e):$s(n,t)).subscribe(r)})}function qe(n,e){return _e((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ye(r,u=>{i?.unsubscribe();let l=0,h=o++;at(n(u,h)).subscribe(i=ye(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zd(n){return _e((e,t)=>{at(n).subscribe(ye(t,()=>t.complete(),Vc)),!t.closed&&e.subscribe(t)})}function ct(n,e,t){let r=ae(n)||e||t?{next:n,error:e,complete:t}:n;return r?_e((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ln}function rb(n){let e=de(null);try{return n()}finally{de(e)}}var rh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,t){super(Ei(e,t)),this.code=e}};function dO(n){return`NG0${Math.abs(n)}`}function Ei(n,e){return`${dO(n)}${e?": "+e:""}`}var Br=globalThis;function Ne(n){for(let e in n)if(n[e]===Ne)return e;throw Error("")}function sb(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(jr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function hy(n,e){return n?e?`${n} ${e}`:n:e||""}var hO=Ne({__forward_ref__:Ne});function $r(n){return n.__forward_ref__=$r,n.toString=function(){return jr(this())},n}function Tt(n){return fy(n)?n():n}function fy(n){return typeof n=="function"&&n.hasOwnProperty(hO)&&n.__forward_ref__===$r}function ab(n,e){n==null&&py(e,n,null,"!=")}function py(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function qc(n){return fO(n,ih)}function gy(n){return qc(n)!==null}function fO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function pO(n){let e=n?.[ih]??null;return e||null}function ty(n){return n&&n.hasOwnProperty(eh)?n[eh]:null}var ih=Ne({\u0275prov:Ne}),eh=Ne({\u0275inj:Ne}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function my(n){return n&&!!n.\u0275providers}var yy=Ne({\u0275cmp:Ne}),vy=Ne({\u0275dir:Ne}),_y=Ne({\u0275pipe:Ne}),Ey=Ne({\u0275mod:Ne}),Hc=Ne({\u0275fac:Ne}),bo=Ne({__NG_ELEMENT_ID__:Ne}),ib=Ne({__NG_ENV_ID__:Ne});function Co(n){return typeof n=="string"?n:n==null?"":String(n)}function th(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Co(n)}var Iy=Ne({ngErrorCode:Ne}),cb=Ne({ngErrorMessage:Ne}),$c=Ne({ngTokenPath:Ne});function wy(n,e){return ub("",-200,e)}function oh(n,e){throw new U(-201,!1)}function gO(n,e){n[$c]??=[];let t=n[$c],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(ab(e.provide,"Token with multi: true should have a provide property"),r=th(e.provide)):r=th(e),t[0]!==r&&n[$c].unshift(r)}function mO(n,e){let t=n[$c],r=n[Iy],i=n[cb]||n.message;return n.message=vO(i,r,t,e),n}function ub(n,e,t){let r=new U(e,n);return r[Iy]=e,r[cb]=n,t&&(r[$c]=t),r}function yO(n){return n[Iy]}function vO(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Ei(e,`${n}${o}${i}`)}var ny;function lb(){return ny}function qt(n){let e=ny;return ny=n,e}function Dy(n,e,t){let r=qc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;oh(n,"Injector")}var _O={},Io=_O,ry="__NG_DI_FLAG__",iy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=wo(t)||0;try{return this.injector.get(e,r&8?null:Io,r)}catch(i){if(Ts(i))return i;throw i}}};function EO(n,e=0){let t=vd();if(t===void 0)throw new U(-203,!1);if(t===null)return Dy(n,void 0,e);{let r=IO(e),i=t.retrieve(n,r);if(Ts(i)){if(r.optional)return null;throw i}return i}}function Q(n,e=0){return(lb()||EO)(Tt(n),e)}function x(n,e){return Q(n,wo(e))}function wo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function IO(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function oy(n){let e=[];for(let t=0;t<n.length;t++){let r=Tt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=wO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function db(n,e){return n[ry]=e,n.prototype[ry]=e,n}function wO(n){return n[ry]}function vi(n,e){let t=n.hasOwnProperty(Hc);return t?n[Hc]:null}function sh(n,e){n.forEach(t=>Array.isArray(t)?sh(t,e):e(t))}function Ty(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Gc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function hb(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function fb(n,e,t){let r=qs(n,e);return r>=0?n[r|1]=t:(r=~r,hb(n,r,e,t)),r}function ah(n,e){let t=qs(n,e);if(t>=0)return n[t|1]}function qs(n,e){return DO(n,e,1)}function DO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ii={},dn=[],wi=new $(""),by=new $("",-1),Cy=new $(""),zc=class{get(e,t=Io){if(t===Io){let i=ub("",-201);throw i.name="\u0275NotFound",i}return t}};function Sy(n){return n[Ey]||null}function Hr(n){return n[yy]||null}function Ay(n){return n[vy]||null}function pb(n){return n[_y]||null}function hn(n){return{\u0275providers:n}}function gb(...n){return{\u0275providers:Ry(!0,n),\u0275fromNgModule:!0}}function Ry(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return sh(e,s=>{let a=s;nh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&mb(i,o),t}function mb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Ny(i,o=>{e(o,r)})}}function nh(n,e,t,r){if(n=Tt(n),!n)return!1;let i=null,o=ty(n),s=!o&&Hr(n);if(!o&&!s){let u=n.ngModule;if(o=ty(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)nh(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{sh(o.imports,h=>{nh(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&mb(l,e)}if(!a){let l=vi(i)||(()=>new i);e({provide:i,useFactory:l,deps:dn},i),e({provide:Cy,useValue:i,multi:!0},i),e({provide:wi,useValue:()=>Q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Ny(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Ny(n,e){for(let t of n)my(t)&&(t=t.\u0275providers),Array.isArray(t)?Ny(t,e):e(t)}var TO=Ne({provide:String,useValue:Ne});function yb(n){return n!==null&&typeof n=="object"&&TO in n}function bO(n){return!!(n&&n.useExisting)}function CO(n){return!!(n&&n.useFactory)}function Do(n){return typeof n=="function"}function vb(n){return!!n.useClass}var Wc=new $(""),Xd={},ob={},ey;function Kc(){return ey===void 0&&(ey=new zc),ey}var Ge=class{},To=class extends Ge{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,ay(e,s=>this.processProvider(s)),this.records.set(by,zs(void 0,this)),i.has("environment")&&this.records.set(Ge,zs(void 0,this));let o=this.records.get(Wc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cy,dn,{self:!0}))}retrieve(e,t){let r=wo(t)||0;try{return this.get(e,Io,r)}catch(i){if(Ts(i))return i;throw i}}destroy(){Bc(this),this._destroyed=!0;let e=de(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return Bc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Bc(this);let t=or(this),r=qt(void 0),i;try{return e()}finally{or(t),qt(r)}}get(e,t=Io,r){if(Bc(this),e.hasOwnProperty(ib))return e[ib](this);let i=wo(r),o,s=or(this),a=qt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=MO(e)&&qc(e);h&&this.injectableDefInScope(h)?l=zs(sy(e),Xd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Kc():this.parent;return t=i&8&&t===Io?null:t,u.get(e,t)}catch(u){let l=yO(u);throw l===-200||l===-201?new U(l,null):u}finally{qt(a),or(s)}}resolveInjectorInitializers(){let e=de(null),t=or(this),r=qt(void 0),i;try{let o=this.get(wi,dn,{self:!0});for(let s of o)s()}finally{or(t),qt(r),de(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(jr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Tt(e);let t=Do(e)?e:Tt(e&&e.provide),r=AO(e);if(!Do(e)&&e.multi===!0){let i=this.records.get(t);i||(i=zs(void 0,Xd,!0),i.factory=()=>oy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=de(null);try{if(t.value===ob)throw wy(jr(e));return t.value===Xd&&(t.value=ob,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&NO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{de(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Tt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function sy(n){let e=qc(n),t=e!==null?e.factory:vi(n);if(t!==null)return t;if(n instanceof $)throw new U(204,!1);if(n instanceof Function)return SO(n);throw new U(204,!1)}function SO(n){if(n.length>0)throw new U(204,!1);let t=pO(n);return t!==null?()=>t.factory(n):()=>new n}function AO(n){if(yb(n))return zs(void 0,n.useValue);{let e=My(n);return zs(e,Xd)}}function My(n,e,t){let r;if(Do(n)){let i=Tt(n);return vi(i)||sy(i)}else if(yb(n))r=()=>Tt(n.useValue);else if(CO(n))r=()=>n.useFactory(...oy(n.deps||[]));else if(bO(n))r=(i,o)=>Q(Tt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Tt(n&&(n.useClass||n.provide));if(RO(n))r=()=>new i(...oy(n.deps));else return vi(i)||sy(i)}return r}function Bc(n){if(n.destroyed)throw new U(205,!1)}function zs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function RO(n){return!!n.deps}function NO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function MO(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function ay(n,e){for(let t of n)Array.isArray(t)?ay(t,e):t&&my(t)?ay(t.\u0275providers,e):e(t)}function Xe(n,e){let t;n instanceof To?(Bc(n),t=n):t=new iy(n);let r,i=or(t),o=qt(void 0);try{return e()}finally{or(i),qt(o)}}function _b(){return lb()!==void 0||vd()!=null}var Fn=0,re=1,se=2,bt=3,_n=4,En=5,Qc=6,Gs=7,Ft=8,So=9,ar=10,We=11,Ws=12,xy=13,Ao=14,In=15,Ro=16,No=17,Mo=18,Yc=19,Py=20,Vr=21,ch=22,Jc=23,fn=24,xo=25,gt=26,Eb=1;var Di=7,Zc=8,Xc=9,Xt=10;function cr(n){return Array.isArray(n)&&typeof n[Eb]=="object"}function Ln(n){return Array.isArray(n)&&n[Eb]===!0}function ky(n){return(n.flags&4)!==0}function Ti(n){return n.componentOffset>-1}function Ks(n){return(n.flags&1)===1}function ur(n){return!!n.template}function Qs(n){return(n[se]&512)!==0}function Po(n){return(n[se]&256)===256}var Oy="svg",Ib="math";function wn(n){for(;Array.isArray(n);)n=n[Fn];return n}function Fy(n,e){return wn(e[n])}function Vn(n,e){return wn(e[n.index])}function uh(n,e){return n.data[e]}function lh(n,e){return n[e]}function Ly(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Dn(n,e){let t=e[n];return cr(t)?t:t[Fn]}function dh(n){return(n[se]&128)===128}function wb(n){return Ln(n[bt])}function ko(n,e){return e==null?null:n[e]}function Vy(n){n[No]=0}function jy(n){n[se]&1024||(n[se]|=1024,dh(n)&&Ys(n))}function Db(n,e){for(;n>0;)e=e[Ao],n--;return e}function eu(n){return!!(n[se]&9216||n[fn]?.dirty)}function hh(n){n[ar].changeDetectionScheduler?.notify(8),n[se]&64&&(n[se]|=1024),eu(n)&&Ys(n)}function Ys(n){n[ar].changeDetectionScheduler?.notify(0);let e=_i(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!dh(e)));)e=_i(e)}function Uy(n,e){if(Po(n))throw new U(911,!1);n[Vr]===null&&(n[Vr]=[]),n[Vr].push(e)}function Tb(n,e){if(n[Vr]===null)return;let t=n[Vr].indexOf(e);t!==-1&&n[Vr].splice(t,1)}function _i(n){let e=n[bt];return Ln(e)?e[bt]:e}function bb(n){return n[Gs]??=[]}function Cb(n){return n.cleanup??=[]}var he={lFrame:Ub(null),bindingsEnabled:!0,skipHydrationRootTNode:null},tu=(function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n})(tu||{}),xO=0,cy=!1;function Sb(){return he.lFrame.elementDepthCount}function Ab(){he.lFrame.elementDepthCount++}function By(){he.lFrame.elementDepthCount--}function fh(){return he.bindingsEnabled}function Rb(){return he.skipHydrationRootTNode!==null}function $y(n){return he.skipHydrationRootTNode===n}function Hy(){he.skipHydrationRootTNode=null}function ge(){return he.lFrame.lView}function Gt(){return he.lFrame.tView}function Lt(n){return he.lFrame.contextLView=n,n[Ft]}function Vt(n){return he.lFrame.contextLView=null,n}function vt(){let n=zy();for(;n!==null&&n.type===64;)n=n.parent;return n}function zy(){return he.lFrame.currentTNode}function Nb(){let n=he.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Js(n,e){let t=he.lFrame;t.currentTNode=n,t.isParent=e}function qy(){return he.lFrame.isParent}function Mb(){he.lFrame.isParent=!1}function xb(){return he.lFrame.contextLView}function Gy(n){py("Must never be called in production mode"),xO=n}function Wy(){return cy}function Ky(n){let e=cy;return cy=n,e}function Zs(){let n=he.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Pb(){return he.lFrame.bindingIndex}function kb(n){return he.lFrame.bindingIndex=n}function nu(){return he.lFrame.bindingIndex++}function Qy(n){let e=he.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Ob(){return he.lFrame.inI18n}function Fb(n,e){let t=he.lFrame;t.bindingIndex=t.bindingRootIndex=n,ph(e)}function Lb(){return he.lFrame.currentDirectiveIndex}function ph(n){he.lFrame.currentDirectiveIndex=n}function Vb(n){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Yy(n){he.lFrame.currentQueryIndex=n}function PO(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[En]:null}function Jy(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=PO(o),i===null||(o=o[Ao],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=he.lFrame=jb();return r.currentTNode=e,r.lView=n,!0}function gh(n){let e=jb(),t=n[re];he.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jb(){let n=he.lFrame,e=n===null?null:n.child;return e===null?Ub(n):e}function Ub(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Bb(){let n=he.lFrame;return he.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Zy=Bb;function mh(){let n=Bb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $b(n){return(he.lFrame.contextLView=Db(n,he.lFrame.contextLView))[Ft]}function bi(){return he.lFrame.selectedIndex}function Ci(n){he.lFrame.selectedIndex=n}function yh(){let n=he.lFrame;return uh(n.tView,n.selectedIndex)}function Be(){he.lFrame.currentNamespace=Oy}function it(){kO()}function kO(){he.lFrame.currentNamespace=null}function Hb(){return he.lFrame.currentNamespace}var zb=!0;function vh(){return zb}function ru(n){zb=n}var OO={elements:void 0};function _h(){return OO}function uy(n,e=null,t=null,r){let i=Xy(n,e,t,r);return i.resolveInjectorInitializers(),i}function Xy(n,e=null,t=null,r,i=new Set){let o=[t||dn,gb(n)];return r=r||(typeof n=="object"?void 0:jr(n)),new To(o,e||Kc(),r||null,i)}var Ze=class n{static THROW_IF_NOT_FOUND=Io;static NULL=new zc;static create(e,t){if(Array.isArray(e))return uy({name:""},t,e,"");{let r=e.name??"";return uy({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>Q(by)});static __NG_ELEMENT_ID__=-1},et=new $(""),lr=(()=>{class n{static __NG_ELEMENT_ID__=FO;static __NG_ENV_ID__=t=>t}return n})(),ly=class extends lr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Po(this._lView)}onDestroy(e){let t=this._lView;return Uy(t,e),()=>Tb(t,e)}};function FO(){return new ly(ge())}var On=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Wt=new $("",{providedIn:"root",factory:()=>{let n=x(Ge),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(On),e.handleError(t))}}}),qb={provide:wi,useValue:()=>void x(On),multi:!0};function ev(n){return typeof n=="function"&&n[kt]!==void 0}function en(n,e){let[t,r,i]=km(n,e?.equal),o=t,s=o[kt];return o.set=r,o.update=i,o.asReadonly=Gb.bind(o),o}function Gb(){let n=this[kt];if(n.readonlyFn===void 0){let e=()=>this();e[kt]=n,n.readonlyFn=e}return n.readonlyFn}function tv(n){return ev(n)&&typeof n.set=="function"}var Ur=class{},Eh=new $("",{providedIn:"root",factory:()=>!1});var nv=new $(""),rv=new $("");var Ih=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=LO}return n})();function LO(){return new Ih(ge(),vt())}var dr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Dt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Z(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Si=(()=>{class n{internalPendingTasks=x(dr);scheduler=x(Ur);errorHandler=x(Wt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();function iu(...n){}var iv=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new dy})}return n})(),dy=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function ia(n){return{toString:n}.toString()}var wh="__parameters__";function HO(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function zO(n,e,t){return ia(()=>{let r=HO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(wh)?u[wh]:Object.defineProperty(u,wh,{value:[]})[wh];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var pn=db(zO("Optional"),8);function qO(n){return typeof n=="function"}var Ah=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function DC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Un=(()=>{let n=()=>TC;return n.ngInherit=!0,n})();function TC(n){return n.type.prototype.ngOnChanges&&(n.setInput=WO),GO}function GO(){let n=CC(this),e=n?.current;if(e){let t=n.previous;if(t===Ii)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function WO(n,e,t,r,i){let o=this.declaredInputs[r],s=CC(n)||KO(n,{previous:Ii,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ah(l&&l.currentValue,t,u===Ii),DC(n,e,i,t)}var bC="__ngSimpleChanges__";function CC(n){return n[bC]||null}function KO(n,e){return n[bC]=e}var Wb=[];var xe=function(n,e=null,t){for(let r=0;r<Wb.length;r++){let i=Wb[r];i(n,e,t)}};function QO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=TC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function SC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function bh(n,e,t){AC(n,e,3,t)}function Ch(n,e,t,r){(n[se]&3)===t&&AC(n,e,t,r)}function ov(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function AC(n,e,t,r){let i=r!==void 0?n[No]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[No]+=65536),(a<o||o==-1)&&(YO(n,t,e,u),n[No]=(n[No]&4294901760)+u+2),u++}function Kb(n,e){xe(4,n,e);let t=de(null);try{e.call(n)}finally{de(t),xe(5,n,e)}}function YO(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[se]>>14<n[No]>>16&&(n[se]&3)===e&&(n[se]+=16384,Kb(a,o)):Kb(a,o)}var ea=-1,Lo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function JO(n){return(n.flags&8)!==0}function ZO(n){return(n.flags&16)!==0}function XO(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];eF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function RC(n){return n===3||n===4||n===6}function eF(n){return n.charCodeAt(0)===64}function ta(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Qb(n,t,i,null,e[++r]):Qb(n,t,i,null,null))}}return n}function Qb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function NC(n){return n!==ea}function Rh(n){return n&32767}function tF(n){return n>>16}function Nh(n,e){let t=tF(n),r=e;for(;t>0;)r=r[Ao],t--;return r}var mv=!0;function Mh(n){let e=mv;return mv=n,e}var nF=256,MC=nF-1,xC=5,rF=0,hr={};function iF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(bo)&&(r=t[bo]),r==null&&(r=t[bo]=rF++);let i=r&MC,o=1<<i;e.data[n+(i>>xC)]|=o}function xh(n,e){let t=PC(n,e);if(t!==-1)return t;let r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,sv(r.data,n),sv(e,null),sv(r.blueprint,null));let i=Ov(n,e),o=n.injectorIndex;if(NC(i)){let s=Rh(i),a=Nh(i,e),u=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function sv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function PC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ov(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=VC(i),r===null)return ea;if(t++,i=i[Ao],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ea}function yv(n,e,t){iF(n,e,t)}function oF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(RC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function kC(n,e,t){if(t&8||n!==void 0)return n;oh(e,"NodeInjector")}function OC(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[So],o=qt(void 0);try{return i?i.get(e,r,t&8):Dy(e,r,t&8)}finally{qt(o)}}return kC(r,e,t)}function FC(n,e,t,r=0,i){if(n!==null){if(e[se]&2048&&!(r&2)){let s=lF(n,e,t,r,hr);if(s!==hr)return s}let o=LC(n,e,t,r,hr);if(o!==hr)return o}return OC(e,t,r,i)}function LC(n,e,t,r,i){let o=cF(t);if(typeof o=="function"){if(!Jy(e,n,r))return r&1?kC(i,t,r):OC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))oh(t);else return s}finally{Zy()}}else if(typeof o=="number"){let s=null,a=PC(n,e),u=ea,l=r&1?e[In][En]:null;for((a===-1||r&4)&&(u=a===-1?Ov(n,e):e[a+8],u===ea||!Jb(r,!1)?a=-1:(s=e[re],a=Rh(u),e=Nh(u,e)));a!==-1;){let h=e[re];if(Yb(o,a,h.data)){let p=sF(a,e,t,s,r,l);if(p!==hr)return p}u=e[a+8],u!==ea&&Jb(r,e[re].data[a+8]===l)&&Yb(o,a,e)?(s=h,a=Rh(u),e=Nh(u,e)):a=-1}}return i}function sF(n,e,t,r,i,o){let s=e[re],a=s.data[n+8],u=r==null?Ti(a)&&mv:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=aF(a,s,t,u,l);return h!==null?Ph(e,s,h,a,i):hr}function aF(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let b=s[y];if(y<u&&t===b||y>=u&&b.type===t)return y}if(i){let y=s[u];if(y&&ur(y)&&y.type===t)return u}return null}function Ph(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Lo){let a=o;if(a.resolving){let y=th(s[t]);throw wy(y)}let u=Mh(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?qt(a.injectImpl):null,g=Jy(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&QO(t,s[t],e)}finally{p!==null&&qt(p),Mh(u),a.resolving=!1,Zy()}}return o}function cF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(bo)?n[bo]:void 0;return typeof e=="number"?e>=0?e&MC:uF:e}function Yb(n,e,t){let r=1<<n;return!!(t[e+(n>>xC)]&r)}function Jb(n,e){return!(n&2)&&!(n&1&&e)}var Fo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return FC(this._tNode,this._lView,e,wo(r),t)}};function uF(){return new Fo(vt(),ge())}function $o(n){return ia(()=>{let e=n.prototype.constructor,t=e[Hc]||vv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Hc]||vv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function vv(n){return fy(n)?()=>{let e=vv(Tt(n));return e&&e()}:vi(n)}function lF(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!Qs(s);){let a=LC(o,s,t,r|2,hr);if(a!==hr)return a;let u=o.parent;if(!u){let l=s[Py];if(l){let h=l.get(t,hr,r);if(h!==hr)return h}u=VC(s),s=s[Ao]}o=u}return i}function VC(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[En]:null}function lu(n){return oF(vt(),n)}function dF(){return Gh(vt(),ge())}function Gh(n,e){return new pr(Vn(n,e))}var pr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=dF}return n})();function jC(n){return(n.flags&128)===128}var Fv=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Fv||{}),UC=new Map,hF=0;function fF(){return hF++}function pF(n){UC.set(n[Yc],n)}function _v(n){UC.delete(n[Yc])}var Zb="__ngContext__";function na(n,e){cr(e)?(n[Zb]=e[Yc],pF(e)):n[Zb]=e}function BC(n){return HC(n[Ws])}function $C(n){return HC(n[_n])}function HC(n){for(;n!==null&&!Ln(n);)n=n[_n];return n}var Ev;function Lv(n){Ev=n}function zC(){if(Ev!==void 0)return Ev;if(typeof document<"u")return document;throw new U(210,!1)}var Wh=new $("",{providedIn:"root",factory:()=>gF}),gF="ng",Kh=new $(""),Ri=new $("",{providedIn:"platform",factory:()=>"unknown"});var Qh=new $("",{providedIn:"root",factory:()=>zC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mF="h",yF="b";var qC=!1,GC=new $("",{providedIn:"root",factory:()=>qC});var Vv=new $("");var vF=(n,e,t,r)=>{};function _F(n,e,t,r){vF(n,e,t,r)}function jv(n){return(n.flags&32)===32}var EF=()=>null;function WC(n,e,t=!1){return EF(n,e,t)}function KC(n,e){let t=n.contentQueries;if(t!==null){let r=de(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Yy(o),a.contentQueries(2,e[s],s)}}}finally{de(r)}}}function Iv(n,e,t){Yy(0);let r=de(null);try{e(n,t)}finally{de(r)}}function Uv(n,e,t){if(ky(e)){let r=de(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{de(r)}}}var zr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(zr||{});var Dh;function IF(){if(Dh===void 0&&(Dh=null,Br.trustedTypes))try{Dh=Br.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Dh}function Xb(n){return IF()?.createScriptURL(n)||n}var kh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rh})`}};function du(n){return n instanceof kh?n.changingThisBreaksApplicationSecurity:n}function Bv(n,e){let t=QC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${rh})`)}return t===e}function QC(n){return n instanceof kh&&n.getTypeName()||null}var wF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YC(n){return n=String(n),n.match(wF)?n:"unsafe:"+n}var Yh=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Yh||{});function hu(n){let e=ZC();return e?e.sanitize(Yh.URL,n)||"":Bv(n,"URL")?du(n):YC(Co(n))}function JC(n){let e=ZC();if(e)return Xb(e.sanitize(Yh.RESOURCE_URL,n)||"");if(Bv(n,"ResourceURL"))return Xb(du(n));throw new U(904,!1)}function DF(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?JC:hu}function $v(n,e,t){return DF(e,t)(n)}function ZC(){let n=ge();return n&&n[ar].sanitizer}var TF=/^>|^->|<!--|-->|--!>|<!-$/g,bF=/(<|>)/g,CF="\u200B$1\u200B";function SF(n){return n.replace(TF,e=>e.replace(bF,CF))}function XC(n){return n instanceof Function?n():n}function AF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var eS="ng-template";function RF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&AF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Hv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Hv(n){return n.type===4&&n.value!==eS}function NF(n,e,t){let r=n.type===4&&!t?eS:n.value;return e===r}function MF(n,e,t){let r=4,i=n.attrs,o=i!==null?kF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!jn(r)&&!jn(u))return!1;if(s&&jn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!NF(n,u,t)||u===""&&e.length===1){if(jn(r))return!1;s=!0}}else if(r&8){if(i===null||!RF(n,i,u,t)){if(jn(r))return!1;s=!0}}else{let l=e[++a],h=xF(u,i,Hv(n),t);if(h===-1){if(jn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(jn(r))return!1;s=!0}}}}return jn(r)||s}function jn(n){return(n&1)===0}function xF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return OF(e,n)}function PF(n,e,t=!1){for(let r=0;r<e.length;r++)if(MF(n,e[r],t))return!0;return!1}function kF(n){for(let e=0;e<n.length;e++){let t=n[e];if(RC(t))return e}return n.length}function OF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function eC(n,e){return n?":not("+e.trim()+")":e}function FF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!jn(s)&&(e+=eC(o,i),i=""),r=s,o=o||!jn(r);t++}return i!==""&&(e+=eC(o,i)),e}function LF(n){return n.map(FF).join(",")}function VF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!jn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Bn={};function jF(n,e){return n.createText(e)}function UF(n,e,t){n.setValue(e,t)}function BF(n,e){return n.createComment(SF(e))}function tS(n,e,t){return n.createElement(e,t)}function Oh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function nS(n,e,t){n.appendChild(e,t)}function tC(n,e,t,r,i){r!==null?Oh(n,e,t,r,i):nS(n,e,t)}function $F(n,e,t){n.removeChild(null,e,t)}function HF(n,e,t){n.setAttribute(e,"style",t)}function zF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function rS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&XO(n,e,r),i!==null&&zF(n,e,i),o!==null&&HF(n,e,o)}function zv(n,e,t,r,i,o,s,a,u,l,h){let p=gt+r,g=p+i,y=qF(p,g),b=typeof l=="function"?l():l;return y[re]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function qF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Bn);return t}function GF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=zv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function qv(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Fn]=i,p[se]=r|4|128|8|64|1024,(l!==null||n&&n[se]&2048)&&(p[se]|=2048),Vy(p),p[bt]=p[Ao]=n,p[Ft]=t,p[ar]=s||n&&n[ar],p[We]=a||n&&n[We],p[So]=u||n&&n[So]||null,p[En]=o,p[Yc]=fF(),p[Qc]=h,p[Py]=l,p[In]=e.type==2?n[In]:p,p}function WF(n,e,t){let r=Vn(e,n),i=GF(t),o=n[ar].rendererFactory,s=Gv(n,qv(n,i,null,iS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function iS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function oS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Gv(n,e){return n[Ws]?n[xy][_n]=e:n[Ws]=e,n[xy]=e,e}function O(n=1){sS(Gt(),ge(),bi()+n,!1)}function sS(n,e,t,r){if(!r)if((e[se]&3)===3){let o=n.preOrderCheckHooks;o!==null&&bh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ch(e,o,0,t)}Ci(t)}var Jh=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Jh||{});function wv(n,e,t,r){let i=de(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Jh.SignalBased)!==0&&(u=e[o][kt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):DC(e,u,o,r)}finally{de(i)}}var fr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(fr||{}),KF;function Wv(n,e){return KF(n,e)}function Xs(n,e,t,r,i){if(r!=null){let o,s=!1;Ln(r)?o=r:cr(r)&&(s=!0,r=r[Fn]);let a=wn(r);n===0&&t!==null?i==null?nS(e,t,a):Oh(e,t,a,i||null,!0):n===1&&t!==null?Oh(e,t,a,i||null,!0):n===2?$F(e,a,s):n===3&&e.destroyNode(a),o!=null&&sL(e,n,o,t,i)}}function QF(n,e){aS(n,e),e[Fn]=null,e[En]=null}function YF(n,e,t,r,i,o){r[Fn]=i,r[En]=e,Zh(n,r,t,1,i,o)}function aS(n,e){e[ar].changeDetectionScheduler?.notify(9),Zh(n,e,e[We],2,null,null)}function JF(n){let e=n[Ws];if(!e)return av(n[re],n);for(;e;){let t=null;if(cr(e))t=e[Ws];else{let r=e[Xt];r&&(t=r)}if(!t){for(;e&&!e[_n]&&e!==n;)cr(e)&&av(e[re],e),e=e[bt];e===null&&(e=n),cr(e)&&av(e[re],e),t=e&&e[_n]}e=t}}function Kv(n,e){let t=n[Xc],r=t.indexOf(e);t.splice(r,1)}function cS(n,e){if(Po(e))return;let t=e[We];t.destroyNode&&Zh(n,e,t,3,null,null),JF(e)}function av(n,e){if(Po(e))return;let t=de(null);try{e[se]&=-129,e[se]|=256,e[fn]&&Lc(e[fn]),XF(n,e),ZF(n,e),e[re].type===1&&e[We].destroy();let r=e[Ro];if(r!==null&&Ln(e[bt])){r!==e[bt]&&Kv(r,e);let i=e[Mo];i!==null&&i.detachView(n)}_v(e)}finally{de(t)}}function ZF(n,e){let t=n.cleanup,r=e[Gs];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Gs]=null);let i=e[Vr];if(i!==null){e[Vr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Jc];if(o!==null){e[Jc]=null;for(let s of o)s.destroy()}}function XF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Lo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];xe(4,a,u);try{u.call(a)}finally{xe(5,a,u)}}else{xe(4,i,o);try{o.call(i)}finally{xe(5,i,o)}}}}}function eL(n,e,t){return tL(n,e.parent,t)}function tL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Fn];if(Ti(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===zr.None||i===zr.Emulated)return null}return Vn(r,t)}function nL(n,e,t){return iL(n,e,t)}function rL(n,e,t){return n.type&40?Vn(n,t):null}var iL=rL,nC;function Qv(n,e,t,r){let i=eL(n,r,e),o=e[We],s=r.parent||e[En],a=nL(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)tC(o,i,t[u],a,!1);else tC(o,i,t,a,!1);nC!==void 0&&nC(o,r,e,t,i)}function ou(n,e){if(e!==null){let t=e.type;if(t&3)return Vn(e,n);if(t&4)return Dv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ou(n,r);{let i=n[e.index];return Ln(i)?Dv(-1,i):wn(i)}}else{if(t&128)return ou(n,e.next);if(t&32)return Wv(e,n)()||wn(n[e.index]);{let r=uS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_i(n[In]);return ou(i,r)}else return ou(n,e.next)}}}return null}function uS(n,e){if(e!==null){let r=n[In][En],i=e.projection;return r.projection[i]}return null}function Dv(n,e){let t=Xt+n+1;if(t<e.length){let r=e[t],i=r[re].firstChild;if(i!==null)return ou(r,i)}return e[Di]}function Yv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&na(wn(a),r),t.flags|=2),!jv(t))if(u&8)Yv(n,e,t.child,r,i,o,!1),Xs(e,n,i,a,o);else if(u&32){let l=Wv(t,r),h;for(;h=l();)Xs(e,n,i,h,o);Xs(e,n,i,a,o)}else u&16?oL(n,e,r,t,i,o):Xs(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Zh(n,e,t,r,i,o){Yv(t,r,n.firstChild,e,i,o,!1)}function oL(n,e,t,r,i,o){let s=t[In],u=s[En].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Xs(e,n,i,h,o)}else{let l=u,h=s[bt];jC(r)&&(l.flags|=128),Yv(n,e,l,h,i,o,!0)}}function sL(n,e,t,r,i){let o=t[Di],s=wn(t);o!==s&&Xs(e,n,r,o,i);for(let a=Xt;a<t.length;a++){let u=t[a];Zh(u[re],u,n,e,r,o)}}function aL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:fr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=fr.Important),n.setStyle(t,r,i,o))}}function lS(n,e,t,r,i){let o=bi(),s=r&2;try{Ci(-1),s&&e.length>gt&&sS(n,e,gt,!1),xe(s?2:0,i,t),t(r,i)}finally{Ci(o),xe(s?3:1,i,t)}}function Xh(n,e,t){pL(n,e,t),(t.flags&64)===64&&gL(n,e,t)}function ef(n,e,t=Vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function cL(n,e,t,r){let o=r.get(GC,qC)||t===zr.ShadowDom,s=n.selectRootElement(e,o);return uL(s),s}function uL(n){lL(n)}var lL=()=>null;function dL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function dS(n,e,t,r,i,o){let s=e[re];if(e_(n,s,e,t,r)){Ti(n)&&fL(e,n.index);return}n.type&3&&(t=dL(t)),hL(n,e,t,r,i,o)}function hL(n,e,t,r,i,o){if(n.type&3){let s=Vn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function fL(n,e){let t=Dn(e,n);t[se]&16||(t[se]|=64)}function pL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ti(t)&&WF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||xh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Ph(e,n,s,t);if(na(u,e),o!==null&&_L(e,s-r,u,a,t,o),ur(a)){let l=Dn(t.index,e);l[Ft]=Ph(e,n,s,t)}}}function gL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Lb();try{Ci(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];ph(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&mL(u,l)}}finally{Ci(-1),ph(s)}}function mL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Jv(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];PF(e,o.selectors,!1)&&(r??=[],ur(o)?r.unshift(o):r.push(o))}return r}function yL(n,e,t,r,i,o){let s=Vn(n,e);vL(e[We],s,o,n.value,t,r,i)}function vL(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Co(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function _L(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];wv(r,t,u,l)}}function Zv(n,e,t,r,i){let o=gt+t,s=e[re],a=i(s,e,n,r,t);e[o]=a,Js(n,!0);let u=n.type===2;return u?(rS(e[We],a,n),(Sb()===0||Ks(n))&&na(a,e),Ab()):na(a,e),vh()&&(!u||!jv(n))&&Qv(s,e,a,n),n}function Xv(n){let e=n;return qy()?Mb():(e=e.parent,Js(e,!1)),e}function EL(n,e){let t=n[So];if(!t)return;let r;try{r=t.get(Wt,null)}catch{r=null}r?.(e)}function e_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];wv(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];wv(h,l,r,i),a=!0}return a}function IL(n,e){let t=Dn(e,n),r=t[re];wL(r,t);let i=t[Fn];i!==null&&t[Qc]===null&&(t[Qc]=WC(i,t[So])),xe(18),t_(r,t,t[Ft]),xe(19,t[Ft])}function wL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function t_(n,e,t){gh(e);try{let r=n.viewQuery;r!==null&&Iv(1,r,t);let i=n.template;i!==null&&lS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Mo]?.finishViewCreation(n),n.staticContentQueries&&KC(n,e),n.staticViewQueries&&Iv(2,n.viewQuery,t);let o=n.components;o!==null&&DL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,mh()}}function DL(n,e){for(let t=0;t<e.length;t++)IL(n,e[t])}function TL(n,e,t,r){let i=de(null);try{let o=e.tView,a=n[se]&4096?4096:16,u=qv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Ro]=l;let h=n[Mo];return h!==null&&(u[Mo]=h.createEmbeddedView(o)),t_(o,u,t),u}finally{de(i)}}function rC(n,e){return!e||e.firstChild===null||jC(n)}var iC=!1,bL=new $("");function au(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(wn(o)),Ln(o)&&hS(o,r);let s=t.type;if(s&8)au(n,e,t.child,r);else if(s&32){let a=Wv(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=uS(e,t);if(Array.isArray(a))r.push(...a);else{let u=_i(e[In]);au(u[re],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function hS(n,e){for(let t=Xt;t<n.length;t++){let r=n[t],i=r[re].firstChild;i!==null&&au(r[re],r,i,e)}n[Di]!==n[Fn]&&e.push(n[Di])}function fS(n){if(n[xo]!==null){for(let e of n[xo])e.impl.addSequence(e);n[xo].length=0}}var pS=[];function CL(n){return n[fn]??SL(n)}function SL(n){let e=pS.pop()??Object.create(RL);return e.lView=n,e}function AL(n){n.lView[fn]!==n&&(n.lView=null,pS.push(n))}var RL=te(V({},bs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ys(n.lView)},consumerOnSignalRead(){this.lView[fn]=this}});function NL(n){let e=n[fn]??Object.create(ML);return e.lView=n,e}var ML=te(V({},bs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=_i(n.lView);for(;e&&!gS(e[re]);)e=_i(e);e&&jy(e)},consumerOnSignalRead(){this.lView[fn]=this}});function gS(n){return n.type!==2}function mS(n){if(n[Jc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Jc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[se]&8192)}}var xL=100;function n_(n,e=0){let r=n[ar].rendererFactory,i=!1;i||r.begin?.();try{PL(n,e)}finally{i||r.end?.()}}function PL(n,e){let t=Wy();try{Ky(!0),Tv(n,e);let r=0;for(;eu(n);){if(r===xL)throw new U(103,!1);r++,Tv(n,1)}}finally{Ky(t)}}function yS(n,e){Gy(e?tu.Exhaustive:tu.OnlyDirtyViews);try{n_(n)}finally{Gy(tu.Off)}}function kL(n,e,t,r){if(Po(e))return;let i=e[se],o=!1,s=!1;gh(e);let a=!0,u=null,l=null;o||(gS(n)?(l=CL(e),u=Ss(l)):Td()===null?(a=!1,l=NL(e),u=Ss(l)):e[fn]&&(Lc(e[fn]),e[fn]=null));try{Vy(e),kb(n.bindingStartIndex),t!==null&&lS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&bh(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Ch(e,y,0,null),ov(e,0)}if(s||OL(e),mS(e),vS(e,0),n.contentQueries!==null&&KC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&bh(e,y)}else{let y=n.contentHooks;y!==null&&Ch(e,y,1),ov(e,1)}LL(n,e);let p=n.components;p!==null&&ES(e,p,0);let g=n.viewQuery;if(g!==null&&Iv(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&bh(e,y)}else{let y=n.viewHooks;y!==null&&Ch(e,y,2),ov(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ch]){for(let y of e[ch])y();e[ch]=null}o||(fS(e),e[se]&=-73)}catch(h){throw o||Ys(e),h}finally{l!==null&&(Oc(l,u),a&&AL(l)),mh()}}function vS(n,e){for(let t=BC(n);t!==null;t=$C(t))for(let r=Xt;r<t.length;r++){let i=t[r];_S(i,e)}}function OL(n){for(let e=BC(n);e!==null;e=$C(e)){if(!(e[se]&2))continue;let t=e[Xc];for(let r=0;r<t.length;r++){let i=t[r];jy(i)}}}function FL(n,e,t){xe(18);let r=Dn(e,n);_S(r,t),xe(19,r[Ft])}function _S(n,e){dh(n)&&Tv(n,e)}function Tv(n,e){let r=n[re],i=n[se],o=n[fn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Fc(o)),s||=!1,o&&(o.dirty=!1),n[se]&=-9217,s)kL(r,n,r.template,n[Ft]);else if(i&8192){let a=de(null);try{mS(n),vS(n,1);let u=r.components;u!==null&&ES(n,u,1),fS(n)}finally{de(a)}}}function ES(n,e,t){for(let r=0;r<e.length;r++)FL(n,e[r],t)}function LL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ci(~i);else{let o=i,s=t[++r],a=t[++r];Fb(s,o);let u=e[o];xe(24,u),a(2,u),xe(25,u)}}}finally{Ci(-1)}}function r_(n,e){let t=Wy()?64:1088;for(n[ar].changeDetectionScheduler?.notify(e);n;){n[se]|=t;let r=_i(n);if(Qs(n)&&!r)return n;n=r}return null}function IS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function VL(n,e,t,r=!0){let i=e[re];if(jL(i,e,n,t),r){let s=Dv(t,n),a=e[We],u=a.parentNode(n[Di]);u!==null&&YF(i,n[En],a,e,u,s)}let o=e[Qc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function bv(n,e){if(n.length<=Xt)return;let t=Xt+e,r=n[t];if(r){let i=r[Ro];i!==null&&i!==n&&Kv(i,r),e>0&&(n[t-1][_n]=r[_n]);let o=Gc(n,Xt+e);QF(r[re],r);let s=o[Mo];s!==null&&s.detachView(o[re]),r[bt]=null,r[_n]=null,r[se]&=-129}return r}function jL(n,e,t,r){let i=Xt+r,o=t.length;r>0&&(t[i-1][_n]=e),r<o-Xt?(e[_n]=t[i],Ty(t,Xt+r,e)):(t.push(e),e[_n]=null),e[bt]=t;let s=e[Ro];s!==null&&t!==s&&wS(s,e);let a=e[Mo];a!==null&&a.insertView(n),hh(e),e[se]|=128}function wS(n,e){let t=n[Xc],r=e[bt];if(cr(r))n[se]|=2;else{let i=r[bt][In];e[In]!==i&&(n[se]|=2)}t===null?n[Xc]=[e]:t.push(e)}var Ai=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[re];return au(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Ft]}set context(e){this._lView[Ft]=e}get destroyed(){return Po(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bt];if(Ln(e)){let t=e[Zc],r=t?t.indexOf(this):-1;r>-1&&(bv(e,r),Gc(t,r))}this._attachedToViewContainer=!1}cS(this._lView[re],this._lView)}onDestroy(e){Uy(this._lView,e)}markForCheck(){r_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){hh(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,n_(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Qs(this._lView),t=this._lView[Ro];t!==null&&!e&&Kv(t,this._lView),aS(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let t=Qs(this._lView),r=this._lView[Ro];r!==null&&!t&&wS(r,this._lView),hh(this._lView)}};var Ho=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=UL;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=TL(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Ai(o)}}return n})();function UL(){return DS(vt(),ge())}function DS(n,e){return n.type&4?new Ho(e,n,Gh(n,e)):null}function tf(n,e,t,r,i){let o=n.data[e];if(o===null)o=BL(n,e,t,r,i),Ob()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Nb();o.injectorIndex=s===null?-1:s.injectorIndex}return Js(o,!0),o}function BL(n,e,t,r,i){let o=zy(),s=qy(),a=s?o:o&&o.parent,u=n.data[e]=HL(n,a,t,e,r,i);return $L(n,u,o,s),u}function $L(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function HL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Rb()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var bY=new RegExp(`^(\\d+)*(${yF}|${mF})*(.*)`);var zL=()=>null;function oC(n,e){return zL(n,e)}var TS=class{},nf=class{},Cv=class{resolveComponentFactory(e){throw new U(917,!1)}},fu=class{static NULL=new Cv},Vo=class{},Gr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>qL()}return n})();function qL(){let n=ge(),e=vt(),t=Dn(e.index,n);return(cr(t)?t:n)[We]}var bS=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var Sh={},Sv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Sh,r);return i!==Sh||t===Sh?i:this.parentInjector.get(e,t,r)}};function Fh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=hy(i,a);else if(o==2){let u=a,l=e[++s];r=hy(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ne(n,e=0){let t=ge();if(t===null)return Q(n,e);let r=vt();return FC(r,t,Tt(n),e)}function i_(){let n="invalid";throw new Error(n)}function CS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}KL(n,e,t,a,o,u,l)}o!==null&&r!==null&&GL(t,r,o)}function GL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function WL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function KL(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&ur(y)&&(u=!0,WL(n,t,g)),yv(xh(t,e),n,y.type)}eV(t,n.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=oS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=ta(t.mergedAttrs,y.hostAttrs),YL(n,t,e,p,y),XL(p,y,i),s!==null&&s.has(y)){let[P,N]=s.get(y);t.directiveToIndex.set(y.type,[p,P+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}QL(n,t,o)}function QL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))sC(0,e,i,r),sC(1,e,i,r),cC(e,r,!1);else{let o=t.get(i);aC(0,e,o,r),aC(1,e,o,r),cC(e,r,!0)}}}function sC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),SS(e,o)}}function aC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),SS(e,s)}}function SS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function cC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Hv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function YL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=vi(i.type,!0)),s=new Lo(o,ur(i),ne,null);n.blueprint[r]=s,t[r]=s,JL(n,e,r,oS(n,t,i.hostVars,Bn),i)}function JL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;ZL(s)!=a&&s.push(a),s.push(t,r,o)}}function ZL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function XL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ur(e)&&(t[""]=n)}}function eV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function o_(n,e,t,r,i,o,s,a){let u=e[re],l=u.consts,h=ko(l,s),p=tf(u,n,t,r,h);return o&&CS(u,e,p,ko(l,a),i),p.mergedAttrs=ta(p.mergedAttrs,p.attrs),p.attrs!==null&&Fh(p,p.attrs,!1),p.mergedAttrs!==null&&Fh(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function s_(n,e){SC(n,e),ky(e)&&n.queries.elementEnd(e)}function tV(n,e,t,r,i,o){let s=e.consts,a=ko(s,i),u=tf(e,n,t,r,a);if(u.mergedAttrs=ta(u.mergedAttrs,u.attrs),o!=null){let l=ko(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&Fh(u,u.attrs,!1),u.mergedAttrs!==null&&Fh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function a_(n){return RS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function AS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function RS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function c_(n,e,t){return n[e]=t}function qr(n,e,t){if(t===Bn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function u_(n,e,t,r){let i=qr(n,e,t);return qr(n,e+1,r)||i}function nV(n,e,t,r,i){let o=u_(n,e,t,r);return qr(n,e+2,i)||o}function cv(n,e,t){return function r(i){let o=Ti(n)?Dn(n.index,e):e;r_(o,5);let s=e[Ft],a=uC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=uC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function uC(n,e,t,r){let i=de(null);try{return xe(6,e,t),t(r)!==!1}catch(o){return EL(n,o),!1}finally{xe(7,e,t),de(i)}}function rV(n,e,t,r,i,o,s,a){let u=Ks(n),l=!1,h=null;if(!r&&u&&(h=iV(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Vn(n,t),g=r?r(p):p;_F(t,g,o,a);let y=i.listen(g,o,a),b=r?P=>r(wn(P[n.index])):n.index;NS(b,e,t,o,a,y,!1)}return l}function iV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Gs],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function NS(n,e,t,r,i,o,s){let a=e.firstCreatePass?Cb(e):null,u=bb(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function lC(n,e,t,r,i,o){let s=e[t],a=e[re],l=a.data[t].outputs[r],p=s[l].subscribe(o);NS(n.index,a,e,i,o,p,!0)}var Av=Symbol("BINDING");var Lh=class extends fu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Hr(e);return new jo(t,this.ngModule)}};function oV(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Jh.SignalBased)!==0};return i&&(o.transform=i),o})}function sV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function aV(n,e,t){let r=e instanceof Ge?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Sv(t,r):t}function cV(n){let e=n.get(Vo,null);if(e===null)throw new U(407,!1);let t=n.get(bS,null),r=n.get(Ur,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function uV(n,e){let t=MS(n);return tS(e,t,t==="svg"?Oy:t==="math"?Ib:null)}function MS(n){return(n.selectors[0][0]||"div").toLowerCase()}var jo=class extends nf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=oV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=sV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=LF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){xe(22);let a=de(null);try{let u=this.componentDef,l=lV(r,u,s,o),h=aV(u,i||this.ngModule,e),p=cV(h),g=p.rendererFactory.createRenderer(null,u),y=r?cL(g,r,u.encapsulation,h):uV(u,g),b=s?.some(dC)||o?.some(F=>typeof F!="function"&&F.bindings.some(dC)),P=qv(null,l,null,512|iS(u),null,null,p,g,h,null,WC(y,h,!0));P[gt]=y,gh(P);let N=null;try{let F=o_(gt,P,2,"#host",()=>l.directiveRegistry,!0,0);y&&(rS(g,y,F),na(y,P)),Xh(l,P,F),Uv(l,F,P),s_(l,F),t!==void 0&&hV(F,this.ngContentSelectors,t),N=Dn(F.index,P),P[Ft]=N[Ft],t_(l,P,null)}catch(F){throw N!==null&&_v(N),_v(P),F}finally{xe(23),mh()}return new Vh(this.componentType,P,!!b)}finally{de(a)}}};function lV(n,e,t,r){let i=n?["ng-version","20.3.0"]:VF(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Av].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[Av].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=Ay(p);u.push(g)}return zv(0,null,dV(o,s),1,a,u,null,null,null,[i],null)}function dV(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function dC(n){let e=n[Av].kind;return e==="input"||e==="twoWay"}var Vh=class extends TS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=uh(t[re],gt),this.location=Gh(this._tNode,t),this.instance=Dn(this._tNode.index,t)[Ft],this.hostView=this.changeDetectorRef=new Ai(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=e_(r,i[re],i,e,t);this.previousInputValues.set(e,t);let s=Dn(r.index,i);r_(s,1)}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Wr=(()=>{class n{static __NG_ELEMENT_ID__=fV}return n})();function fV(){let n=vt();return gV(n,ge())}var pV=Wr,xS=class extends pV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Gh(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ov(this._hostTNode,this._hostLView);if(NC(e)){let t=Nh(e,this._hostLView),r=Rh(e),i=t[re].data[r+8];return new Fo(i,t)}else return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=hC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=oC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,rC(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!qO(e),l;if(u)l=t;else{let N=t||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let h=u?e:new jo(Hr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let F=(u?p:this.parentInjector).get(Ge,null);F&&(o=F)}let g=Hr(h.componentType??{}),y=oC(this._lContainer,g?.id??null),b=y?.firstChild??null,P=h.create(p,i,b,o,s,a);return this.insertImpl(P.hostView,l,rC(this._hostTNode,y)),P}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(wb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[bt],l=new xS(u,u[En],u[bt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return VL(s,i,o,r),e.attachToViewContainerRef(),Ty(uv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=hC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=bv(this._lContainer,t);r&&(Gc(uv(this._lContainer),t),cS(r[re],r))}detach(e){let t=this._adjustIndex(e,-1),r=bv(this._lContainer,t);return r&&Gc(uv(this._lContainer),t)!=null?new Ai(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function hC(n){return n[Zc]}function uv(n){return n[Zc]||(n[Zc]=[])}function gV(n,e){let t,r=e[n.index];return Ln(r)?t=r:(t=IS(r,e,null,n),e[n.index]=t,Gv(e,t)),yV(t,e,n,r),new xS(t,n,e)}function mV(n,e){let t=n[We],r=t.createComment(""),i=Vn(e,n),o=t.parentNode(i);return Oh(t,o,r,t.nextSibling(i),!1),r}var yV=EV,vV=()=>!1;function _V(n,e,t){return vV(n,e,t)}function EV(n,e,t,r){if(n[Di])return;let i;t.type&8?i=wn(r):i=mV(e,t),n[Di]=i}var fC=new Set;function oa(n){fC.has(n)||(fC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Uo=class{},rf=class{};var jh=class extends Uo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Lh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Sy(e);this._bootstrapComponents=XC(o.bootstrap),this._r3Injector=Xy(e,t,[{provide:Uo,useValue:this},{provide:fu,useValue:this.componentFactoryResolver},...r],jr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Uh=class extends rf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new jh(this.moduleType,e,[])}};var cu=class extends Uo{injector;componentFactoryResolver=new Lh(this);instance=null;constructor(e){super();let t=new To([...e.providers,{provide:Uo,useValue:this},{provide:fu,useValue:this.componentFactoryResolver}],e.parent||Kc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function sa(n,e,t=null){return new cu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var IV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ry(!1,t.type),i=r.length>0?sa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(Q(Ge))})}return n})();function Ce(n){return ia(()=>{let e=PS(n),t=te(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Fv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(IV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||zr.Emulated,styles:n.styles||dn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&oa("NgStandalone"),kS(t);let r=n.dependencies;return t.directiveDefs=pC(r,wV),t.pipeDefs=pC(r,pb),t.id=bV(t),t})}function wV(n){return Hr(n)||Ay(n)}function $n(n){return ia(()=>({type:n.type,bootstrap:n.bootstrap||dn,declarations:n.declarations||dn,imports:n.imports||dn,exports:n.exports||dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function DV(n,e){if(n==null)return Ii;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Jh.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function TV(n){if(n==null)return Ii;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ke(n){return ia(()=>{let e=PS(n);return kS(e),e})}function zo(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function PS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ii,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||dn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:DV(n.inputs,e),outputs:TV(n.outputs),debugInfo:null}}function kS(n){n.features?.forEach(e=>e(n))}function pC(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function bV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function CV(n){return Object.getPrototypeOf(n.prototype).constructor}function gr(n){let e=CV(n.type),t=!0,r=[n];for(;e;){let i;if(ur(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=lv(n.inputs),s.declaredInputs=lv(n.declaredInputs),s.outputs=lv(n.outputs);let a=i.hostBindings;a&&MV(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&RV(n,u),l&&NV(n,l),SV(n,i),sb(n.outputs,i.outputs),ur(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===gr&&(t=!1)}}e=Object.getPrototypeOf(e)}AV(r)}function SV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function AV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ta(i.hostAttrs,t=ta(t,i.hostAttrs))}}function lv(n){return n===Ii?{}:n===dn?[]:n}function RV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function NV(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function MV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function xV(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ta(n.mergedAttrs,n.attrs);let h=n.tView=zv(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Js(n,!1);let u=kV(t,e,n,r);vh()&&Qv(t,e,u,n),na(u,e);let l=IS(u,e,u,n);e[r+gt]=l,Gv(e,l),_V(l,n,e)}function PV(n,e,t,r,i,o,s,a,u,l,h){let p=t+gt,g;return e.firstCreatePass?(g=tf(e,p,4,s||null,a||null),fh()&&CS(e,n,g,ko(e.consts,l),Jv),SC(e,g)):g=e.data[p],xV(g,n,e,t,r,i,o,u),Ks(g)&&Xh(e,n,g),l!=null&&ef(n,g,h),g}function ve(n,e,t,r,i,o,s,a){let u=ge(),l=Gt(),h=ko(l.consts,o);return PV(u,l,n,e,t,r,i,h,void 0,s,a),ve}var kV=OV;function OV(n,e,t,r){return ru(!0),e[We].createComment("")}var of=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(of||{}),qo=new $(""),OS=!1,Rv=class extends st{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,_b()&&(this.destroyRef=x(lr,{optional:!0})??void 0,this.pendingTasks=x(dr,{optional:!0})??void 0)}emit(e){let t=de(null);try{super.next(e)}finally{de(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Je&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ve=Rv;function FS(n){let e,t;function r(){n=iu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function gC(n){return queueMicrotask(()=>n()),()=>{n=iu}}var l_="isAngularZone",Bh=l_+"_ID",FV=0,be=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ve(!1);onMicrotaskEmpty=new Ve(!1);onStable=new Ve(!1);onError=new Ve(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=OS}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,jV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(l_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,LV,iu,iu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},LV={};function d_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function VV(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){FS(()=>{n.callbackScheduled=!1,Nv(n),n.isCheckStableRunning=!0,d_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Nv(n)}function jV(n){let e=()=>{VV(n)},t=FV++;n._inner=n._inner.fork({name:"angular",properties:{[l_]:!0,[Bh]:t,[Bh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(UV(u))return r.invokeTask(o,s,a,u);try{return mC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),yC(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return mC(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!BV(u)&&e(),yC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Nv(n),d_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Nv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function mC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yC(n){n._nesting--,d_(n)}var $h=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ve;onMicrotaskEmpty=new Ve;onStable=new Ve;onError=new Ve;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function UV(n){return LS(n,"__ignore_ng_zone__")}function BV(n){return LS(n,"__scheduler_tick__")}function LS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var h_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),VS=[0,1,2,3],jS=(()=>{class n{ngZone=x(be);scheduler=x(Ur);errorHandler=x(On,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(qo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&xe(16),this.executing=!0;for(let r of VS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&xe(17)}register(t){let{view:r}=t;r!==void 0?((r[xo]??=[]).push(t),Ys(r),r[se]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(of.AFTER_NEXT_RENDER,t):t()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Hh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[xo];e&&(this.view[xo]=e.filter(t=>t!==this))}};function sf(n,e){let t=e?.injector??x(Ze);return oa("NgAfterNextRender"),HV(n,t,e,!0)}function $V(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function HV(n,e,t,r){let i=e.get(h_);i.impl??=e.get(jS);let o=e.get(qo,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(lr):null,a=e.get(Ih,null,{optional:!0}),u=new Hh(i.impl,$V(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var f_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var p_=new $("");function Kr(n){return!!n&&typeof n.then=="function"}function af(n){return!!n&&typeof n.subscribe=="function"}var g_=new $("");function cf(n){return hn([{provide:g_,multi:!0,useValue:n}])}var m_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x(g_,{optional:!0})??[];injector=x(Ze);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Xe(this.injector,i);if(Kr(o))t.push(o);else if(af(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pu=new $("");function US(){Pm(()=>{let n="";throw new U(600,n)})}function BS(n){return n.isBoundToModule}var zV=10;var Ni=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(Wt);afterRenderManager=x(h_);zonelessEnabled=x(Eh);rootEffectScheduler=x(iv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new st;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(dr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ce(t=>!t))}constructor(){x(qo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(Ge);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ze.NULL){return this._injector.get(be).run(()=>{xe(10);let s=t instanceof nf;if(!this._injector.get(m_).done){let b="";throw new U(405,b)}let u;s?u=t:u=this._injector.get(fu).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=BS(u)?void 0:this._injector.get(Uo),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(p_,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),su(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),xe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){xe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(of.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let t=de(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,de(t),this.afterTick.next(),xe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Vo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<zV;)xe(14),this.synchronizeOnce(),xe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!eu(i))continue;let o=r&&!this.zonelessEnabled?0:1;n_(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>eu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;su(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(pu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>su(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function su(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function aa(n,e,t,r){let i=ge(),o=nu();if(qr(i,o,e)){let s=Gt(),a=yh();yL(a,i,n,e,t,r)}return aa}var y_=new $("",{providedIn:"root",factory:()=>!1}),v_=new $("",{providedIn:"root",factory:()=>qV}),qV=4e3;var xY=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function G(n,e,t){let r=ge(),i=nu();if(qr(r,i,e)){let o=Gt(),s=yh();dS(s,r,n,e,r[We],t)}return G}function vC(n,e,t,r,i){e_(e,n,t,i?"class":"style",r)}function A(n,e,t,r){let i=ge(),o=i[re],s=n+gt,a=o.firstCreatePass?o_(s,i,2,e,Jv,fh(),t,r):o.data[s];if(Zv(a,i,n,e,$S),Ks(a)){let u=i[re];Xh(u,i,a),Uv(u,a,i)}return r!=null&&ef(i,a),A}function R(){let n=Gt(),e=vt(),t=Xv(e);return n.firstCreatePass&&s_(n,t),$y(t)&&Hy(),By(),t.classesWithoutHost!=null&&JO(t)&&vC(n,t,ge(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&ZO(t)&&vC(n,t,ge(),t.stylesWithoutHost,!1),R}function ie(n,e,t,r){return A(n,e,t,r),R(),ie}function tn(n,e,t,r){let i=ge(),o=i[re],s=n+gt,a=o.firstCreatePass?tV(s,o,2,e,t,r):o.data[s];return Zv(a,i,n,e,$S),r!=null&&ef(i,a),tn}function Hn(){let n=vt(),e=Xv(n);return $y(e)&&Hy(),By(),Hn}function Go(n,e,t,r){return tn(n,e,t,r),Hn(),Go}var $S=(n,e,t,r,i)=>(ru(!0),tS(e[We],r,Hb()));function zn(n,e,t){let r=ge(),i=r[re],o=n+gt,s=i.firstCreatePass?o_(o,r,8,"ng-container",Jv,fh(),e,t):i.data[o];if(Zv(s,r,n,"ng-container",GV),Ks(s)){let a=r[re];Xh(a,r,s),Uv(a,s,r)}return t!=null&&ef(r,s),zn}function qn(){let n=Gt(),e=vt(),t=Xv(e);return n.firstCreatePass&&s_(n,t),qn}var GV=(n,e,t,r,i)=>(ru(!0),BF(e[We],""));function Tn(){return ge()}var Oo=void 0;function WV(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var KV=["en",[["a","p"],["AM","PM"],Oo],[["AM","PM"],Oo,Oo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oo,"{1} 'at' {0}",Oo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",WV],dv={};function nn(n){let e=QV(n),t=_C(e);if(t)return t;let r=e.split("-")[0];if(t=_C(r),t)return t;if(r==="en")return KV;throw new U(701,!1)}function _C(n){return n in dv||(dv[n]=Br.ng&&Br.ng.common&&Br.ng.common.locales&&Br.ng.common.locales[n]),dv[n]}var tt=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(tt||{});function QV(n){return n.toLowerCase().replace(/_/g,"-")}var gu="en-US";var YV=gu;function HS(n){typeof n=="string"&&(YV=n.toLowerCase().replace(/_/g,"-"))}function $e(n,e,t){let r=ge(),i=Gt(),o=vt();return zS(i,r,r[We],o,n,e,t),$e}function zS(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=cv(r,e,o),rV(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=cv(r,e,o),lC(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=cv(r,e,o),lC(r,e,p,i,i,u)}}function Te(n=1){return $b(n)}function bn(n){let e=xb();return lh(e,gt+n)}function Th(n,e){return n<<17|e<<2}function Bo(n){return n>>17&32767}function JV(n){return(n&2)==2}function ZV(n,e){return n&131071|e<<17}function Mv(n){return n|2}function ra(n){return(n&131068)>>2}function hv(n,e){return n&-131069|e<<2}function XV(n){return(n&1)===1}function xv(n){return n|1}function e2(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Bo(s),u=ra(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||qs(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=Bo(n[a+1]);n[r+1]=Th(g,a),g!==0&&(n[g+1]=hv(n[g+1],r)),n[a+1]=ZV(n[a+1],r)}else n[r+1]=Th(a,0),a!==0&&(n[a+1]=hv(n[a+1],r)),a=r;else n[r+1]=Th(u,0),a===0?a=r:n[u+1]=hv(n[u+1],r),u=r;l&&(n[r+1]=Mv(n[r+1])),EC(n,h,r,!0),EC(n,h,r,!1),t2(e,h,n,r,o),s=Th(a,u),o?e.classBindings=s:e.styleBindings=s}function t2(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&qs(o,e)>=0&&(t[r+1]=xv(t[r+1]))}function EC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Bo(i):ra(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];n2(u,e)&&(a=!0,n[s+1]=r?xv(l):Mv(l)),s=r?Bo(l):ra(l)}a&&(n[t+1]=r?Mv(i):xv(i))}function n2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?qs(n,e)>=0:!1}function uf(n,e,t){return qS(n,e,t,!1),uf}function mu(n,e){return qS(n,e,null,!0),mu}function qS(n,e,t,r){let i=ge(),o=Gt(),s=Qy(2);if(o.firstUpdatePass&&i2(o,n,s,r),e!==Bn&&qr(i,s,e)){let a=o.data[bi()];u2(o,a,i,i[We],n,i[s+1]=l2(e,t),r,s)}}function r2(n,e){return e>=n.expandoStartIndex}function i2(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[bi()],s=r2(n,t);d2(o,r)&&e===null&&!s&&(e=!1),e=o2(i,o,e,r),e2(i,o,e,t,s,r)}}function o2(n,e,t,r){let i=Vb(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=fv(null,n,e,t,r),t=uu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=fv(i,n,e,t,r),o===null){let u=s2(n,e,r);u!==void 0&&Array.isArray(u)&&(u=fv(null,n,e,u[1],r),u=uu(u,e.attrs,r),a2(n,e,r,u))}else o=c2(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function s2(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ra(r)!==0)return n[Bo(r)]}function a2(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Bo(i)]=r}function c2(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=uu(r,s,t)}return uu(r,e.attrs,t)}function fv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=uu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function uu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),fb(n,s,t?!0:e[++o]))}return n===void 0?null:n}function u2(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=XV(l)?IC(u,e,t,i,ra(l),s):void 0;if(!zh(h)){zh(o)||JV(l)&&(o=IC(u,null,t,i,a,s));let p=Fy(bi(),t);aL(r,s,p,i,o)}}function IC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===Bn&&(g=p?dn:void 0);let y=p?ah(g,r):h===r?g:void 0;if(l&&!zh(y)&&(y=ah(u,r)),zh(y)&&(a=y,s))return a;let b=n[i+1];i=s?Bo(b):ra(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ah(u,r))}return a}function zh(n){return n!==void 0}function l2(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=jr(du(n)))),n}function d2(n,e){return(n.flags&(e?8:16))!==0}function k(n,e=""){let t=ge(),r=Gt(),i=n+gt,o=r.firstCreatePass?tf(r,i,1,e,null):r.data[i],s=h2(r,t,o,e,n);t[i]=s,vh()&&Qv(r,t,s,o),Js(o,!1)}var h2=(n,e,t,r,i)=>(ru(!0),jF(e[We],r));function GS(n,e,t,r=""){return qr(n,nu(),t)?e+Co(t)+r:Bn}function f2(n,e,t,r,i,o=""){let s=Pb(),a=u_(n,s,t,i);return Qy(2),a?e+Co(t)+r+Co(i)+o:Bn}function Se(n){return Ae("",n),Se}function Ae(n,e,t){let r=ge(),i=GS(r,n,e,t);return i!==Bn&&WS(r,bi(),i),Ae}function Qr(n,e,t,r,i){let o=ge(),s=f2(o,n,e,t,r,i);return s!==Bn&&WS(o,bi(),s),Qr}function WS(n,e,t){let r=Fy(e,n);UF(n[We],r,t)}function yu(n,e,t){tv(e)&&(e=e());let r=ge(),i=nu();if(qr(r,i,e)){let o=Gt(),s=yh();dS(s,r,n,e,r[We],t)}return yu}function lf(n,e){let t=tv(n);return t&&n.set(e),t}function vu(n,e){let t=ge(),r=Gt(),i=vt();return zS(r,t,t[We],i,n,e),vu}function df(n,e,t=""){return GS(ge(),n,e,t)}function p2(n,e,t){let r=Gt();if(r.firstCreatePass){let i=ur(n);Pv(t,r.data,r.blueprint,i,!0),Pv(e,r.data,r.blueprint,i,!1)}}function Pv(n,e,t,r,i){if(n=Tt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Pv(n[o],e,t,r,i);else{let o=Gt(),s=ge(),a=vt(),u=Do(n)?n:Tt(n.provide),l=My(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Do(n)||!n.multi){let y=new Lo(l,i,ne,null),b=gv(u,e,i?h:h+g,p);b===-1?(yv(xh(a,s),o,u),pv(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[b]=y,s[b]=y)}else{let y=gv(u,e,h+g,p),b=gv(u,e,h,h+g),P=y>=0&&t[y],N=b>=0&&t[b];if(i&&!N||!i&&!P){yv(xh(a,s),o,u);let F=y2(i?m2:g2,t.length,i,r,l,n);!i&&N&&(t[b].providerFactory=F),pv(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=KS(t[i?b:y],l,!i&&r);pv(o,n,y>-1?y:b,F)}!i&&r&&N&&t[b].componentProviders++}}}function pv(n,e,t,r){let i=Do(e),o=vb(e);if(i||o){let u=(o?Tt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function KS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function gv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function g2(n,e,t,r,i){return kv(this.multi,[])}function m2(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Ph(r,r[re],this.providerFactory.index,i);s=u.slice(0,a),kv(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],kv(o,s);return s}function kv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function y2(n,e,t,r,i,o){let s=new Lo(n,t,ne,null);return s.multi=[],s.index=e,s.componentProviders=0,KS(s,i,r&&!t),s}function ca(n,e=[]){return t=>{t.providersResolver=(r,i)=>p2(r,i?i(n):n,e)}}function __(n,e,t,r){return QS(ge(),Zs(),n,e,t,r)}function _u(n,e,t,r,i){return YS(ge(),Zs(),n,e,t,r,i)}function E_(n,e,t,r,i,o){return v2(ge(),Zs(),n,e,t,r,i,o)}function I_(n,e){let t=n[e];return t===Bn?void 0:t}function QS(n,e,t,r,i,o){let s=e+t;return qr(n,s,i)?c_(n,s+1,o?r.call(o,i):r(i)):I_(n,s+1)}function YS(n,e,t,r,i,o,s){let a=e+t;return u_(n,a,i,o)?c_(n,a+2,s?r.call(s,i,o):r(i,o)):I_(n,a+2)}function v2(n,e,t,r,i,o,s,a){let u=e+t;return nV(n,u,i,o,s)?c_(n,u+3,a?r.call(a,i,o,s):r(i,o,s)):I_(n,u+3)}function rn(n,e){let t=Gt(),r,i=n+gt;t.firstCreatePass?(r=_2(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=vi(r.type,!0)),s,a=qt(ne);try{let u=Mh(!1),l=o();return Mh(u),Ly(t,ge(),i,l),l}finally{qt(a)}}function _2(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function ua(n,e,t){let r=n+gt,i=ge(),o=lh(i,r);return JS(i,r)?QS(i,Zs(),e,o.transform,t,o):o.transform(t)}function Gn(n,e,t,r){let i=n+gt,o=ge(),s=lh(o,i);return JS(o,i)?YS(o,Zs(),e,s.transform,t,r,s):s.transform(t,r)}function JS(n,e){return n[re].data[e].pure}function mr(n,e){return DS(n,e)}var qh=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},w_=(()=>{class n{compileModuleSync(t){return new Uh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Sy(t),o=XC(i.declarations).reduce((s,a)=>{let u=Hr(a);return u&&s.push(new jo(u)),s},[]);return new qh(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var E2=(()=>{class n{zone=x(be);changeDetectionScheduler=x(Ur);applicationRef=x(Ni);applicationErrorHandler=x(Wt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZS({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new be(te(V({},XS()),{scheduleInRootZone:t})),[{provide:be,useFactory:n},{provide:wi,multi:!0,useFactory:()=>{let r=x(E2,{optional:!0});return()=>r.initialize()}},{provide:wi,multi:!0,useFactory:()=>{let r=x(I2);return()=>{r.initialize()}}},e===!0?{provide:nv,useValue:!0}:[],{provide:rv,useValue:t??OS},{provide:Wt,useFactory:()=>{let r=x(be),i=x(Ge),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(On),o.handleError(s))})}}}]}function XS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var I2=(()=>{class n{subscription=new Je;initialized=!1;zone=x(be);pendingTasks=x(dr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eA=(()=>{class n{applicationErrorHandler=x(Wt);appRef=x(Ni);taskService=x(dr);ngZone=x(be);zonelessEnabled=x(Eh);tracing=x(qo,{optional:!0});disableScheduling=x(nv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Bh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(rv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $h||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?gC:FS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Bh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function w2(){return typeof $localize<"u"&&$localize.locale||gu}var la=new $("",{providedIn:"root",factory:()=>x(la,{optional:!0,skipSelf:!0})||w2()});function ut(n){return rb(n)}function da(n,e){return Sd(n,e?.equal)}var tA=class{[kt];constructor(e){this[kt]=e}destroy(){this[kt].destroy()}};var sA=Symbol("InputSignalNode#UNSET"),L2=te(V({},Ad),{transformFn:void 0,applyValueToInputSignal(n,e){Rs(n,e)}});function aA(n,e){let t=Object.create(L2);t.value=n,t.transformFn=e?.transform;function r(){if(Cs(t),t.value===sA){let i=null;throw new U(-950,i)}return t.value}return r[kt]=t,r}var ff=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>lu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},V2=new $("");V2.__NG_ELEMENT_ID__=n=>{let e=vt();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new U(204,!1)};function nA(n,e){return aA(n,e)}function j2(n){return aA(sA,n)}var cA=(nA.required=j2,nA);var Wo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},uA=new Wo("20.3.0");var D_=new $(""),U2=new $("");function Eu(n){return!n.moduleRef}function B2(n){let e=Eu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(be);return t.run(()=>{Eu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Wt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Eu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(D_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(D_);s.add(o),n.moduleRef.onDestroy(()=>{su(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return H2(r,t,()=>{let o=e.get(dr),s=o.add(),a=e.get(m_);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(la,gu);if(HS(u||gu),!e.get(U2,!0))return Eu(n)?e.get(Ni):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Eu(n)){let h=e.get(Ni);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return $2?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var $2;function H2(n,e,t){try{let r=t();return Kr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var hf=null;function z2(n=[],e){return Ze.create({name:e,providers:[{provide:Wc,useValue:"platform"},{provide:D_,useValue:new Set([()=>hf=null])},...n]})}function q2(n=[]){if(hf)return hf;let e=z2(n);return hf=e,US(),G2(e),e}function G2(n){let e=n.get(Kh,null);Xe(n,()=>{e?.forEach(t=>t())})}function A_(){return!1}var Mi=(()=>{class n{static __NG_ELEMENT_ID__=W2}return n})();function W2(n){return K2(vt(),ge(),(n&16)===16)}function K2(n,e,t){if(Ti(n)&&!t){let r=Dn(n.index,e);return new Ai(r,r)}else if(n.type&175){let r=e[In];return new Ai(r,e)}return null}var T_=class{constructor(){}supports(e){return a_(e)}create(e){return new b_(e)}},Q2=(n,e)=>e,b_=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Q2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<rA(r,i,o)?t:r,a=rA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,b=y+g;h<=b&&b<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!a_(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,AS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new C_(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new pf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new pf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},C_=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},S_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},pf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new S_,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function rA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function iA(){return new R_([new T_])}var R_=(()=>{class n{factories;static \u0275prov=H({token:n,providedIn:"root",factory:iA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=x(n,{optional:!0,skipSelf:!0});return n.create(t,r||iA())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new U(901,!1)}}return n})();function lA(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;xe(8);try{let o=i?.injector??q2(r),s=[ZS({}),{provide:Ur,useExisting:eA},qb,...t||[]],a=new cu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return B2({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{xe(9)}}function xi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function dA(n){let e=Hr(n);if(!e)return null;let t=new jo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var pA=null;function Cn(){return pA}function N_(n){pA??=n}var Iu=class{},wu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>x(gA),providedIn:"platform"})}return n})(),M_=new $(""),gA=(()=>{class n extends wu{_location;_history;_doc=x(et);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cn().getBaseHref(this._doc)}onPopState(t){let r=Cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function gf(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function hA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Wn(n){return n&&n[0]!=="?"?`?${n}`:n}var Kn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>x(yf),providedIn:"root"})}return n})(),mf=new $(""),yf=(()=>{class n extends Kn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gf(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Wn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Wn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Wn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(wu),Q(mf,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pi=(()=>{class n{_subject=new st;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Z2(hA(fA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Wn(r))}normalize(t){return n.stripTrailingSlash(J2(this._basePath,fA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Wn;static joinWithSlash=gf;static stripTrailingSlash=hA;static \u0275fac=function(r){return new(r||n)(Q(Kn))};static \u0275prov=H({token:n,factory:()=>Y2(),providedIn:"root"})}return n})();function Y2(){return new Pi(Q(Kn))}function J2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function fA(n){return n.replace(/\/index.html$/,"")}function Z2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var U_=(()=>{class n extends Kn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=gf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Wn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Wn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(wu),Q(mf,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var B_=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(B_||{});var jt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(jt||{}),Pe=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Pe||{}),sn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(sn||{}),an={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function IA(n){return nn(n)[tt.LocaleId]}function wA(n,e,t){let r=nn(n),i=[r[tt.DayPeriodsFormat],r[tt.DayPeriodsStandalone]],o=Sn(i,e);return Sn(o,t)}function DA(n,e,t){let r=nn(n),i=[r[tt.DaysFormat],r[tt.DaysStandalone]],o=Sn(i,e);return Sn(o,t)}function TA(n,e,t){let r=nn(n),i=[r[tt.MonthsFormat],r[tt.MonthsStandalone]],o=Sn(i,e);return Sn(o,t)}function bA(n,e){let r=nn(n)[tt.Eras];return Sn(r,e)}function Du(n,e){let t=nn(n);return Sn(t[tt.DateFormat],e)}function Tu(n,e){let t=nn(n);return Sn(t[tt.TimeFormat],e)}function bu(n,e){let r=nn(n)[tt.DateTimeFormat];return Sn(r,e)}function yr(n,e){let t=nn(n),r=t[tt.NumberSymbols][e];if(typeof r>"u"){if(e===an.CurrencyDecimal)return t[tt.NumberSymbols][an.Decimal];if(e===an.CurrencyGroup)return t[tt.NumberSymbols][an.Group]}return r}function CA(n,e){return nn(n)[tt.NumberFormats][e]}function SA(n){if(!n[tt.ExtraData])throw new U(2303,!1)}function AA(n){let e=nn(n);return SA(e),(e[tt.ExtraData][2]||[]).map(r=>typeof r=="string"?x_(r):[x_(r[0]),x_(r[1])])}function RA(n,e,t){let r=nn(n);SA(r);let i=[r[tt.ExtraData][0],r[tt.ExtraData][1]],o=Sn(i,e)||[];return Sn(o,t)||[]}function Sn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new U(2304,!1)}function x_(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var X2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vf={},ej=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function NA(n,e,t,r){let i=uj(n);e=Yr(t,e)||e;let s=[],a;for(;e;)if(a=ej.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=xA(r,u),i=cj(i,r));let l="";return s.forEach(h=>{let p=sj(h);l+=p?p(i,t,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Df(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Yr(n,e){let t=IA(n);if(vf[t]??={},vf[t][e])return vf[t][e];let r="";switch(e){case"shortDate":r=Du(n,sn.Short);break;case"mediumDate":r=Du(n,sn.Medium);break;case"longDate":r=Du(n,sn.Long);break;case"fullDate":r=Du(n,sn.Full);break;case"shortTime":r=Tu(n,sn.Short);break;case"mediumTime":r=Tu(n,sn.Medium);break;case"longTime":r=Tu(n,sn.Long);break;case"fullTime":r=Tu(n,sn.Full);break;case"short":let i=Yr(n,"shortTime"),o=Yr(n,"shortDate");r=_f(bu(n,sn.Short),[i,o]);break;case"medium":let s=Yr(n,"mediumTime"),a=Yr(n,"mediumDate");r=_f(bu(n,sn.Medium),[s,a]);break;case"long":let u=Yr(n,"longTime"),l=Yr(n,"longDate");r=_f(bu(n,sn.Long),[u,l]);break;case"full":let h=Yr(n,"fullTime"),p=Yr(n,"fullDate");r=_f(bu(n,sn.Full),[h,p]);break}return r&&(vf[t][e]=r),r}function _f(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Qn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function tj(n,e){return Qn(n,3).substring(0,e)}function lt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=nj(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return tj(a,e);let u=yr(s,an.MinusSign);return Qn(a,e,u,r,i)}}function nj(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new U(2301,!1)}}function je(n,e,t=jt.Format,r=!1){return function(i,o){return rj(i,o,n,e,t,r)}}function rj(n,e,t,r,i,o){switch(t){case 2:return TA(e,i,r)[n.getMonth()];case 1:return DA(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=AA(e),h=RA(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,b]=g,P=s>=y.hours&&a>=y.minutes,N=s<b.hours||s===b.hours&&a<b.minutes;if(y.hours<b.hours){if(P&&N)return!0}else if(P||N)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return wA(e,i,r)[s<12?0:1];case 3:return bA(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new U(2302,!1)}}function Ef(n){return function(e,t,r){let i=-1*r,o=yr(t,an.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Qn(s,2,o)+Qn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Qn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Qn(s,2,o)+":"+Qn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Qn(s,2,o)+":"+Qn(Math.abs(i%60),2,o);default:throw new U(2302,!1)}}}var ij=0,wf=4;function oj(n){let e=Df(n,ij,1).getDay();return Df(n,0,1+(e<=wf?wf:wf+7)-e)}function MA(n){let e=n.getDay(),t=e===0?-3:wf-e;return Df(n.getFullYear(),n.getMonth(),n.getDate()+t)}function P_(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=MA(t),s=oj(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Qn(i,n,yr(r,an.MinusSign))}}function If(n,e=!1){return function(t,r){let o=MA(t).getFullYear();return Qn(o,n,yr(r,an.MinusSign),e)}}var k_={};function sj(n){if(k_[n])return k_[n];let e;switch(n){case"G":case"GG":case"GGG":e=je(3,Pe.Abbreviated);break;case"GGGG":e=je(3,Pe.Wide);break;case"GGGGG":e=je(3,Pe.Narrow);break;case"y":e=lt(0,1,0,!1,!0);break;case"yy":e=lt(0,2,0,!0,!0);break;case"yyy":e=lt(0,3,0,!1,!0);break;case"yyyy":e=lt(0,4,0,!1,!0);break;case"Y":e=If(1);break;case"YY":e=If(2,!0);break;case"YYY":e=If(3);break;case"YYYY":e=If(4);break;case"M":case"L":e=lt(1,1,1);break;case"MM":case"LL":e=lt(1,2,1);break;case"MMM":e=je(2,Pe.Abbreviated);break;case"MMMM":e=je(2,Pe.Wide);break;case"MMMMM":e=je(2,Pe.Narrow);break;case"LLL":e=je(2,Pe.Abbreviated,jt.Standalone);break;case"LLLL":e=je(2,Pe.Wide,jt.Standalone);break;case"LLLLL":e=je(2,Pe.Narrow,jt.Standalone);break;case"w":e=P_(1);break;case"ww":e=P_(2);break;case"W":e=P_(1,!0);break;case"d":e=lt(2,1);break;case"dd":e=lt(2,2);break;case"c":case"cc":e=lt(7,1);break;case"ccc":e=je(1,Pe.Abbreviated,jt.Standalone);break;case"cccc":e=je(1,Pe.Wide,jt.Standalone);break;case"ccccc":e=je(1,Pe.Narrow,jt.Standalone);break;case"cccccc":e=je(1,Pe.Short,jt.Standalone);break;case"E":case"EE":case"EEE":e=je(1,Pe.Abbreviated);break;case"EEEE":e=je(1,Pe.Wide);break;case"EEEEE":e=je(1,Pe.Narrow);break;case"EEEEEE":e=je(1,Pe.Short);break;case"a":case"aa":case"aaa":e=je(0,Pe.Abbreviated);break;case"aaaa":e=je(0,Pe.Wide);break;case"aaaaa":e=je(0,Pe.Narrow);break;case"b":case"bb":case"bbb":e=je(0,Pe.Abbreviated,jt.Standalone,!0);break;case"bbbb":e=je(0,Pe.Wide,jt.Standalone,!0);break;case"bbbbb":e=je(0,Pe.Narrow,jt.Standalone,!0);break;case"B":case"BB":case"BBB":e=je(0,Pe.Abbreviated,jt.Format,!0);break;case"BBBB":e=je(0,Pe.Wide,jt.Format,!0);break;case"BBBBB":e=je(0,Pe.Narrow,jt.Format,!0);break;case"h":e=lt(3,1,-12);break;case"hh":e=lt(3,2,-12);break;case"H":e=lt(3,1);break;case"HH":e=lt(3,2);break;case"m":e=lt(4,1);break;case"mm":e=lt(4,2);break;case"s":e=lt(5,1);break;case"ss":e=lt(5,2);break;case"S":e=lt(6,1);break;case"SS":e=lt(6,2);break;case"SSS":e=lt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Ef(0);break;case"ZZZZZ":e=Ef(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ef(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ef(2);break;default:return null}return k_[n]=e,e}function xA(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function aj(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function cj(n,e,t){let i=n.getTimezoneOffset(),o=xA(e,i);return aj(n,-1*(o-i))}function uj(n){if(mA(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Df(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(X2))return lj(r)}let e=new Date(n);if(!mA(e))throw new U(2302,!1);return e}function lj(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,u,l),e}function mA(n){return n instanceof Date&&!isNaN(n.valueOf())}var dj=/^(\d+)?\.((\d+)(-(\d+))?)?$/,yA=22,Tf=".",Cu="0",hj=";",fj=",",O_="#";function pj(n,e,t,r,i,o,s=!1){let a="",u=!1;if(!isFinite(n))a=yr(t,an.Infinity);else{let l=yj(n);s&&(l=mj(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let W=o.match(dj);if(W===null)throw new U(2306,!1);let J=W[1],X=W[3],Le=W[5];J!=null&&(h=F_(J)),X!=null&&(p=F_(X)),Le!=null?g=F_(Le):X!=null&&p>g&&(g=p)}vj(l,p,g);let y=l.digits,b=l.integerLen,P=l.exponent,N=[];for(u=y.every(W=>!W);b<h;b++)y.unshift(0);for(;b<0;b++)y.unshift(0);b>0?N=y.splice(b,y.length):(N=y,y=[0]);let F=[];for(y.length>=e.lgSize&&F.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)F.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&F.unshift(y.join("")),a=F.join(yr(t,r)),N.length&&(a+=yr(t,i)+N.join("")),P&&(a+=yr(t,an.Exponential)+"+"+P)}return n<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function PA(n,e,t){let r=CA(e,B_.Decimal),i=gj(r,yr(e,an.MinusSign));return pj(n,i,e,an.Group,an.Decimal,t)}function gj(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(hj),i=r[0],o=r[1],s=i.indexOf(Tf)!==-1?i.split(Tf):[i.substring(0,i.lastIndexOf(Cu)+1),i.substring(i.lastIndexOf(Cu)+1)],a=s[0],u=s[1]||"";t.posPre=a.substring(0,a.indexOf(O_));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Cu?t.minFrac=t.maxFrac=h+1:p===O_?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(fj);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(O_);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function mj(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function yj(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Tf))>-1&&(e=e.replace(Tf,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Cu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Cu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>yA&&(r=r.splice(0,yA-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function vj(n,e,t){if(e>t)throw new U(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,g,y,b){return g=g+p,b[y]=g<10?g:g-10,u&&(b[y]===0&&y>=l?b.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function F_(n){let e=parseInt(n);if(isNaN(e))throw new U(2305,!1);return e}var L_=/\s+/,vA=[],Yn=(()=>{class n{_ngEl;_renderer;initialClasses=vA;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(L_):vA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(L_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(L_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ne(pr),ne(Gr))};static \u0275dir=Ke({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var bf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},cn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new bf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),_A(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);_A(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ne(Wr),ne(Ho),ne(R_))};static \u0275dir=Ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function _A(n,e){n.context.$implicit=e.item}var Ct=(()=>{class n{_viewContainer;_context=new Cf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){EA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){EA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ne(Wr),ne(Ho))};static \u0275dir=Ke({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Cf=class{$implicit=null;ngIf=null};function EA(n,e){if(n&&!n.createEmbeddedView)throw new U(2020,!1)}var Sf=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,t){this._viewContainerRef=e,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Su=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let r of this._defaultViews)r.enforceState(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ke({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),$_=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Sf(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||n)(ne(Wr),ne(Ho),ne(Su,9))};static \u0275dir=Ke({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})(),H_=(()=>{class n{constructor(t,r,i){i._addDefault(new Sf(t,r))}static \u0275fac=function(r){return new(r||n)(ne(Wr),ne(Ho),ne(Su,9))};static \u0275dir=Ke({type:n,selectors:[["","ngSwitchDefault",""]]})}return n})();function z_(n,e){return new U(2100,!1)}var V_=class{createSubscription(e,t,r){return ut(()=>e.subscribe({next:t,error:r}))}dispose(e){ut(()=>e.unsubscribe())}},j_=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},_j=new j_,Ej=new V_,q_=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=x(Wt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Kr(t))return _j;if(af(t))return Ej;throw z_(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(ne(Mi,16))};static \u0275pipe=zo({name:"async",type:n,pure:!1})}return n})();var Ij="mediumDate",kA=new $(""),OA=new $(""),Ko=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??Ij,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return NA(t,s,o||this.locale,a)}catch(s){throw z_(n,s.message)}}static \u0275fac=function(r){return new(r||n)(ne(la,16),ne(kA,24),ne(OA,24))};static \u0275pipe=zo({name:"date",type:n,pure:!0})}return n})();var Au=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!wj(t))return null;i||=this._locale;try{let o=Dj(t);return PA(o,i,r)}catch(o){throw z_(n,o.message)}}static \u0275fac=function(r){return new(r||n)(ne(la,16))};static \u0275pipe=zo({name:"number",type:n,pure:!0})}return n})();function wj(n){return!(n==null||n===""||n!==n)}function Dj(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new U(2309,!1);return n}var Me=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$n({type:n});static \u0275inj=vn({})}return n})();function Ru(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Qo=class{};var FA="browser";var LA=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new G_(x(et),window)})}return n})(),G_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(te(V({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=Tj(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Ei(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(te(V({},t),{left:i-s[0],top:o-s[1]}))}};function Tj(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Rf=new $(""),J_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Q(Rf),Q(be))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Nu=class{_doc;constructor(e){this._doc=e}manager},W_="ng-app-id";function VA(n){for(let e of n)e.remove()}function jA(n,e){let t=e.createElement("style");return t.textContent=n,t}function bj(n,e,t,r){let i=n.head?.querySelectorAll(`style[${W_}="${e}"],link[${W_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(W_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Q_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Z_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,bj(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,jA);r?.forEach(i=>this.addUsage(i,this.external,Q_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(VA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])VA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,jA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Q_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Q(et),Q(Wh),Q(Qh,8),Q(Ri))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),K_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},X_=/%COMP%/g;var BA="%COMP%",Cj=`_nghost-${BA}`,Sj=`_ngcontent-${BA}`,Aj=!0,Rj=new $("",{providedIn:"root",factory:()=>Aj});function Nj(n){return Sj.replace(X_,n)}function Mj(n){return Cj.replace(X_,n)}function $A(n,e){return e.map(t=>t.replace(X_,n))}var eE=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(t,r,i,o,s,a,u,l=null,h,p,g=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.animationDisabled=h,this.maxAnimationTimeout=p,this.tracingService=g,this.platformIsServer=!1,this.defaultRenderer=new Mu(t,s,u,this.platformIsServer,this.tracingService,this.registry=_h(),this.maxAnimationTimeout)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Af?i.applyToHost(t):i instanceof xu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case zr.Emulated:o=new Af(u,l,r,this.appId,h,s,a,p,g,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case zr.ShadowDom:return new Y_(u,l,t,r,s,a,this.nonce,p,g,this.registry,this.maxAnimationTimeout);default:o=new xu(u,l,r,h,s,a,p,g,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Q(J_),Q(Z_),Q(Wh),Q(Rj),Q(et),Q(Ri),Q(be),Q(Qh),Q(y_),Q(v_),Q(qo,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Mu=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o,s,a){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(K_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(UA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(UA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){let{elements:r}=this.registry;if(r){r.animate(t,()=>t.remove(),this.maxAnimationTimeout);return}t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=K_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=K_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(fr.DashCase|fr.Important)?e.style.setProperty(t,r,i&fr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&fr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Cn().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function UA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Y_=class extends Mu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l,h,p){super(e,o,s,u,l,h,p),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=i.styles;g=$A(i.id,g);for(let b of g){let P=document.createElement("style");a&&P.setAttribute("nonce",a),P.textContent=b,this.shadowRoot.appendChild(P)}let y=i.getExternalStyles?.();if(y)for(let b of y){let P=Q_(b,o);a&&P.setAttribute("nonce",a),this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xu=class extends Mu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,t,r,i,o,s,a,u,l,h,p,g){super(e,o,s,a,u,l,p),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this._animationDisabled=h;let y=r.styles;this.styles=g?$A(g,y):y,this.styleUrls=r.getExternalStyles?.(g)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Af=class extends xu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l,h,p,g){let y=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h,p,g,y),this.contentAttr=Nj(y),this.hostAttr=Mj(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Nf=class n extends Iu{supportsDOMEvents=!0;static makeCurrent(){N_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=xj();return t==null?null:Pj(t)}resetBaseElement(){Pu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ru(document.cookie,e)}},Pu=null;function xj(){return Pu=Pu||document.head.querySelector("base"),Pu?Pu.getAttribute("href"):null}function Pj(n){return new URL(n,document.baseURI).pathname}var kj=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),zA=(()=>{class n extends Nu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Q(et))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),HA=["alt","control","meta","shift"],Oj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},qA=(()=>{class n extends Nu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),HA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=Oj[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),HA.forEach(s=>{if(s!==i){let a=Fj[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Q(et))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function tE(n,e,t){let r=V({rootComponent:n,platformRef:t?.platformRef},Lj(e));return lA(r)}function Lj(n){return{appProviders:[...$j,...n?.providers??[]],platformProviders:Bj}}function Vj(){Nf.makeCurrent()}function jj(){return new On}function Uj(){return Lv(document),document}var Bj=[{provide:Ri,useValue:FA},{provide:Kh,useValue:Vj,multi:!0},{provide:et,useFactory:Uj}];var $j=[{provide:Wc,useValue:"root"},{provide:On,useFactory:jj},{provide:Rf,useClass:zA,multi:!0,deps:[et]},{provide:Rf,useClass:qA,multi:!0,deps:[et]},eE,Z_,J_,{provide:Vo,useExisting:eE},{provide:Qo,useClass:kj},[]];var fa=class{},Fu=class{},Yo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var xf=class{encodeKey(e){return GA(e)}encodeValue(e){return GA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Hj(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var zj=/%(\d[a-f0-9])/gi,qj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GA(n){return encodeURIComponent(n).replace(zj,(e,t)=>qj[t]??e)}function Mf(n){return`${n}`}var ki=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new xf,e.fromString){if(e.fromObject)throw new U(2805,!1);this.map=Hj(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Mf):[Mf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Mf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Mf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Pf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Gj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function WA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function KA(n){return typeof Blob<"u"&&n instanceof Blob}function QA(n){return typeof FormData<"u"&&n instanceof FormData}function Wj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var YA="Content-Type",JA="Accept",ZA="X-Request-URL",XA="text/plain",eR="application/json",Kj=`${eR}, ${XA}, */*`,ku=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(Gj(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new U(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Yo,this.context??=new Pf,!this.params)this.params=new ki,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||WA(this.body)||KA(this.body)||QA(this.body)||Wj(this.body)?this.body:this.body instanceof ki?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||QA(this.body)?null:KA(this.body)?this.body.type||null:WA(this.body)?null:typeof this.body=="string"?XA:this.body instanceof ki?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?eR:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,u=e.mode||this.mode,l=e.redirect||this.redirect,h=e.credentials||this.credentials,p=e.referrer||this.referrer,g=e.integrity||this.integrity,y=e.transferCache??this.transferCache,b=e.timeout??this.timeout,P=e.body!==void 0?e.body:this.body,N=e.withCredentials??this.withCredentials,F=e.reportProgress??this.reportProgress,W=e.headers||this.headers,J=e.params||this.params,X=e.context??this.context;return e.setHeaders!==void 0&&(W=Object.keys(e.setHeaders).reduce((Le,pe)=>Le.set(pe,e.setHeaders[pe]),W)),e.setParams&&(J=Object.keys(e.setParams).reduce((Le,pe)=>Le.set(pe,e.setParams[pe]),J)),new n(t,r,P,{params:J,headers:W,context:X,reportProgress:F,responseType:i,withCredentials:N,transferCache:y,keepalive:o,cache:a,priority:s,timeout:b,mode:u,redirect:l,credentials:h,referrer:p,integrity:g})}},ha=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(ha||{}),pa=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new Yo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},kf=class n extends pa{constructor(e={}){super(e)}type=ha.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Of=class n extends pa{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ha.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Ou=class extends pa{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Qj=200,Yj=204;function nE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var Jj=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ku)o=t;else{let u;i.headers instanceof Yo?u=i.headers:u=new Yo(i.headers);let l;i.params&&(i.params instanceof ki?l=i.params:l=new ki({fromObject:i.params})),o=new ku(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=K(o).pipe(sr(u=>this.handler.handle(u)));if(t instanceof ku||i.observe==="events")return s;let a=s.pipe(Ot(u=>u instanceof Of));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ce(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new U(2806,!1);return u.body}));case"blob":return a.pipe(ce(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new U(2807,!1);return u.body}));case"text":return a.pipe(ce(u=>{if(u.body!==null&&typeof u.body!="string")throw new U(2808,!1);return u.body}));case"json":default:return a.pipe(ce(u=>u.body))}case"response":return a;default:throw new U(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ki().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,nE(i,r))}post(t,r,i={}){return this.request("POST",t,nE(i,r))}put(t,r,i={}){return this.request("PUT",t,nE(i,r))}static \u0275fac=function(r){return new(r||n)(Q(fa))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var Zj=new $("");function Xj(n,e){return e(n)}function eU(n,e,t){return(r,i)=>Xe(t,()=>e(r,o=>n(o,i)))}var iE=new $(""),tU=new $(""),tR=new $("",{providedIn:"root",factory:()=>!0});var Ff=(()=>{class n extends fa{backend;injector;chain=null;pendingTasks=x(Si);contributeToStability=x(tR);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(iE),...this.injector.get(tU,[])]));this.chain=r.reduceRight((i,o)=>eU(i,o,this.injector),Xj)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Eo(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Q(Fu),Q(Ge))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var nU=/^\)\]\}',?\n/,rU=RegExp(`^${ZA}:`,"m");function iU(n){return"responseURL"in n&&n.responseURL?n.responseURL:rU.test(n.getAllResponseHeaders())?n.getResponseHeader(ZA):null}var rE=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new U(-2800,!1);let r=this.xhrFactory;return K(null).pipe(qe(()=>new Z(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,F)=>s.setRequestHeader(N,F.join(","))),t.headers.has(JA)||s.setRequestHeader(JA,Kj),!t.headers.has(YA)){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader(YA,N)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",F=new Yo(s.getAllResponseHeaders()),W=iU(s)||t.url;return u=new kf({headers:F,status:s.status,statusText:N,url:W}),u},h=()=>{let{headers:N,status:F,statusText:W,url:J}=l(),X=null;F!==Yj&&(X=typeof s.response>"u"?s.responseText:s.response),F===0&&(F=X?Qj:0);let Le=F>=200&&F<300;if(t.responseType==="json"&&typeof X=="string"){let pe=X;X=X.replace(nU,"");try{X=X!==""?JSON.parse(X):null}catch(D){X=pe,Le&&(Le=!1,X={error:D,text:X})}}Le?(o.next(new Of({body:X,headers:N,status:F,statusText:W,url:J||void 0})),o.complete()):o.error(new Ou({error:X,headers:N,status:F,statusText:W,url:J||void 0}))},p=N=>{let{url:F}=l(),W=new Ou({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:F||void 0});o.error(W)},g=p;t.timeout&&(g=N=>{let{url:F}=l(),W=new Ou({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:F||void 0});o.error(W)});let y=!1,b=N=>{y||(o.next(l()),y=!0);let F={type:ha.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(F.total=N.total),t.responseType==="text"&&s.responseText&&(F.partialText=s.responseText),o.next(F)},P=N=>{let F={type:ha.UploadProgress,loaded:N.loaded};N.lengthComputable&&(F.total=N.total),o.next(F)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",g),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",b),a!==null&&s.upload&&s.upload.addEventListener("progress",P)),s.send(a),o.next({type:ha.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",b),a!==null&&s.upload&&s.upload.removeEventListener("progress",P)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Q(Qo))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),nR=new $(""),oU="XSRF-TOKEN",sU=new $("",{providedIn:"root",factory:()=>oU}),aU="X-XSRF-TOKEN",cU=new $("",{providedIn:"root",factory:()=>aU}),Lu=class{},uU=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ru(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Q(et),Q(sU))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function lU(n,e){let t=n.url.toLowerCase();if(!x(nR)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(Lu).getToken(),i=x(cU);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var oE=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(oE||{});function dU(n,e){return{\u0275kind:n,\u0275providers:e}}function sE(...n){let e=[Jj,rE,Ff,{provide:fa,useExisting:Ff},{provide:Fu,useFactory:()=>x(Zj,{optional:!0})??x(rE)},{provide:iE,useValue:lU,multi:!0},{provide:nR,useValue:!0},{provide:Lu,useClass:uU}];for(let t of n)e.push(...t.\u0275providers);return hn(e)}function aE(n){return dU(oE.Interceptors,n.map(e=>({provide:iE,useValue:e,multi:!0})))}var rR=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Q(et))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ue="primary",Yu=Symbol("RouteTitle"),hE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Xo(n){return new hE(n)}function dR(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vr(n[t],e[t]))return!1;return!0}function vr(n,e){let t=n?fE(n):void 0,r=e?fE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!hR(n[i],e[i]))return!1;return!0}function fE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function hR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function fR(n){return n.length>0?n[n.length-1]:null}function Jr(n){return Qm(n)?n:Kr(n)?Oe(Promise.resolve(n)):K(n)}var pU={exact:gR,subset:mR},pR={exact:gU,subset:mU,ignored:()=>!0};function iR(n,e,t){return pU[t.paths](n.root,e.root,t.matrixParams)&&pR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function gU(n,e){return vr(n,e)}function gR(n,e,t){if(!Jo(n.segments,e.segments)||!jf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!gR(n.children[r],e.children[r],t))return!1;return!0}function mU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>hR(n[t],e[t]))}function mR(n,e,t){return yR(n,e,e.segments,t)}function yR(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Jo(i,t)||e.hasChildren()||!jf(i,t,r))}else if(n.segments.length===t.length){if(!Jo(n.segments,t)||!jf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!mR(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Jo(n.segments,i)||!jf(n.segments,i,r)||!n.children[ue]?!1:yR(n.children[ue],e,o,r)}}function jf(n,e,t){return e.every((r,i)=>pR[t](n[i].parameters,r.parameters))}var Er=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Re([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){return _U.serialize(this)}},Re=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uf(this)}},Oi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Xo(this.parameters),this._parameterMap}toString(){return _R(this)}};function yU(n,e){return Jo(n,e)&&n.every((t,r)=>vr(t.parameters,e[r].parameters))}function Jo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function vU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ue&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ue&&(t=t.concat(e(i,r)))}),t}var es=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new Fi,providedIn:"root"})}return n})(),Fi=class{parse(e){let t=new gE(e);return new Er(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Vu(e.root,!0)}`,r=wU(e.queryParams),i=typeof e.fragment=="string"?`#${EU(e.fragment)}`:"";return`${t}${r}${i}`}},_U=new Fi;function Uf(n){return n.segments.map(e=>_R(e)).join("/")}function Vu(n,e){if(!n.hasChildren())return Uf(n);if(e){let t=n.children[ue]?Vu(n.children[ue],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${Vu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=vU(n,(r,i)=>i===ue?[Vu(n.children[ue],!1)]:[`${i}:${Vu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ue]!=null?`${Uf(n)}/${t[0]}`:`${Uf(n)}/(${t.join("//")})`}}function vR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lf(n){return vR(n).replace(/%3B/gi,";")}function EU(n){return encodeURI(n)}function pE(n){return vR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bf(n){return decodeURIComponent(n)}function oR(n){return Bf(n.replace(/\+/g,"%20"))}function _R(n){return`${pE(n.path)}${IU(n.parameters)}`}function IU(n){return Object.entries(n).map(([e,t])=>`;${pE(e)}=${pE(t)}`).join("")}function wU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Lf(t)}=${Lf(i)}`).join("&"):`${Lf(t)}=${Lf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var DU=/^[^\/()?;#]+/;function cE(n){let e=n.match(DU);return e?e[0]:""}var TU=/^[^\/()?;=#]+/;function bU(n){let e=n.match(TU);return e?e[0]:""}var CU=/^[^=?&#]+/;function SU(n){let e=n.match(CU);return e?e[0]:""}var AU=/^[^&#]+/;function RU(n){let e=n.match(AU);return e?e[0]:""}var gE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new Re(e,t)),r}parseSegment(){let e=cE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Oi(Bf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=bU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=cE(this.remaining);i&&(r=i,this.capture(r))}e[Bf(t)]=Bf(r)}parseQueryParam(e){let t=SU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=RU(this.remaining);s&&(r=s,this.capture(r))}let i=oR(t),o=oR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=cE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ue]:new Re([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function ER(n){return n.segments.length>0?new Re([],{[ue]:n}):n}function IR(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=IR(i);if(r===ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Re(n.segments,e);return NU(t)}function NU(n){if(n.numberOfChildren===1&&n.children[ue]){let e=n.children[ue];return new Re(n.segments.concat(e.segments),e.children)}return n}function Li(n){return n instanceof Er}function wR(n,e,t=null,r=null){let i=DR(n);return TR(i,e,t,r)}function DR(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Re(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=ER(r);return e??i}function TR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return uE(i,i,i,t,r);let o=MU(e);if(o.toRoot())return uE(i,i,new Re([],{}),t,r);let s=xU(o,i,n),a=s.processChildren?Uu(s.segmentGroup,s.index,o.commands):CR(s.segmentGroup,s.index,o.commands);return uE(i,s.segmentGroup,a,t,r)}function $f(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function $u(n){return typeof n=="object"&&n!=null&&n.outlets}function uE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=bR(n,e,t);let a=ER(IR(s));return new Er(a,o,i)}function bR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=bR(o,e,t)}),new Re(n.segments,r)}var Hf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$f(r[0]))throw new U(4003,!1);let i=r.find($u);if(i&&i!==fR(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function MU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Hf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Hf(t,e,r)}var ya=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function xU(n,e,t){if(n.isAbsolute)return new ya(e,!0,0);if(!t)return new ya(e,!1,NaN);if(t.parent===null)return new ya(t,!0,0);let r=$f(n.commands[0])?0:1,i=t.segments.length-1+r;return PU(t,i,n.numberOfDoubleDots)}function PU(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new ya(r,!1,i-o)}function kU(n){return $u(n[0])?n[0].outlets:{[ue]:n}}function CR(n,e,t){if(n??=new Re([],{}),n.segments.length===0&&n.hasChildren())return Uu(n,e,t);let r=OU(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Re(n.segments.slice(0,r.pathIndex),{});return o.children[ue]=new Re(n.segments.slice(r.pathIndex),n.children),Uu(o,0,i)}else return r.match&&i.length===0?new Re(n.segments,{}):r.match&&!n.hasChildren()?mE(n,e,t):r.match?Uu(n,0,i):mE(n,e,t)}function Uu(n,e,t){if(t.length===0)return new Re(n.segments,{});{let r=kU(t),i={};if(Object.keys(r).some(o=>o!==ue)&&n.children[ue]&&n.numberOfChildren===1&&n.children[ue].segments.length===0){let o=Uu(n.children[ue],e,t);return new Re(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=CR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Re(n.segments,i)}}function OU(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if($u(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!aR(u,l,s))return o;r+=2}else{if(!aR(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if($u(o)){let u=FU(o.outlets);return new Re(r,u)}if(i===0&&$f(t[0])){let u=n.segments[e];r.push(new Oi(u.path,sR(t[0]))),i++;continue}let s=$u(o)?o.outlets[ue]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&$f(a)?(r.push(new Oi(s,sR(a))),i+=2):(r.push(new Oi(s,{})),i++)}return new Re(r,{})}function FU(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=mE(new Re([],{}),0,r))}),e}function sR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function aR(n,e,t){return n==t.path&&vr(e,t.parameters)}var va="imperative",mt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(mt||{}),mn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Vi=class extends mn{type=mt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},An=class extends mn{urlAfterRedirects;type=mt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Kt||{}),Ea=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Ea||{}),_r=class extends mn{reason;code;type=mt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ir=class extends mn{reason;code;type=mt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ia=class extends mn{error;target;type=mt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hu=class extends mn{urlAfterRedirects;state;type=mt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zf=class extends mn{urlAfterRedirects;state;type=mt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qf=class extends mn{urlAfterRedirects;state;shouldActivate;type=mt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gf=class extends mn{urlAfterRedirects;state;type=mt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wf=class extends mn{urlAfterRedirects;state;type=mt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kf=class{route;type=mt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qf=class{route;type=mt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Yf=class{snapshot;type=mt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jf=class{snapshot;type=mt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zf=class{snapshot;type=mt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xf=class{snapshot;type=mt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wa=class{routerEvent;position;anchor;type=mt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},zu=class{},Da=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function LU(n){return!(n instanceof zu)&&!(n instanceof Da)}function VU(n,e){return n.providers&&!n._injector&&(n._injector=sa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Zn(n){return n.outlet||ue}function jU(n,e){let t=n.filter(r=>Zn(r)===e);return t.push(...n.filter(r=>Zn(r)!==e)),t}function Ca(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ep=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ca(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ts(this.rootInjector)}},ts=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ep(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Q(Ge))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=yE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=yE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=vE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vE(e,this._root).map(t=>t.value)}};function yE(n,e){if(n===e.value)return e;for(let t of e.children){let r=yE(n,t);if(r)return r}return null}function vE(n,e){if(n===e.value)return[e];for(let t of e.children){let r=vE(n,t);if(r.length)return r.unshift(e),r}return[]}var gn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ma(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var qu=class extends tp{snapshot;constructor(e,t){super(e),this.snapshot=t,CE(this,e)}toString(){return this.snapshot.toString()}};function SR(n){let e=UU(n),t=new Dt([new Oi("",{})]),r=new Dt({}),i=new Dt({}),o=new Dt({}),s=new Dt(""),a=new wr(t,r,o,s,i,ue,n,e.root);return a.snapshot=e.root,new qu(new gn(a,[]),e)}function UU(n){let e={},t={},r={},o=new Zo([],e,r,"",t,ue,n,null,{});return new Gu("",new gn(o,[]))}var wr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[Yu]))??K(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>Xo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>Xo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function np(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&RR(i)&&(r.resolve[Yu]=i.title),r}var Zo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Yu]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Gu=class extends tp{url;constructor(e,t){super(t),this.url=e,CE(this,t)}toString(){return AR(this._root)}};function CE(n,e){e.value._routerState=n,e.children.forEach(t=>CE(n,t))}function AR(n){let e=n.children.length>0?` { ${n.children.map(AR).join(", ")} } `:"";return`${n.value}${e}`}function lE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),vr(e.params,t.params)||n.paramsSubject.next(t.params),fU(e.url,t.url)||n.urlSubject.next(t.url),vr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _E(n,e){let t=vr(n.params,e.params)&&yU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||_E(n.parent,e.parent))}function RR(n){return typeof n.title=="string"||n.title===null}var NR=new $(""),Ju=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ue;activateEvents=new Ve;deactivateEvents=new Ve;attachEvents=new Ve;detachEvents=new Ve;routerOutletData=cA(void 0);parentContexts=x(ts);location=x(Wr);changeDetector=x(Mi);inputBinder=x(Zu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new EE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ke({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Un]})}return n})(),EE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===wr?this.route:e===ts?this.childContexts:e===NR?this.outletData:this.parent.get(e,t)}},Zu=new $(""),SE=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=_o([r.queryParams,r.params,r.data]).pipe(qe(([o,s,a],u)=>(a=V(V(V({},o),s),a),u===0?K(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=dA(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),AE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ce({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ie(0,"router-outlet")},dependencies:[Ju],encapsulation:2})}return n})();function RE(n){let e=n.children&&n.children.map(RE),t=e?te(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=AE),t}function BU(n,e,t){let r=Wu(n,e._root,t?t._root:void 0);return new qu(r,e)}function Wu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=$U(n,e,t);return new gn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wu(n,a)),s}}let r=HU(e.value),i=e.children.map(o=>Wu(n,o));return new gn(r,i)}}function $U(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wu(n,r,i);return Wu(n,r)})}function HU(n){return new wr(new Dt(n.url),new Dt(n.params),new Dt(n.queryParams),new Dt(n.fragment),new Dt(n.data),n.outlet,n.component,n)}var Ta=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},MR="ngNavigationCancelingError";function rp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Li(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xR(!1,Kt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function xR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[MR]=!0,t.cancellationCode=e,t}function zU(n){return PR(n)&&Li(n.url)}function PR(n){return!!n&&n[MR]}var qU=(n,e,t,r)=>ce(i=>(new IE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),IE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),lE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ma(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ma(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ma(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ma(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Jf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(lE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ip=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_a=class{component;route;constructor(e,t){this.component=e,this.route=t}};function GU(n,e,t){let r=n._root,i=e?e._root:null;return ju(r,i,t,[r.value])}function WU(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Sa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!gy(n)?n:e.get(n):r}function ju(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ma(e);return n.children.forEach(s=>{KU(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Bu(a,t.getContext(s),i)),i}function KU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=QU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ip(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ju(n,e,a?a.children:null,r,i):ju(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _a(a.outlet.component,s))}else s&&Bu(e,a,i),i.canActivateChecks.push(new ip(r)),o.component?ju(n,null,a?a.children:null,r,i):ju(n,null,t,r,i);return i}function QU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jo(n.url,e.url)||!vr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_E(n,e)||!vr(n.queryParams,e.queryParams);case"paramsChange":default:return!_E(n,e)}}function Bu(n,e,t){let r=ma(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Bu(s,e.children.getContext(o),t):Bu(s,null,t):Bu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new _a(e.outlet.component,i)):t.canDeactivateChecks.push(new _a(null,i)):t.canDeactivateChecks.push(new _a(null,i))}function Xu(n){return typeof n=="function"}function YU(n){return typeof n=="boolean"}function JU(n){return n&&Xu(n.canLoad)}function ZU(n){return n&&Xu(n.canActivate)}function XU(n){return n&&Xu(n.canActivateChild)}function eB(n){return n&&Xu(n.canDeactivate)}function tB(n){return n&&Xu(n.canMatch)}function kR(n){return n instanceof Or||n?.name==="EmptyError"}var Vf=Symbol("INITIAL_VALUE");function ba(){return qe(n=>_o(n.map(e=>e.pipe(Fr(1),Xm(Vf)))).pipe(ce(e=>{for(let t of e)if(t!==!0){if(t===Vf)return Vf;if(t===!1||nB(t))return t}return!0}),Ot(e=>e!==Vf),Fr(1)))}function nB(n){return Li(n)||n instanceof Ta}function rB(n,e){return rt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?K(te(V({},t),{guardsResult:!0})):iB(s,r,i,n).pipe(rt(a=>a&&YU(a)?oB(r,o,n,e):K(a)),ce(a=>te(V({},t),{guardsResult:a})))})}function iB(n,e,t,r){return Oe(n).pipe(rt(i=>lB(i.component,i.route,t,e,r)),Lr(i=>i!==!0,!0))}function oB(n,e,t,r){return Oe(e).pipe(sr(i=>$s(aB(i.route.parent,r),sB(i.route,r),uB(n,i.path,t),cB(n,i.route,t))),Lr(i=>i!==!0,!0))}function sB(n,e){return n!==null&&e&&e(new Zf(n)),K(!0)}function aB(n,e){return n!==null&&e&&e(new Yf(n)),K(!0)}function cB(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>Uc(()=>{let s=Ca(e)??t,a=Sa(o,s),u=ZU(a)?a.canActivate(e,n):Xe(s,()=>a(e,n));return Jr(u).pipe(Lr())}));return K(i).pipe(ba())}function uB(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>WU(s)).filter(s=>s!==null).map(s=>Uc(()=>{let a=s.guards.map(u=>{let l=Ca(s.node)??t,h=Sa(u,l),p=XU(h)?h.canActivateChild(r,n):Xe(l,()=>h(r,n));return Jr(p).pipe(Lr())});return K(a).pipe(ba())}));return K(o).pipe(ba())}function lB(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let u=Ca(e)??i,l=Sa(a,u),h=eB(l)?l.canDeactivate(n,e,t,r):Xe(u,()=>l(n,e,t,r));return Jr(h).pipe(Lr())});return K(s).pipe(ba())}function dB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=Sa(s,n),u=JU(a)?a.canLoad(e,t):Xe(n,()=>a(e,t));return Jr(u)});return K(o).pipe(ba(),OR(r))}function OR(n){return Bm(ct(e=>{if(typeof e!="boolean")throw rp(n,e)}),ce(e=>e===!0))}function hB(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=Sa(s,n),u=tB(a)?a.canMatch(e,t):Xe(n,()=>a(e,t));return Jr(u)});return K(o).pipe(ba(),OR(r))}var Ku=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Qu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ga(n){return Us(new Ku(n))}function fB(n){return Us(new U(4e3,!1))}function pB(n){return Us(xR(!1,Kt.GuardRejected))}var wE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[ue])return fB(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,t,r,i,o){return gB(t,i,o).pipe(ce(s=>{if(s instanceof Er)throw new Qu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Qu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Er(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Re(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function gB(n,e,t){if(typeof n=="string")return K(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Jr(Xe(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var DE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mB(n,e,t,r,i){let o=FR(n,e,t);return o.matched?(r=VU(e,r),hB(r,e,t,i).pipe(ce(s=>s===!0?o:V({},DE)))):K(o)}function FR(n,e,t){if(e.path==="**")return yB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},DE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||dR)(t,n,e);if(!i)return V({},DE);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function yB(n){return{matched:!0,parameters:n.length>0?fR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function cR(n,e,t,r){return t.length>0&&EB(n,t,r)?{segmentGroup:new Re(e,_B(r,new Re(t,n.children))),slicedSegments:[]}:t.length===0&&IB(n,t,r)?{segmentGroup:new Re(n.segments,vB(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Re(n.segments,n.children),slicedSegments:t}}function vB(n,e,t,r){let i={};for(let o of t)if(sp(n,e,o)&&!r[Zn(o)]){let s=new Re([],{});i[Zn(o)]=s}return V(V({},r),i)}function _B(n,e){let t={};t[ue]=e;for(let r of n)if(r.path===""&&Zn(r)!==ue){let i=new Re([],{});t[Zn(r)]=i}return t}function EB(n,e,t){return t.some(r=>sp(n,e,r)&&Zn(r)!==ue)}function IB(n,e,t){return t.some(r=>sp(n,e,r))}function sp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function wB(n,e,t){return e.length===0&&!n.children[t]}var TE=class{};function DB(n,e,t,r,i,o,s="emptyOnly"){return new bE(n,e,t,r,i,s,o).recognize()}var TB=31,bE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wE(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=cR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:t,rootSnapshot:r})=>{let i=new gn(r,t),o=new Gu("",i),s=wR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Zo([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,t).pipe(ce(r=>({children:r,rootSnapshot:t})),kn(r=>{if(r instanceof Qu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ku?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof gn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Oe(o).pipe(sr(s=>{let a=r.children[s],u=jU(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Zm((s,a)=>(s.push(...a),s)),yi(null),Jm(),rt(s=>{if(s===null)return ga(r);let a=LR(s);return bB(a),K(a)}))}processSegment(e,t,r,i,o,s,a){return Oe(t).pipe(sr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(kn(l=>{if(l instanceof Ku)return K(null);throw l}))),Lr(u=>!!u),kn(u=>{if(kR(u))return wB(r,i,o)?K(new TE):ga(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Zn(r)!==s&&(s===ue||!sp(i,o,r))?ga(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ga(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=FR(t,i,o);if(!u)return ga(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TB&&(this.allowRedirects=!1));let y=new Zo(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,uR(i),Zn(i),i.component??i._loadedComponent??null,i,lR(i)),b=np(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(b.params),y.data=Object.freeze(b.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(qe(N=>this.applyRedirects.lineralizeSegments(i,N)),rt(N=>this.processSegment(e,r,t,N.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=mB(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(qe(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qe(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,b=new Zo(g,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,uR(r),Zn(r),r.component??r._loadedComponent??null,r,lR(r)),P=np(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(P.params),b.data=Object.freeze(P.data);let{segmentGroup:N,slicedSegments:F}=cR(t,g,y,l);if(F.length===0&&N.hasChildren())return this.processChildren(h,l,N,b).pipe(ce(J=>new gn(b,J)));if(l.length===0&&F.length===0)return K(new gn(b,[]));let W=Zn(r)===o;return this.processSegment(h,l,N,F,W?ue:o,!0,b).pipe(ce(J=>new gn(b,J instanceof gn?[J]:[])))}))):ga(t)))}getChildConfig(e,t,r){return t.children?K({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?K({routes:t._loadedRoutes,injector:t._loadedInjector}):dB(e,t,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(e,t).pipe(ct(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):pB(t))):K({routes:[],injector:e})}};function bB(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}function CB(n){let e=n.value.routeConfig;return e&&e.path===""}function LR(n){let e=[],t=new Set;for(let r of n){if(!CB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=LR(r.children);e.push(new gn(r.value,i))}return e.filter(r=>!t.has(r))}function uR(n){return n.data||{}}function lR(n){return n.resolve||{}}function SB(n,e,t,r,i,o){return rt(s=>DB(n,e,t,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:u})=>te(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function AB(n,e){return rt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of VR(u))s.add(l);let a=0;return Oe(s).pipe(sr(u=>o.has(u)?RB(u,r,n,e):(u.data=np(u,u.parent,n).resolve,K(void 0))),ct(()=>a++),Hs(1),rt(u=>a===s.size?K(t):Jt))})}function VR(n){let e=n.children.map(t=>VR(t)).flat();return[n,...e]}function RB(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!RR(i)&&(o[Yu]=i.title),Uc(()=>(n.data=np(n,n.parent,t).resolve,NB(o,n,e,r).pipe(ce(s=>(n._resolvedData=s,n.data=V(V({},n.data),s),null)))))}function NB(n,e,t,r){let i=fE(n);if(i.length===0)return K({});let o={};return Oe(i).pipe(rt(s=>MB(n[s],e,t,r).pipe(Lr(),ct(a=>{if(a instanceof Ta)throw rp(new Fi,a);o[s]=a}))),Hs(1),ce(()=>o),kn(s=>kR(s)?Jt:Us(s)))}function MB(n,e,t,r){let i=Ca(e)??r,o=Sa(n,i),s=o.resolve?o.resolve(e,t):Xe(i,()=>o(e,t));return Jr(s)}function dE(n){return qe(e=>{let t=n(e);return t?Oe(t).pipe(ce(()=>e)):K(e)})}var NE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[Yu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>x(jR),providedIn:"root"})}return n})(),jR=(()=>{class n extends NE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Q(rR))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ji=new $("",{providedIn:"root",factory:()=>({})}),ns=new $(""),ap=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(w_);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Jr(Xe(t,()=>r.loadComponent())).pipe(ce(BR),qe($R),ct(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Eo(()=>{this.componentLoaders.delete(r)})),o=new Fs(i,()=>new st).pipe(Os());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=UR(r,this.compiler,t,this.onLoadEndListener).pipe(Eo(()=>{this.childrenLoaders.delete(r)})),s=new Fs(o,()=>new st).pipe(Os());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UR(n,e,t,r){return Jr(Xe(t,()=>n.loadChildren())).pipe(ce(BR),qe($R),rt(i=>i instanceof rf||Array.isArray(i)?K(i):Oe(e.compileModuleAsync(i))),ce(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(ns,[],{optional:!0,self:!0}).flat()),{routes:s.map(RE),injector:o}}))}function xB(n){return n&&typeof n=="object"&&"default"in n}function BR(n){return xB(n)?n.default:n}function $R(n){return K(n)}var cp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>x(PB),providedIn:"root"})}return n})(),PB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ME=new $(""),xE=new $("");function HR(n,e,t){let r=n.get(xE),i=n.get(et);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),kB(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&Xe(n,()=>u({transition:a,from:e,to:t})),s}function kB(n){return new Promise(e=>{sf({read:()=>setTimeout(e)},{injector:n})})}var PE=new $(""),up=(()=>{class n{currentNavigation=en(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new st;transitionAbortWithErrorSubject=new st;configLoader=x(ap);environmentInjector=x(Ge);destroyRef=x(lr);urlSerializer=x(es);rootContexts=x(ts);location=x(Pi);inputBindingEnabled=x(Zu,{optional:!0})!==null;titleStrategy=x(NE);options=x(ji,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(cp);createViewTransition=x(ME,{optional:!0});navigationErrorHandler=x(PE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Kf(i)),r=i=>this.events.next(new Qf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ut(()=>{this.transitions?.next(te(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Dt(null),this.transitions.pipe(Ot(r=>r!==null),qe(r=>{let i=!1;return K(r).pipe(qe(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Kt.SupersededByNewNavigation),Jt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?te(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Ir(o.id,this.urlSerializer.serialize(o.rawUrl),"",Ea.IgnoredSameUrlNavigation)),o.resolve(!1),Jt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return K(o).pipe(qe(u=>(this.events.next(new Vi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Jt:Promise.resolve(u))),SB(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ct(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Hu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new Vi(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let b=SR(this.rootComponentType).snapshot;return this.currentTransition=r=te(V({},o),{targetSnapshot:b,urlAfterRedirects:l,extras:te(V({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(P=>(P.finalUrl=l,P)),K(r)}else return this.events.next(new Ir(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Ea.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Jt}),ct(o=>{let s=new zf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ce(o=>(this.currentTransition=r=te(V({},o),{guards:GU(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),rB(this.environmentInjector,o=>this.events.next(o)),ct(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw rp(this.urlSerializer,o.guardsResult);let s=new qf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ot(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Kt.GuardRejected),!1)),dE(o=>{if(o.guards.canActivateChecks.length!==0)return K(o).pipe(ct(s=>{let a=new Gf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),qe(s=>{let a=!1;return K(s).pipe(AB(this.paramsInheritanceStrategy,this.environmentInjector),ct({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Kt.NoDataFromResolver)}}))}),ct(s=>{let a=new Wf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),dE(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Ca(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(ct(h=>{a.component=h}),ce(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return _o(s(o.targetSnapshot.root)).pipe(yi(null),Fr(1))}),dE(()=>this.afterPreactivation()),qe(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Oe(a).pipe(ce(()=>r)):K(r)}),ce(o=>{let s=BU(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=te(V({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),ct(()=>{this.events.next(new zu)}),qU(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Fr(1),Zd(new Z(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ot(()=>!i&&!r.targetRouterState),ct(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Kt.Aborted)}))),ct({next:o=>{i=!0,this.lastSuccessfulNavigation=ut(this.currentNavigation),this.events.next(new An(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Zd(this.transitionAbortWithErrorSubject.pipe(ct(o=>{throw o}))),Eo(()=>{i||this.cancelNavigationTransition(r,"",Kt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),kn(o=>{if(this.destroyed)return r.resolve(!1),Jt;if(i=!0,PR(o))this.events.next(new _r(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),zU(o)?this.events.next(new Da(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ia(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Xe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Ta){let{message:u,cancellationCode:l}=rp(this.urlSerializer,a);this.events.next(new _r(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Da(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Jt}))}))}cancelNavigationTransition(t,r,i){let o=new _r(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ut(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OB(n){return n!==va}var zR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>x(FB),providedIn:"root"})}return n})(),op=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},FB=(()=>{class n extends op{static \u0275fac=(()=>{let t;return function(i){return(t||(t=$o(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qR=(()=>{class n{urlSerializer=x(es);options=x(ji,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Pi);urlHandlingStrategy=x(cp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Er;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Er?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=SR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>x(LB),providedIn:"root"})}return n})(),LB=(()=>{class n extends qR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Vi?this.updateStateMemento():t instanceof Ir?this.commitTransition(r):t instanceof Hu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof _r&&t.code!==Kt.SupersededByNewNavigation&&t.code!==Kt.Redirect?this.restoreHistory(r):t instanceof Ia?this.restoreHistory(r,!0):t instanceof An&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$o(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lp(n,e){n.events.pipe(Ot(t=>t instanceof An||t instanceof _r||t instanceof Ia||t instanceof Ir),ce(t=>t instanceof An||t instanceof Ir?0:(t instanceof _r?t.code===Kt.Redirect||t.code===Kt.SupersededByNewNavigation:!1)?2:1),Ot(t=>t!==2),Fr(1)).subscribe(()=>{e()})}var VB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(f_);stateManager=x(qR);options=x(ji,{optional:!0})||{};pendingTasks=x(dr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(up);urlSerializer=x(es);location=x(Pi);urlHandlingStrategy=x(cp);injector=x(Ge);_events=new st;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(zR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(ns,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(Zu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Je;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ut(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof _r&&r.code!==Kt.Redirect&&r.code!==Kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof An)this.navigated=!0;else if(r instanceof Da){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||OB(i.source)},s);this.scheduleNavigation(a,va,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}LU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),va,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Wt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ut(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(RE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=DR(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return TR(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Li(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,va,null,r)}navigate(t,r={skipLocationChange:!1}){return UB(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},VB):r===!1?i=V({},jB):i=r,Li(t))return iR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return iR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return lp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UB(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new U(4008,!1)}var dp=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=en(null);get href(){return ut(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new st;applicationErrorHandler=x(Wt);options=x(ji,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(x(new ff("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof An&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Li(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Li(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ne(Rn),ne(wr),lu("tabindex"),ne(Gr),ne(pr),ne(Kn))};static \u0275dir=Ke({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&$e("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&aa("href",i.reactiveHref(),$v)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xi],replaceUrl:[2,"replaceUrl","replaceUrl",xi],routerLink:"routerLink"},features:[Un]})}return n})();var el=class{};var GR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ot(t=>t instanceof An),sr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=sa(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Oe(i).pipe(Bs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=K(null);let o=i.pipe(rt(s=>s===null?K(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Oe([o,s]).pipe(Bs())}else return o})}static \u0275fac=function(r){return new(r||n)(Q(Rn),Q(Ge),Q(el),Q(ap))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WR=new $(""),BB=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=va;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof An?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ir&&t.code===Ea.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wa&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new wa(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){i_()};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function OE(n,...e){return hn([{provide:ns,multi:!0,useValue:n},[],{provide:wr,useFactory:KR,deps:[Rn]},{provide:pu,multi:!0,useFactory:QR},e.map(t=>t.\u0275providers)])}function KR(n){return n.routerState.root}function tl(n,e){return{\u0275kind:n,\u0275providers:e}}function QR(){let n=x(Ze);return e=>{let t=n.get(Ni);if(e!==t.components[0])return;let r=n.get(Rn),i=n.get(YR);n.get(FE)===1&&r.initialNavigation(),n.get(XR,null,{optional:!0})?.setUpPreloading(),n.get(WR,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var YR=new $("",{factory:()=>new st}),FE=new $("",{providedIn:"root",factory:()=>1});function JR(){let n=[{provide:Vv,useValue:!0},{provide:FE,useValue:0},cf(()=>{let e=x(Ze);return e.get(M_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Rn),o=e.get(YR);lp(i,()=>{r(!0)}),e.get(up).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))})];return tl(2,n)}function ZR(){let n=[cf(()=>{x(Rn).setUpLocationChangeListener()}),{provide:FE,useValue:2}];return tl(3,n)}var XR=new $("");function eN(n){return tl(0,[{provide:XR,useExisting:GR},{provide:el,useExisting:n}])}function tN(){return tl(8,[SE,{provide:Zu,useExisting:SE}])}function nN(n){oa("NgRouterViewTransitions");let e=[{provide:ME,useValue:HR},{provide:xE,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return tl(9,e)}var rN=[Pi,{provide:es,useClass:Fi},Rn,ts,{provide:wr,useFactory:KR,deps:[Rn]},ap,[]],nl=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[rN,[],{provide:ns,multi:!0,useValue:t},[],r?.errorHandler?{provide:PE,useValue:r.errorHandler}:[],{provide:ji,useValue:r||{}},r?.useHash?HB():zB(),$B(),r?.preloadingStrategy?eN(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?qB(r):[],r?.bindToComponentInputs?tN().\u0275providers:[],r?.enableViewTransitions?nN().\u0275providers:[],GB()]}}static forChild(t){return{ngModule:n,providers:[{provide:ns,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=$n({type:n});static \u0275inj=vn({})}return n})();function $B(){return{provide:WR,useFactory:()=>{let n=x(LA),e=x(be),t=x(ji),r=x(up),i=x(es);return t.scrollOffset&&n.setOffset(t.scrollOffset),new BB(i,r,n,e,t)}}}function HB(){return{provide:Kn,useClass:U_}}function zB(){return{provide:Kn,useClass:yf}}function qB(n){return[n.initialNavigation==="disabled"?ZR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?JR().\u0275providers:[]]}var kE=new $("");function GB(){return[{provide:kE,useFactory:QR},{provide:pu,multi:!0,useExisting:kE}]}var iN=()=>{};var aN=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},KB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},hp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new VE;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},VE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},QB=function(n){let e=aN(n);return hp.encodeByteArray(e,!0)},il=function(n){return QB(n).replace(/\./g,"")},fp=function(n){try{return hp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var YB=()=>UE().__FIREBASE_DEFAULTS__,JB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&fp(n[1]);return e&&JSON.parse(e)},pp=()=>{try{return iN()||YB()||JB()||ZB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},BE=n=>{var e,t;return(t=(e=pp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cN=n=>{let e=BE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$E=()=>{var n;return(n=pp())===null||n===void 0?void 0:n.config},HE=n=>{var e;return(e=pp())===null||e===void 0?void 0:e[`_${n}`]};var rs=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ui(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function gp(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function uN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[il(JSON.stringify(t)),il(JSON.stringify(s)),""].join(".")}var rl={};function XB(){let n={prod:[],emulator:[]};for(let e of Object.keys(rl))rl[e]?n.emulator.push(e):n.prod.push(e);return n}function e$(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var oN=!1;function mp(n,e){if(typeof window>"u"||typeof document>"u"||!Ui(window.location.host)||rl[n]===e||rl[n]||oN)return;rl[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=XB().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{oN=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=e$(r),y=t("text"),b=document.getElementById(y)||document.createElement("span"),P=t("learnmore"),N=document.getElementById(P)||document.createElement("a"),F=t("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let J=g.element;a(J),h(N,P);let X=l();u(W,F),J.append(W,b,N,X),document.body.appendChild(J)}o?(b.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function t$(){var n;let e=(n=pp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hN(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pN(){let n=_t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gN(){return!t$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ol(){try{return typeof indexedDB=="object"}catch{return!1}}function mN(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var n$="FirebaseError",yn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=n$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xn.prototype.create)}},Xn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?r$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new yn(i,a,r)}};function r$(n,e){return n.replace(i$,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var i$=/\{\$([^}]+)}/g;function yN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(sN(o)&&sN(s)){if(!Dr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function sN(n){return n!==null&&typeof n=="object"}function sl(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Aa(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ra(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function vN(n,e){let t=new jE(n,e);return t.subscribe.bind(t)}var jE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");o$(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=LE),i.error===void 0&&(i.error=LE),i.complete===void 0&&(i.complete=LE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function o$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function LE(){}var Xoe=14400*1e3;function St(n){return n&&n._delegate?n._delegate:n}var Qt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var is="[DEFAULT]";var zE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new rs;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a$(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:s$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function s$(n){return n===is?void 0:n}function a$(n){return n.instantiationMode==="EAGER"}var yp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new zE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var c$=[],me=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(me||{}),u$={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},l$=me.INFO,d$={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},h$=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=d$[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Tr=class{constructor(e){this.name=e,this._logLevel=l$,this._logHandler=h$,this._userLogHandler=null,c$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var f$=(n,e)=>e.some(t=>n instanceof t),_N,EN;function p$(){return _N||(_N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g$(){return EN||(EN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var IN=new WeakMap,GE=new WeakMap,wN=new WeakMap,qE=new WeakMap,KE=new WeakMap;function m$(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(br(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&IN.set(t,n)}).catch(()=>{}),KE.set(e,n),e}function y$(n){if(GE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});GE.set(n,e)}var WE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return GE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return br(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DN(n){WE=n(WE)}function v$(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(vp(this),e,...t);return wN.set(r,e.sort?e.sort():[e]),br(r)}:g$().includes(n)?function(...e){return n.apply(vp(this),e),br(IN.get(this))}:function(...e){return br(n.apply(vp(this),e))}}function _$(n){return typeof n=="function"?v$(n):(n instanceof IDBTransaction&&y$(n),f$(n,p$())?new Proxy(n,WE):n)}function br(n){if(n instanceof IDBRequest)return m$(n);if(qE.has(n))return qE.get(n);let e=_$(n);return e!==n&&(qE.set(n,e),KE.set(e,n)),e}var vp=n=>KE.get(n);function bN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=br(s);return r&&s.addEventListener("upgradeneeded",u=>{r(br(s.result),u.oldVersion,u.newVersion,br(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var E$=["get","getKey","getAll","getAllKeys","count"],I$=["put","add","delete","clear"],QE=new Map;function TN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(QE.get(e))return QE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=I$.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||E$.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return QE.set(e,o),o}DN(n=>te(V({},n),{get:(e,t,r)=>TN(e,t)||n.get(e,t,r),has:(e,t)=>!!TN(e,t)||n.has(e,t)}));var JE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(w$(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function w$(n){let e=n.getComponent();return e?.type==="VERSION"}var ZE="@firebase/app",CN="0.13.2";var Zr=new Tr("@firebase/app"),D$="@firebase/app-compat",T$="@firebase/analytics-compat",b$="@firebase/analytics",C$="@firebase/app-check-compat",S$="@firebase/app-check",A$="@firebase/auth",R$="@firebase/auth-compat",N$="@firebase/database",M$="@firebase/data-connect",x$="@firebase/database-compat",P$="@firebase/functions",k$="@firebase/functions-compat",O$="@firebase/installations",F$="@firebase/installations-compat",L$="@firebase/messaging",V$="@firebase/messaging-compat",j$="@firebase/performance",U$="@firebase/performance-compat",B$="@firebase/remote-config",$$="@firebase/remote-config-compat",H$="@firebase/storage",z$="@firebase/storage-compat",q$="@firebase/firestore",G$="@firebase/ai",W$="@firebase/firestore-compat",K$="firebase",Q$="11.10.0";var XE="[DEFAULT]",Y$={[ZE]:"fire-core",[D$]:"fire-core-compat",[b$]:"fire-analytics",[T$]:"fire-analytics-compat",[S$]:"fire-app-check",[C$]:"fire-app-check-compat",[A$]:"fire-auth",[R$]:"fire-auth-compat",[N$]:"fire-rtdb",[M$]:"fire-data-connect",[x$]:"fire-rtdb-compat",[P$]:"fire-fn",[k$]:"fire-fn-compat",[O$]:"fire-iid",[F$]:"fire-iid-compat",[L$]:"fire-fcm",[V$]:"fire-fcm-compat",[j$]:"fire-perf",[U$]:"fire-perf-compat",[B$]:"fire-rc",[$$]:"fire-rc-compat",[H$]:"fire-gcs",[z$]:"fire-gcs-compat",[q$]:"fire-fst",[W$]:"fire-fst-compat",[G$]:"fire-vertex","fire-js":"fire-js",[K$]:"fire-js-all"};var al=new Map,J$=new Map,eI=new Map;function SN(n,e){try{n.container.addComponent(e)}catch(t){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function er(n){let e=n.name;if(eI.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;eI.set(e,n);for(let t of al.values())SN(t,n);for(let t of J$.values())SN(t,n);return!0}function Na(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yt(n){return n==null?!1:n.settings!==void 0}var Z$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new Xn("app","Firebase",Z$);var tI=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}};var $i=Q$;function iI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:XE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Bi.create("bad-app-name",{appName:String(i)});if(t||(t=$E()),!t)throw Bi.create("no-options");let o=al.get(i);if(o){if(Dr(t,o.options)&&Dr(r,o.config))return o;throw Bi.create("duplicate-app",{appName:i})}let s=new yp(i);for(let u of eI.values())s.addComponent(u);let a=new tI(t,r,s);return al.set(i,a),a}function os(n=XE){let e=al.get(n);if(!e&&n===XE&&$E())return iI();if(!e)throw Bi.create("no-app",{appName:n});return e}function _p(){return Array.from(al.values())}function nt(n,e,t){var r;let i=(r=Y$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(a.join(" "));return}er(new Qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var X$="firebase-heartbeat-database",e4=1,cl="firebase-heartbeat-store",YE=null;function MN(){return YE||(YE=bN(X$,e4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bi.create("idb-open",{originalErrorMessage:n.message})})),YE}function t4(n){return _(this,null,function*(){try{let t=(yield MN()).transaction(cl),r=yield t.objectStore(cl).get(xN(n));return yield t.done,r}catch(e){if(e instanceof yn)Zr.warn(e.message);else{let t=Bi.create("idb-get",{originalErrorMessage:e?.message});Zr.warn(t.message)}}})}function AN(n,e){return _(this,null,function*(){try{let r=(yield MN()).transaction(cl,"readwrite");yield r.objectStore(cl).put(e,xN(n)),yield r.done}catch(t){if(t instanceof yn)Zr.warn(t.message);else{let r=Bi.create("idb-set",{originalErrorMessage:t?.message});Zr.warn(r.message)}}})}function xN(n){return`${n.name}!${n.options.appId}`}var n4=1024,r4=30,nI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new rI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>r4){let s=o4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=RN(),{heartbeatsToSend:r,unsentEntries:i}=i4(this._heartbeatsCache.heartbeats),o=il(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Zr.warn(t),""}})}};function RN(){return new Date().toISOString().substring(0,10)}function i4(n,e=n4){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),NN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),NN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var rI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return ol()?mN().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield t4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function NN(n){return il(JSON.stringify({version:2,heartbeats:n})).length}function o4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function s4(n){er(new Qt("platform-logger",e=>new JE(e),"PRIVATE")),er(new Qt("heartbeat",e=>new nI(e),"PRIVATE")),nt(ZE,CN,n),nt(ZE,CN,"esm2017"),nt("fire-js","")}s4("");var a4="firebase",c4="11.10.0";nt(a4,c4,"app");function PN(n){n===void 0&&(n=x(Ze));let e=n.get(Si);return t=>new Z(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Hi=new Wo("ANGULARFIRE2_VERSION");function ul(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var xa=(n,e)=>{let t=e?[e]:_p(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ma=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Ma||{}),kN=A_()&&typeof Zone<"u"?Ma.WARN:Ma.SILENT;var Ep=class{zone;delegate;constructor(e,t=Wm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},zi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=x(be);this.outsideAngular=t.runOutsideAngular(()=>new Ep(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Ep(typeof Zone>"u"?void 0:Zone.current,Gm))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ON=!1;function u4(n,e){!ON&&(kN>Ma.SILENT||A_())&&(ON=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),kN>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function l4(n){let e=x(be,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ss(n){let e=x(be,{optional:!0});return e?e.run(()=>n()):n()}var d4=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Xe(t,()=>ss(()=>n.apply(void 0,r)))),At=(n,e,t)=>(t||=e?Ma.WARN:Ma.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(zi),s=x(Si),a=x(Ge)}catch{return u4(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=ss(()=>s.add())),i[l]=d4(i[l],r,a));let u=l4(()=>n.apply(this,i));return e?u instanceof Z?u.pipe(mi(o.outsideAngular),gi(o.insideAngular),PN(a)):u instanceof Promise?ss(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>Xe(a,()=>ss(()=>h(g))),g=>Xe(a,()=>ss(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:ss(()=>u):u instanceof Z?u.pipe(mi(o.outsideAngular),gi(o.insideAngular)):ss(()=>u)});var Xr=class{constructor(e){return e}},as=class{constructor(){return _p()}};function h4(n){return n&&n.length===1?n[0]:new Xr(os())}var oI=new $("angularfire2._apps"),f4={provide:Xr,useFactory:h4,deps:[[new pn,oI]]},p4={provide:as,deps:[[new pn,oI]]};function g4(n){return(e,t)=>{let r=t.get(Ri);nt("angularfire",Hi.full,"core"),nt("angularfire",Hi.full,"app"),nt("angular",uA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Xr(i)}}function FN(n,...e){return hn([f4,p4,{provide:oI,useFactory:g4(n),multi:!0,deps:[be,Ze,zi,...e]}])}var LN=At(iI,!0);var m4=new Map,y4={activated:!1,tokenObservers:[]},v4={initialized:!1,enabled:!1};function tr(n){return m4.get(n)||Object.assign({},y4)}function BN(){return v4}var _4="https://content-firebaseappcheck.googleapis.com/v1";var E4="exchangeDebugToken",VN={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},nae=1440*60*1e3;var cI=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new rs,this.pending.promise.catch(t=>{}),yield I4(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new rs,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function I4(n){return new Promise(e=>{setTimeout(e,n)})}var w4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},qi=new Xn("appCheck","AppCheck",w4);function $N(n){if(!tr(n).activated)throw qi.create("use-before-activation",{appName:n.name})}function HN(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw qi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw qi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw qi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw qi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function zN(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${_4}/projects/${t}/apps/${r}:${E4}?key=${i}`,body:{debug_token:e}}}var D4="firebase-app-check-database",T4=1,uI="firebase-app-check-store";var Ip=null;function b4(){return Ip||(Ip=new Promise((n,e)=>{try{let t=indexedDB.open(D4,T4);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(qi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(uI,{keyPath:"compositeKey"})}}}catch(t){e(qi.create("storage-open",{originalErrorMessage:t?.message}))}}),Ip)}function C4(n,e){return S4(A4(n),e)}function S4(n,e){return _(this,null,function*(){let r=(yield b4()).transaction(uI,"readwrite"),o=r.objectStore(uI).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(qi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function A4(n){return`${n.options.appId}-${n.name}`}var ll=new Tr("@firebase/app-check");function sI(n,e){return ol()?C4(n,e).catch(t=>{ll.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qN(){return BN().enabled}function GN(){return _(this,null,function*(){let n=BN();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var R4={error:"UNKNOWN_ERROR"};function N4(n){return hp.encodeString(JSON.stringify(n),!1)}function lI(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;$N(r);let i=tr(r),o=i.token,s;if(o&&!dl(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(dl(l)?o=l:yield sI(r,void 0))}if(!e&&o&&dl(o))return{token:o.token};let a=!1;if(qN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=HN(zN(r,yield GN()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield sI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ll.warn(l.message):t&&ll.error(l),aI(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield tr(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ll.warn(l.message):t&&ll.error(l),s=l}let u;return o?s?dl(o)?u={token:o.token,internalError:s}:u=aI(s):(u={token:o.token},i.token=o,yield sI(r,o)):u=aI(s),a&&k4(r,u),u})}function M4(n){return _(this,null,function*(){let e=n.app;$N(e);let{provider:t}=tr(e);if(qN()){let r=yield GN(),{token:i}=yield HN(zN(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function x4(n,e,t,r){let{app:i}=n,o=tr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&dl(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),jN(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>jN(n))}function WN(n,e){let t=tr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function jN(n){let{app:e}=n,t=tr(e),r=t.tokenRefresher;r||(r=P4(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function P4(n){let{app:e}=n;return new cI(()=>_(null,null,function*(){let t=tr(e),r;if(t.token?r=yield lI(n,!0):r=yield lI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=tr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},VN.RETRIAL_MIN_WAIT,VN.RETRIAL_MAX_WAIT)}function k4(n,e){let t=tr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function dl(n){return n.expireTimeMillis-Date.now()>0}function aI(n){return{token:N4(R4),error:n}}var dI=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=tr(this.app);for(let t of e)WN(this.app,t.next);return Promise.resolve()}};function O4(n,e){return new dI(n,e)}function F4(n){return{getToken:e=>lI(n,e),getLimitedUseToken:()=>M4(n),addTokenListener:e=>x4(n,"INTERNAL",e),removeTokenListener:e=>WN(n.app,e)}}var L4="@firebase/app-check",V4="0.10.1";var j4="app-check",UN="app-check-internal";function U4(){er(new Qt(j4,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return O4(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(UN).initialize()})),er(new Qt(UN,n=>{let e=n.getProvider("app-check").getImmediate();return F4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),nt(L4,V4)}U4();var B4="app-check";var Pa=class{constructor(){return xa(B4)}};var $4=["localhost","0.0.0.0","127.0.0.1"],gae=typeof window<"u"&&$4.includes(window.location.hostname);function uM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var lM=uM,dM=new Xn("auth","Firebase",uM());var Sp=new Tr("@firebase/auth");function H4(n,...e){Sp.logLevel<=me.WARN&&Sp.warn(`Auth (${$i}): ${n}`,...e)}function Dp(n,...e){Sp.logLevel<=me.ERROR&&Sp.error(`Auth (${$i}): ${n}`,...e)}function Ar(n,...e){throw FI(n,...e)}function cs(n,...e){return FI(n,...e)}function hM(n,e,t){let r=Object.assign(Object.assign({},lM()),{[e]:t});return new Xn("auth","Firebase",r).create(e,{appName:n.name})}function Cr(n){return hM(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return dM.create(n,...e)}function ee(n,e,...t){if(!n)throw FI(e,...t)}function ei(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Dp(e),new Error(e)}function Ki(n,e){n||ei(e)}function gI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function z4(){return KN()==="http:"||KN()==="https:"}function KN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function q4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z4()||hN()||"connection"in navigator)?navigator.onLine:!0}function G4(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var us=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ki(t>e,"Short delay should be less than long delay!"),this.isMobile=lN()||fN()}get(){return q4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function LI(n,e){Ki(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ap=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var W4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var K4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q4=new us(3e4,6e4);function Yi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ji(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return fM(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=sl(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return dN()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Ui(n.emulatorConfig.host)&&(y.credentials="include"),Ap.fetch()(yield pM(n,n.config.apiHost,t,p),y)}))})}function fM(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},W4),e);try{let i=new mI(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw wp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw wp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw wp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw wp(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw hM(n,h,l);Ar(n,h)}}catch(i){if(i instanceof yn)throw i;Ar(n,"network-request-failed",{message:String(i)})}})}function El(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield Ji(n,e,t,r,i);return"mfaPendingCredential"in l&&Ar(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function pM(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?LI(n.config,i):`${n.config.apiScheme}://${i}`;return K4.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Y4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var mI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(cs(this.auth,"network-request-failed")),Q4.get())})}};function wp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=cs(n,e,r);return i.customData._tokenResponse=t,i}function QN(n){return n!==void 0&&n.enterprise!==void 0}var yI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Y4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function J4(n,e){return _(this,null,function*(){return Ji(n,"GET","/v2/recaptchaConfig",Yi(n,e))})}function Z4(n,e){return _(this,null,function*(){return Ji(n,"POST","/v1/accounts:delete",e)})}function Rp(n,e){return _(this,null,function*(){return Ji(n,"POST","/v1/accounts:lookup",e)})}function fl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function VI(n,e=!1){return _(this,null,function*(){let t=St(n),r=yield t.getIdToken(e),i=jI(r);ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:fl(hI(i.auth_time)),issuedAtTime:fl(hI(i.iat)),expirationTime:fl(hI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function hI(n){return Number(n)*1e3}function jI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Dp("JWT malformed, contained fewer than 3 sections"),null;try{let i=fp(t);return i?JSON.parse(i):(Dp("Failed to decode base64 JWT payload"),null)}catch(i){return Dp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function YN(n){let e=jI(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function gl(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof yn&&X4(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function X4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var vI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ml=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Np(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield gl(n,Rp(t,{idToken:r}));ee(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?gM(o.providerUserInfo):[],a=eH(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ml(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function UI(n){return _(this,null,function*(){let e=St(n);yield Np(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function eH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gM(n){return n.map(e=>{var{providerId:t}=e,r=Km(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function tH(n,e){return _(this,null,function*(){let t=yield fM(n,{},()=>_(null,null,function*(){let r=sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield pM(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Ui(n.emulatorConfig.host)&&(u.credentials="include"),Ap.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function nH(n,e){return _(this,null,function*(){return Ji(n,"POST","/v2/accounts:revokeToken",Yi(n,e))})}var pl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ee(e.length!==0,"internal-error");let t=YN(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield tH(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ei("not implemented")}};function Gi(n,e){ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Wi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ml(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield gl(this,this.stsTokenManager.getToken(this.auth,e));return ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return VI(this,e)}reload(){return UI(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Np(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Yt(this.auth.app))return Promise.reject(Cr(this.auth));let e=yield this.getIdToken();return yield gl(this,Z4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=t.photoURL)!==null&&s!==void 0?s:void 0,P=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:J,emailVerified:X,isAnonymous:Le,providerData:pe,stsTokenManager:D}=t;ee(J&&D,e,"internal-error");let v=pl.fromJSON(this.name,D);ee(typeof J=="string",e,"internal-error"),Gi(p,e.name),Gi(g,e.name),ee(typeof X=="boolean",e,"internal-error"),ee(typeof Le=="boolean",e,"internal-error"),Gi(y,e.name),Gi(b,e.name),Gi(P,e.name),Gi(N,e.name),Gi(F,e.name),Gi(W,e.name);let I=new n({uid:J,auth:e,email:g,emailVerified:X,displayName:p,isAnonymous:Le,photoURL:b,phoneNumber:y,tenantId:P,stsTokenManager:v,createdAt:F,lastLoginAt:W});return pe&&Array.isArray(pe)&&(I.providerData=pe.map(w=>Object.assign({},w))),N&&(I._redirectEventId=N),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new pl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Np(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?gM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new pl;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ml(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var JN=new Map;function ti(n){Ki(n instanceof Function,"Expected a class definition");let e=JN.get(n);return e?(Ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,JN.set(n,e),e)}var rH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),_I=rH;function Tp(n,e,t){return`firebase:${n}:${e}:${t}`}var Mp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Tp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Tp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Rp(this.auth,{idToken:e}).catch(()=>{});return t?Wi._fromGetAccountInfoResponse(this.auth,t,e):null}return Wi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(ti(_I),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ti(_I),s=Tp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Rp(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Wi._fromGetAccountInfoResponse(e,g,h)}else p=Wi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function ZN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_M(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IM(e))return"Blackberry";if(wM(e))return"Webos";if(yM(e))return"Safari";if((e.includes("chrome/")||vM(e))&&!e.includes("edge/"))return"Chrome";if(EM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function mM(n=_t()){return/firefox\//i.test(n)}function yM(n=_t()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vM(n=_t()){return/crios\//i.test(n)}function _M(n=_t()){return/iemobile/i.test(n)}function EM(n=_t()){return/android/i.test(n)}function IM(n=_t()){return/blackberry/i.test(n)}function wM(n=_t()){return/webos/i.test(n)}function BI(n=_t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iH(n=_t()){var e;return BI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oH(){return pN()&&document.documentMode===10}function DM(n=_t()){return BI(n)||EM(n)||wM(n)||IM(n)||/windows phone/i.test(n)||_M(n)}function TM(n,e=[]){let t;switch(n){case"Browser":t=ZN(_t());break;case"Worker":t=`${ZN(_t())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$i}/${r}`}var EI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function sH(t){return _(this,arguments,function*(n,e={}){return Ji(n,"GET","/v2/passwordPolicy",Yi(n,e))})}var aH=6,II=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:aH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var wI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xp(this),this.idTokenSubscription=new xp(this),this.beforeStateQueue=new EI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ti(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Mp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Rp(this,{idToken:e}),r=yield Wi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(Yt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Np(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=G4()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Yt(this.app))return Promise.reject(Cr(this));let t=e?St(e):null;return t&&ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Yt(this.app)?Promise.reject(Cr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Yt(this.app)?Promise.reject(Cr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(ti(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield sH(this),t=new II(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield nH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ti(e)||this._popupRedirectResolver;ee(t,this,"argument-error"),this.redirectPersistenceManager=yield Mp.create(this,[ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Yt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&H4(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Zi(n){return St(n)}var xp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vN(t=>this.observer=t)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var jp={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cH(n){jp=n}function bM(n){return jp.loadJS(n)}function uH(){return jp.recaptchaEnterpriseScript}function lH(){return jp.gapiScript}function CM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var DI=class{constructor(){this.enterprise=new TI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},TI=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var dH="recaptcha-enterprise",SM="NO_RECAPTCHA",bI=class{constructor(e){this.type=dH,this.auth=Zi(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){J4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new yI(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;QN(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(SM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&QN(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=uH();u.length!==0&&(u+=a),bM(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function hl(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new bI(n),s;if(i)s=SM;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function CI(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield hl(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield hl(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield hl(n,e,t);return r(n,a).catch(u=>_(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield hl(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield hl(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function $I(n,e){let t=Na(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Dr(o,e??{}))return i;Ar(i,"already-initialized")}return t.initialize({options:e})}function hH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ti);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function HI(n,e,t){let r=Zi(n);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=AM(e),{host:s,port:a}=fH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Dr(l,r.config.emulator)&&Dr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ui(s)?(gp(`${o}//${s}${u}`),mp("Auth",!0)):i||pH()}function AM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fH(n){let e=AM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:XN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:XN(s)}}}function XN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function pH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var yl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,t){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}};function gH(n,e){return _(this,null,function*(){return Ji(n,"POST","/v1/accounts:signUp",e)})}function mH(n,e){return _(this,null,function*(){return El(n,"POST","/v1/accounts:signInWithPassword",Yi(n,e))})}function yH(n,e){return _(this,null,function*(){return El(n,"POST","/v1/accounts:signInWithEmailLink",Yi(n,e))})}function vH(n,e){return _(this,null,function*(){return El(n,"POST","/v1/accounts:signInWithEmailLink",Yi(n,e))})}var vl=class n extends yl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CI(e,t,"signInWithPassword",mH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return yH(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CI(e,r,"signUpPassword",gH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return vH(e,{idToken:t,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function fI(n,e){return _(this,null,function*(){return El(n,"POST","/v1/accounts:signInWithIdp",Yi(n,e))})}function _H(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EH(n){let e=Aa(Ra(n)).link,t=e?Aa(Ra(e)).deep_link_id:null,r=Aa(Ra(n)).deep_link_id;return(r?Aa(Ra(r)).link:null)||r||t||e||n}var Pp=class n{constructor(e){var t,r,i,o,s,a;let u=Aa(Ra(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=_H((i=u.mode)!==null&&i!==void 0?i:null);ee(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=EH(e);try{return new n(t)}catch{return null}}};var RM=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return vl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Pp.parseLink(r);return ee(i,"argument-error"),vl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),kp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var SI=class extends kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function NM(n,e){return _(this,null,function*(){return El(n,"POST","/v1/accounts:signUp",Yi(n,e))})}var Qi=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield Wi._fromIdTokenResponse(e,r,i),s=eM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=eM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function eM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function zI(n){return _(this,null,function*(){var e;if(Yt(n.app))return Promise.reject(Cr(n));let t=Zi(n);if(yield t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Qi({user:t.currentUser,providerId:null,operationType:"signIn"});let r=yield NM(t,{returnSecureToken:!0}),i=yield Qi._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})}var AI=class n extends yn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function MM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?AI._fromErrorAndOperation(n,o,e,r):o})}function IH(n,e,t=!1){return _(this,null,function*(){let r=yield gl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Qi._forOperation(n,"link",r)})}function wH(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(Yt(r.app))return Promise.reject(Cr(r));let i="reauthenticate";try{let o=yield gl(n,MM(r,i,e,n),t);ee(o.idToken,r,"internal-error");let s=jI(o.idToken);ee(s,r,"internal-error");let{sub:a}=s;return ee(n.uid===a,r,"user-mismatch"),Qi._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ar(r,"user-mismatch"),o}})}function xM(n,e,t=!1){return _(this,null,function*(){if(Yt(n.app))return Promise.reject(Cr(n));let r="signIn",i=yield MM(n,r,e),o=yield Qi._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function qI(n,e){return _(this,null,function*(){return xM(Zi(n),e)})}function PM(n){return _(this,null,function*(){let e=Zi(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function GI(n,e,t){return _(this,null,function*(){if(Yt(n.app))return Promise.reject(Cr(n));let r=Zi(n),s=yield CI(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NM,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&PM(n),u}),a=yield Qi._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function WI(n,e,t){return Yt(n.app)?Promise.reject(Cr(n)):qI(St(n),RM.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&PM(n),r}))}function Il(n,e,t,r){return St(n).onIdTokenChanged(e,t,r)}function KI(n,e,t){return St(n).beforeAuthStateChanged(e,t)}function QI(n){return St(n).signOut()}var Op="__sak";var Fp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var DH=1e3,TH=10,bH=(()=>{class n extends Fp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);oH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,TH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},DH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield fi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield fi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield fi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),kM=bH;var CH=(()=>{class n extends Fp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),YI=CH;function SH(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var AH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield SH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function OM(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var RI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=OM("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Sr(){return window}function RH(n){Sr().location.href=n}function FM(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}function NH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function MH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function xH(){return FM()?self:null}var LM="firebaseLocalStorageDb",PH=1,Lp="firebaseLocalStorage",VM="fbase_key",ls=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Up(n,e){return n.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function kH(){let n=indexedDB.deleteDatabase(LM);return new ls(n).toPromise()}function NI(){let n=indexedDB.open(LM,PH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Lp,{keyPath:VM})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Lp)?e(r):(r.close(),yield kH(),e(yield NI()))}))})}function tM(n,e,t){return _(this,null,function*(){let r=Up(n,!0).put({[VM]:e,value:t});return new ls(r).toPromise()})}function OH(n,e){return _(this,null,function*(){let t=Up(n,!1).get(e),r=yield new ls(t).toPromise();return r===void 0?null:r.value})}function nM(n,e){let t=Up(n,!0).delete(e);return new ls(t).toPromise()}var FH=800,LH=3,VH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield NI(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>LH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return FM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=AH._getInstance(xH()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield NH(),!this.activeServiceWorker)return;this.sender=new RI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||MH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield NI();return yield tM(t,Op,"1"),yield nM(t,Op),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>tM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>OH(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>nM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=Up(o,!1).getAll();return new ls(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),FH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),jM=VH;var Dae=CM("rcb"),Tae=new us(3e4,6e4);function jH(n,e){return e?ti(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var _l=class extends yl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fI(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fI(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fI(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function UH(n){return xM(n.auth,new _l(n),n.bypassAuthState)}function BH(n){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),wH(t,new _l(n),n.bypassAuthState)}function $H(n){return _(this,null,function*(){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),IH(t,new _l(n),n.bypassAuthState)})}var MI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UH;case"linkViaPopup":case"linkViaRedirect":return $H;case"reauthViaPopup":case"reauthViaRedirect":return BH;default:Ar(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bae=new us(2e3,1e4);var HH="pendingRedirect",bp=new Map,xI=class n extends MI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=bp.get(this.auth._key());if(!e){try{let r=(yield zH(this.resolver,this.auth))?yield fi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}bp.set(this.auth._key(),e)}return this.bypassAuthState||bp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return fi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,fi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function zH(n,e){return _(this,null,function*(){let t=WH(e),r=GH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function qH(n,e){bp.set(n._key(),e)}function GH(n){return ti(n._redirectPersistence)}function WH(n){return Tp(HH,n.config.apiKey,n.name)}function KH(n,e,t=!1){return _(this,null,function*(){if(Yt(n.app))return Promise.reject(Cr(n));let r=Zi(n),i=jH(r,e),s=yield new xI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var QH=600*1e3,PI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!UM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(cs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QH&&this.cachedEventUids.clear(),this.cachedEventUids.has(rM(e))}saveEventToCache(e){this.cachedEventUids.add(rM(e)),this.lastProcessedEventTime=Date.now()}};function rM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function UM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function YH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UM(n);default:return!1}}function JH(t){return _(this,arguments,function*(n,e={}){return Ji(n,"GET","/v1/projects",e)})}var ZH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XH=/^https?/;function e3(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield JH(n);for(let t of e)try{if(t3(t))return}catch{}Ar(n,"unauthorized-domain")})}function t3(n){let e=gI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!XH.test(t))return!1;if(ZH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var n3=new us(3e4,6e4);function iM(){let n=Sr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function r3(n){return new Promise((e,t)=>{var r,i,o;function s(){iM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iM(),t(cs(n,"network-request-failed"))},timeout:n3.get()})}if(!((i=(r=Sr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Sr().gapi)===null||o===void 0)&&o.load)s();else{let a=CM("iframefcb");return Sr()[a]=()=>{gapi.load?s():t(cs(n,"network-request-failed"))},bM(`${lH()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Cp=null,e})}var Cp=null;function i3(n){return Cp=Cp||r3(n),Cp}var o3=new us(5e3,15e3),s3="__/auth/iframe",a3="emulator/auth/iframe",c3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l3(n){let e=n.config;ee(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?LI(e,a3):`https://${n.config.authDomain}/${s3}`,r={apiKey:e.apiKey,appName:n.name,v:$i},i=u3.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${sl(r).slice(1)}`}function d3(n){return _(this,null,function*(){let e=yield i3(n),t=Sr().gapi;return ee(t,n,"internal-error"),e.open({where:document.body,url:l3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c3,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=cs(n,"network-request-failed"),a=Sr().setTimeout(()=>{o(s)},o3.get());function u(){Sr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var h3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f3=500,p3=600,g3="_blank",m3="http://localhost",Vp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function y3(n,e,t,r=f3,i=p3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},h3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=_t().toLowerCase();t&&(a=vM(l)?g3:t),mM(l)&&(e=e||m3,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,b])=>`${g}${y}=${b},`,"");if(iH(l)&&a!=="_self")return v3(e||"",a),new Vp(null);let p=window.open(e||"",a,h);ee(p,n,"popup-blocked");try{p.focus()}catch{}return new Vp(p)}function v3(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var _3="__/auth/handler",E3="emulator/auth/handler",I3=encodeURIComponent("fac");function oM(n,e,t,r,i,o){return _(this,null,function*(){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:$i,eventId:i};if(e instanceof kp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",yN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof SI){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${I3}=${encodeURIComponent(u)}`:"";return`${w3(n)}?${sl(a).slice(1)}${l}`})}function w3({config:n}){return n.emulator?LI(n,E3):`https://${n.authDomain}/${_3}`}var pI="webStorageSupport",kI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YI,this._completeRedirectFn=KH,this._overrideRedirectResult=qH}_openPopup(e,t,r,i){return _(this,null,function*(){var o;Ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield oM(e,t,r,gI(),i);return y3(e,s,OM())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield oM(e,t,r,gI(),i);return RH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ki(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield d3(e),r=new PI(e);return t.register("authEvent",i=>(ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pI,{type:pI},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[pI];s!==void 0&&t(!!s),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=e3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DM()||yM()||BI()}},BM=kI;var sM="@firebase/auth",aM="1.10.8";var OI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function D3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T3(n){er(new Qt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TM(n)},l=new wI(r,i,o,u);return hH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),er(new Qt("auth-internal",e=>{let t=Zi(e.getProvider("auth").getImmediate());return(r=>new OI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nt(sM,aM,D3(n)),nt(sM,aM,"esm2017")}var b3=300,C3=HE("authIdTokenMaxAge")||b3,cM=null,S3=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>C3)return;let i=t?.token;cM!==i&&(cM=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function JI(n=os()){let e=Na(n,"auth");if(e.isInitialized())return e.getImmediate();let t=$I(n,{popupRedirectResolver:BM,persistence:[jM,kM,YI]}),r=HE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=S3(o.toString());KI(t,s,()=>s(t.currentUser)),Il(t,a=>s(a))}}let i=BE("auth");return i&&HI(t,`http://${i}`),t}function A3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}cH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=cs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",A3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T3("Browser");function zM(n){return new Z(function(e){var t=Il(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var qM="auth",nr=class{constructor(e){return e}},wl=class{constructor(){return xa(qM)}};var ZI=new $("angularfire2.auth-instances");function p6(n,e){let t=ul(qM,n,e);return t&&new nr(t)}function g6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new nr(r)}}var m6={provide:wl,deps:[[new pn,ZI]]},y6={provide:nr,useFactory:p6,deps:[[new pn,ZI],Xr]};function GM(n,...e){return nt("angularfire",Hi.full,"auth"),hn([y6,m6,{provide:ZI,useFactory:g6(n),multi:!0,deps:[be,Ze,zi,as,[new pn,Pa],...e]}])}var Bp=At(zM,!0);var WM=At(GI,!0,2);var KM=At(JI,!0);var QM=At(zI,!0,2);var YM=At(WI,!0,2);var JM=At(QI,!0,2);var ZM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},XM={};var ni,XI;(function(){var n;function e(D,v){function I(){}I.prototype=v.prototype,D.D=v.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(w,T,S){for(var E=Array(arguments.length-2),xr=2;xr<arguments.length;xr++)E[xr-2]=arguments[xr];return v.prototype[T].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)w[T]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(T=0;16>T;++T)w[T]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=D.g[0],I=D.g[1],T=D.g[2];var S=D.g[3],E=v+(S^I&(T^S))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=S+(T^v&(I^T))+w[1]+3905402710&4294967295,S=v+(E<<12&4294967295|E>>>20),E=T+(I^S&(v^I))+w[2]+606105819&4294967295,T=S+(E<<17&4294967295|E>>>15),E=I+(v^T&(S^v))+w[3]+3250441966&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(S^I&(T^S))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(T^v&(I^T))+w[5]+1200080426&4294967295,S=v+(E<<12&4294967295|E>>>20),E=T+(I^S&(v^I))+w[6]+2821735955&4294967295,T=S+(E<<17&4294967295|E>>>15),E=I+(v^T&(S^v))+w[7]+4249261313&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(S^I&(T^S))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(T^v&(I^T))+w[9]+2336552879&4294967295,S=v+(E<<12&4294967295|E>>>20),E=T+(I^S&(v^I))+w[10]+4294925233&4294967295,T=S+(E<<17&4294967295|E>>>15),E=I+(v^T&(S^v))+w[11]+2304563134&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(S^I&(T^S))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(T^v&(I^T))+w[13]+4254626195&4294967295,S=v+(E<<12&4294967295|E>>>20),E=T+(I^S&(v^I))+w[14]+2792965006&4294967295,T=S+(E<<17&4294967295|E>>>15),E=I+(v^T&(S^v))+w[15]+1236535329&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(T^S&(I^T))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^T&(v^I))+w[6]+3225465664&4294967295,S=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(S^v))+w[11]+643717713&4294967295,T=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(T^S))+w[0]+3921069994&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^S&(I^T))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^T&(v^I))+w[10]+38016083&4294967295,S=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(S^v))+w[15]+3634488961&4294967295,T=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(T^S))+w[4]+3889429448&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^S&(I^T))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^T&(v^I))+w[14]+3275163606&4294967295,S=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(S^v))+w[3]+4107603335&4294967295,T=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(T^S))+w[8]+1163531501&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^S&(I^T))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^T&(v^I))+w[2]+4243563512&4294967295,S=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(S^v))+w[7]+1735328473&4294967295,T=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(T^S))+w[12]+2368359562&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(I^T^S)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^T)+w[8]+2272392833&4294967295,S=v+(E<<11&4294967295|E>>>21),E=T+(S^v^I)+w[11]+1839030562&4294967295,T=S+(E<<16&4294967295|E>>>16),E=I+(T^S^v)+w[14]+4259657740&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^S)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^T)+w[4]+1272893353&4294967295,S=v+(E<<11&4294967295|E>>>21),E=T+(S^v^I)+w[7]+4139469664&4294967295,T=S+(E<<16&4294967295|E>>>16),E=I+(T^S^v)+w[10]+3200236656&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^S)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^T)+w[0]+3936430074&4294967295,S=v+(E<<11&4294967295|E>>>21),E=T+(S^v^I)+w[3]+3572445317&4294967295,T=S+(E<<16&4294967295|E>>>16),E=I+(T^S^v)+w[6]+76029189&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^S)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^T)+w[12]+3873151461&4294967295,S=v+(E<<11&4294967295|E>>>21),E=T+(S^v^I)+w[15]+530742520&4294967295,T=S+(E<<16&4294967295|E>>>16),E=I+(T^S^v)+w[2]+3299628645&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(T^(I|~S))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~T))+w[7]+1126891415&4294967295,S=v+(E<<10&4294967295|E>>>22),E=T+(v^(S|~I))+w[14]+2878612391&4294967295,T=S+(E<<15&4294967295|E>>>17),E=I+(S^(T|~v))+w[5]+4237533241&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~S))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~T))+w[3]+2399980690&4294967295,S=v+(E<<10&4294967295|E>>>22),E=T+(v^(S|~I))+w[10]+4293915773&4294967295,T=S+(E<<15&4294967295|E>>>17),E=I+(S^(T|~v))+w[1]+2240044497&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~S))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~T))+w[15]+4264355552&4294967295,S=v+(E<<10&4294967295|E>>>22),E=T+(v^(S|~I))+w[6]+2734768916&4294967295,T=S+(E<<15&4294967295|E>>>17),E=I+(S^(T|~v))+w[13]+1309151649&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~S))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~T))+w[11]+3174756917&4294967295,S=v+(E<<10&4294967295|E>>>22),E=T+(v^(S|~I))+w[2]+718787259&4294967295,T=S+(E<<15&4294967295|E>>>17),E=I+(S^(T|~v))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var I=v-this.blockSize,w=this.B,T=this.h,S=0;S<v;){if(T==0)for(;S<=I;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(w[T++]=D.charCodeAt(S++),T==this.blockSize){i(this,w),T=0;break}}else for(;S<v;)if(w[T++]=D[S++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var I=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=I&255,I/=256;for(this.u(D),D=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)D[I++]=this.g[v]>>>w&255;return D};function o(D,v){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=v(D)}function s(D,v){this.h=v;for(var I=[],w=!0,T=D.length-1;0<=T;T--){var S=D[T]|0;w&&S==v||(I[T]=S,w=!1)}this.g=I}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var v=[],I=1,w=0;D>=I;w++)v[w]=D/I|0,I*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return N(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,T=0;T<D.length;T+=8){var S=Math.min(8,D.length-T),E=parseInt(D.substring(T,T+S),v);8>S?(S=l(Math.pow(v,S)),w=w.j(S).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-N(this).m();for(var D=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);D+=(0<=w?w:4294967296+w)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(b(this))return"0";if(P(this))return"-"+N(this).toString(D);for(var v=l(Math.pow(D,6)),I=this,w="";;){var T=X(I,v).g;I=F(I,T.j(v));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=T,b(I))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function b(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function P(D){return D.h==-1}n.l=function(D){return D=F(this,D),P(D)?-1:b(D)?0:1};function N(D){for(var v=D.g.length,I=[],w=0;w<v;w++)I[w]=~D.g[w];return new s(I,~D.h).add(g)}n.abs=function(){return P(this)?N(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0,T=0;T<=v;T++){var S=w+(this.i(T)&65535)+(D.i(T)&65535),E=(S>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);w=E>>>16,S&=65535,E&=65535,I[T]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function F(D,v){return D.add(N(v))}n.j=function(D){if(b(this)||b(D))return p;if(P(this))return P(D)?N(this).j(N(D)):N(N(this).j(D));if(P(D))return N(this.j(N(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<D.g.length;T++){var S=this.i(w)>>>16,E=this.i(w)&65535,xr=D.i(T)>>>16,gc=D.i(T)&65535;I[2*w+2*T]+=E*gc,W(I,2*w+2*T),I[2*w+2*T+1]+=S*gc,W(I,2*w+2*T+1),I[2*w+2*T+1]+=E*xr,W(I,2*w+2*T+1),I[2*w+2*T+2]+=S*xr,W(I,2*w+2*T+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function W(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function J(D,v){this.g=D,this.h=v}function X(D,v){if(b(v))throw Error("division by zero");if(b(D))return new J(p,p);if(P(D))return v=X(N(D),v),new J(N(v.g),N(v.h));if(P(v))return v=X(D,N(v)),new J(N(v.g),v.h);if(30<D.g.length){if(P(D)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,w=v;0>=w.l(D);)I=Le(I),w=Le(w);var T=pe(I,1),S=pe(w,1);for(w=pe(w,2),I=pe(I,2);!b(w);){var E=S.add(w);0>=E.l(D)&&(T=T.add(I),S=E),w=pe(w,1),I=pe(I,1)}return v=F(D,T.j(v)),new J(T,v)}for(T=p;0<=D.l(v);){for(I=Math.max(1,Math.floor(D.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(I),E=S.j(v);P(E)||0<E.l(D);)I-=w,S=l(I),E=S.j(v);b(S)&&(S=g),T=T.add(S),D=F(D,E)}return new J(T,D)}n.A=function(D){return X(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&D.i(w);return new s(I,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|D.i(w);return new s(I,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^D.i(w);return new s(I,this.h^D.h)};function Le(D){for(var v=D.g.length+1,I=[],w=0;w<v;w++)I[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(I,D.h)}function pe(D,v){var I=v>>5;v%=32;for(var w=D.g.length-I,T=[],S=0;S<w;S++)T[S]=0<v?D.i(S+I)>>>v|D.i(S+I+1)<<32-v:D.i(S+I);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XI=XM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ni=XM.Integer=s}).apply(typeof ZM<"u"?ZM:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ri={};var ew,v6,ka,tw,Dl,Hp,nw,rw,iw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function b(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,M){for(var B=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)B[ke-2]=arguments[ke];return d.prototype[C].apply(m,B)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let C=c.length||0,M=m.length||0;c.length=C+M;for(let B=0;B<M;B++)c[C+B]=m[B]}else c.push(m)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var Le=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function pe(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let M=0;M<I.length;M++)f=I[M],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=rm;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class xr{constructor(){this.h=this.g=null}add(d,f){let m=gc.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var gc=new F(()=>new Y1,c=>c.reset());class Y1{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let mc,yc=!1,rm=new xr,TD=()=>{let c=a.Promise.resolve(void 0);mc=()=>{c.then(J1)}};var J1=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=gc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}yc=!1};function ui(){this.s=this.s,this.C=this.C}ui.prototype.s=!1,ui.prototype.ma=function(){this.s||(this.s=!0,this.N())},ui.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Rt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var Z1=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function vc(c,d){if(Rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Le){e:{try{X(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:X1[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&vc.aa.h.call(this)}}b(vc,Rt);var X1={2:"touch",3:"pen",4:"mouse"};vc.prototype.h=function(){vc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _c="closure_listenable_"+(1e6*Math.random()|0),ek=0;function tk(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++ek,this.da=this.fa=!1}function td(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nd(c){this.src=c,this.g={},this.h=0}nd.prototype.add=function(c,d,f,m,C){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var B=om(c,d,m,C);return-1<B?(d=c[B],f||(d.fa=!1)):(d=new tk(d,this.src,M,!!m,C),d.fa=f,c.push(d)),d};function im(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=C)&&Array.prototype.splice.call(m,C,1),M&&(td(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function om(c,d,f,m){for(var C=0;C<c.length;++C){var M=c[C];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==m)return C}return-1}var sm="closure_lm_"+(1e6*Math.random()|0),am={};function bD(c,d,f,m,C){if(m&&m.once)return SD(c,d,f,m,C);if(Array.isArray(d)){for(var M=0;M<d.length;M++)bD(c,d[M],f,m,C);return null}return f=dm(f),c&&c[_c]?c.K(d,f,l(m)?!!m.capture:!!m,C):CD(c,d,f,!1,m,C)}function CD(c,d,f,m,C,M){if(!d)throw Error("Invalid event type");var B=l(C)?!!C.capture:!!C,ke=um(c);if(ke||(c[sm]=ke=new nd(c)),f=ke.add(d,f,m,B,M),f.proxy)return f;if(m=nk(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)Z1||(C=B),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(RD(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function nk(){function c(f){return d.call(c.src,c.listener,f)}let d=rk;return c}function SD(c,d,f,m,C){if(Array.isArray(d)){for(var M=0;M<d.length;M++)SD(c,d[M],f,m,C);return null}return f=dm(f),c&&c[_c]?c.L(d,f,l(m)?!!m.capture:!!m,C):CD(c,d,f,!0,m,C)}function AD(c,d,f,m,C){if(Array.isArray(d))for(var M=0;M<d.length;M++)AD(c,d[M],f,m,C);else m=l(m)?!!m.capture:!!m,f=dm(f),c&&c[_c]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=om(M,f,m,C),-1<f&&(td(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=um(c))&&(d=c.g[d.toString()],c=-1,d&&(c=om(d,f,m,C)),(f=-1<c?d[c]:null)&&cm(f))}function cm(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[_c])im(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(RD(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=um(d))?(im(f,c),f.h==0&&(f.src=null,d[sm]=null)):td(c)}}}function RD(c){return c in am?am[c]:am[c]="on"+c}function rk(c,d){if(c.da)c=!0;else{d=new vc(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&cm(c),c=f.call(m,d)}return c}function um(c){return c=c[sm],c instanceof nd?c:null}var lm="__closure_events_fn_"+(1e9*Math.random()>>>0);function dm(c){return typeof c=="function"?c:(c[lm]||(c[lm]=function(d){return c.handleEvent(d)}),c[lm])}function Nt(){ui.call(this),this.i=new nd(this),this.M=this,this.F=null}b(Nt,ui),Nt.prototype[_c]=!0,Nt.prototype.removeEventListener=function(c,d,f,m){AD(this,c,d,f,m)};function Ht(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Rt(d,c);else if(d instanceof Rt)d.target=d.target||c;else{var C=d;d=new Rt(m,c),w(d,C)}if(C=!0,f)for(var M=f.length-1;0<=M;M--){var B=d.g=f[M];C=rd(B,m,!0,d)&&C}if(B=d.g=c,C=rd(B,m,!0,d)&&C,C=rd(B,m,!1,d)&&C,f)for(M=0;M<f.length;M++)B=d.g=f[M],C=rd(B,m,!1,d)&&C}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)td(f[m]);delete c.g[d],c.h--}}this.F=null},Nt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Nt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function rd(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,M=0;M<d.length;++M){var B=d[M];if(B&&!B.da&&B.capture==f){var ke=B.listener,wt=B.ha||B.src;B.fa&&im(c.i,B),C=ke.call(wt,m)!==!1&&C}}return C&&!m.defaultPrevented}function ND(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function MD(c){c.g=ND(()=>{c.g=null,c.i&&(c.i=!1,MD(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class ik extends ui{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:MD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ec(c){ui.call(this),this.h=c,this.g={}}b(Ec,ui);var xD=[];function PD(c){pe(c.g,function(d,f){this.g.hasOwnProperty(f)&&cm(d)},c),c.g={}}Ec.prototype.N=function(){Ec.aa.N.call(this),PD(this)},Ec.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hm=a.JSON.stringify,ok=a.JSON.parse,sk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function fm(){}fm.prototype.h=null;function kD(c){return c.h||(c.h=c.i())}function OD(){}var Ic={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pm(){Rt.call(this,"d")}b(pm,Rt);function gm(){Rt.call(this,"c")}b(gm,Rt);var lo={},FD=null;function id(){return FD=FD||new Nt}lo.La="serverreachability";function LD(c){Rt.call(this,lo.La,c)}b(LD,Rt);function wc(c){let d=id();Ht(d,new LD(d))}lo.STAT_EVENT="statevent";function VD(c,d){Rt.call(this,lo.STAT_EVENT,c),this.stat=d}b(VD,Rt);function zt(c){let d=id();Ht(d,new VD(d,c))}lo.Ma="timingevent";function jD(c,d){Rt.call(this,lo.Ma,c),this.size=d}b(jD,Rt);function Dc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Tc(){this.g=!0}Tc.prototype.xa=function(){this.g=!1};function ak(c,d,f,m,C,M){c.info(function(){if(c.g)if(M)for(var B="",ke=M.split("&"),wt=0;wt<ke.length;wt++){var De=ke[wt].split("=");if(1<De.length){var Mt=De[0];De=De[1];var xt=Mt.split("_");B=2<=xt.length&&xt[1]=="type"?B+(Mt+"="+De+"&"):B+(Mt+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+B})}function ck(c,d,f,m,C,M,B){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+M+" "+B})}function Es(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+lk(c,f)+(m?" "+m:"")})}function uk(c,d){c.info(function(){return"TIMEOUT: "+d})}Tc.prototype.info=function(){};function lk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var M=C[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<C.length;B++)C[B]=""}}}}return hm(f)}catch{return d}}var od={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},UD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mm;function sd(){}b(sd,fm),sd.prototype.g=function(){return new XMLHttpRequest},sd.prototype.i=function(){return{}},mm=new sd;function li(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Ec(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new BD}function BD(){this.i=null,this.g="",this.h=!1}var $D={},ym={};function vm(c,d,f){c.L=1,c.v=ld(Pr(d)),c.m=f,c.P=!0,HD(c,null)}function HD(c,d){c.F=Date.now(),ad(c),c.A=Pr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),rT(f.i,"t",m),c.C=0,f=c.j.J,c.h=new BD,c.g=IT(c.j,f?d:null,!c.m),0<c.O&&(c.M=new ik(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(xD[0]=C.toString()),C=xD);for(var M=0;M<C.length;M++){var B=bD(f,C[M],m||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),wc(),ak(c.i,c.u,c.A,c.l,c.R,c.m)}li.prototype.ca=function(c){c=c.target;let d=this.M;d&&kr(c)==3?d.j():this.Y(c)},li.prototype.Y=function(c){try{if(c==this.g)e:{let xt=kr(this.g);var d=this.g.Ba();let Ds=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||lT(this.g)))){this.J||xt!=4||d==7||(d==8||0>=Ds?wc(3):wc(2)),_m(this);var f=this.g.Z();this.X=f;t:if(zD(this)){var m=lT(this.g);c="";var C=m.length,M=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ho(this),bc(this);var B="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(M&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,ck(this.i,this.u,this.A,this.l,this.R,xt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,wt=this.g;if((ke=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(ke)){var De=ke;break t}}De=null}if(f=De)Es(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Em(this,f);else{this.o=!1,this.s=3,zt(12),ho(this),bc(this);break e}}if(this.P){f=!0;let xn;for(;!this.J&&this.C<B.length;)if(xn=dk(this,B),xn==ym){xt==4&&(this.s=4,zt(14),f=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==$D){this.s=4,zt(15),Es(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else Es(this.i,this.l,xn,null),Em(this,xn);if(zD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||B.length!=0||this.h.h||(this.s=1,zt(16),f=!1),this.o=this.o&&f,!f)Es(this.i,this.l,B,"[Invalid Chunked Response]"),ho(this),bc(this);else if(0<B.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Cm(Mt),Mt.M=!0,zt(11))}}else Es(this.i,this.l,B,null),Em(this,B);xt==4&&ho(this),this.o&&!this.J&&(xt==4?yT(this.j,this):(this.o=!1,ad(this)))}else Ak(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),ho(this),bc(this)}}}catch{}finally{}};function zD(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dk(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?ym:(f=Number(d.substring(f,m)),isNaN(f)?$D:(m+=1,m+f>d.length?ym:(d=d.slice(m,m+f),c.C=m+f,d)))}li.prototype.cancel=function(){this.J=!0,ho(this)};function ad(c){c.S=Date.now()+c.I,qD(c,c.I)}function qD(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Dc(g(c.ba,c),d)}function _m(c){c.B&&(a.clearTimeout(c.B),c.B=null)}li.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(uk(this.i,this.A),this.L!=2&&(wc(),zt(17)),ho(this),this.s=2,bc(this)):qD(this,this.S-c)};function bc(c){c.j.G==0||c.J||yT(c.j,c)}function ho(c){_m(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,PD(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Em(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Im(f.h,c))){if(!c.K&&Im(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)gd(f),fd(f);else break e;bm(f),zt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Dc(g(f.Za,f),6e3));if(1>=KD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else po(f,11)}else if((c.K||f.g==c)&&gd(f),!W(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let De=C[d];if(f.T=De[0],De=De[1],f.G==2)if(De[0]=="c"){f.K=De[1],f.ia=De[2];let Mt=De[3];Mt!=null&&(f.la=Mt,f.j.info("VER="+f.la));let xt=De[4];xt!=null&&(f.Aa=xt,f.j.info("SVER="+f.Aa));let Ds=De[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(m=1.5*Ds,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let xn=c.g;if(xn){let yd=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yd){var M=m.h;M.g||yd.indexOf("spdy")==-1&&yd.indexOf("quic")==-1&&yd.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(wm(M,M.h),M.h=null))}if(m.D){let Sm=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sm&&(m.ya=Sm,Ue(m.I,m.D,Sm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var B=c;if(m.qa=ET(m,m.J?m.ia:null,m.W),B.K){QD(m.h,B);var ke=B,wt=m.L;wt&&(ke.I=wt),ke.B&&(_m(ke),ad(ke)),m.g=B}else gT(m);0<f.i.length&&pd(f)}else De[0]!="stop"&&De[0]!="close"||po(f,7);else f.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?po(f,7):Tm(f):De[0]!="noop"&&f.l&&f.l.ta(De),f.v=0)}}wc(4)}catch{}}var hk=class{constructor(c,d){this.g=c,this.map=d}};function GD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function WD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function KD(c){return c.h?1:c.g?c.g.size:0}function Im(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function wm(c,d){c.g?c.g.add(d):c.h=d}function QD(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}GD.prototype.cancel=function(){if(this.i=YD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function YD(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function fk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function pk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function JD(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=pk(c),m=fk(c),C=m.length,M=0;M<C;M++)d.call(void 0,m[M],f&&f[M],c)}var ZD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gk(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var M=c[f].substring(0,m);C=c[f].substring(m+1)}else M=c[f];d(M,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function fo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fo){this.h=c.h,cd(this,c.j),this.o=c.o,this.g=c.g,ud(this,c.s),this.l=c.l;var d=c.i,f=new Ac;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),XD(this,f),this.m=c.m}else c&&(d=String(c).match(ZD))?(this.h=!1,cd(this,d[1]||"",!0),this.o=Cc(d[2]||""),this.g=Cc(d[3]||"",!0),ud(this,d[4]),this.l=Cc(d[5]||"",!0),XD(this,d[6]||"",!0),this.m=Cc(d[7]||"")):(this.h=!1,this.i=new Ac(null,this.h))}fo.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Sc(d,eT,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Sc(d,eT,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Sc(f,f.charAt(0)=="/"?vk:yk,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Sc(f,Ek)),c.join("")};function Pr(c){return new fo(c)}function cd(c,d,f){c.j=f?Cc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ud(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function XD(c,d,f){d instanceof Ac?(c.i=d,Ik(c.i,c.h)):(f||(d=Sc(d,_k)),c.i=new Ac(d,c.h))}function Ue(c,d,f){c.i.set(d,f)}function ld(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,mk),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var eT=/[#\/\?@]/g,yk=/[#\?:]/g,vk=/[#\?]/g,_k=/[#\?@]/g,Ek=/#/g;function Ac(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function di(c){c.g||(c.g=new Map,c.h=0,c.i&&gk(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ac.prototype,n.add=function(c,d){di(this),this.i=null,c=Is(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function tT(c,d){di(c),d=Is(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function nT(c,d){return di(c),d=Is(c,d),c.g.has(d)}n.forEach=function(c,d){di(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},n.na=function(){di(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let M=0;M<C.length;M++)f.push(d[m])}return f},n.V=function(c){di(this);let d=[];if(typeof c=="string")nT(this,c)&&(d=d.concat(this.g.get(Is(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return di(this),this.i=null,c=Is(this,c),nT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function rT(c,d,f){tT(c,d),0<f.length&&(c.i=null,c.g.set(Is(c,d),P(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let M=encodeURIComponent(String(m)),B=this.V(m);for(m=0;m<B.length;m++){var C=M;B[m]!==""&&(C+="="+encodeURIComponent(String(B[m]))),c.push(C)}}return this.i=c.join("&")};function Is(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Ik(c,d){d&&!c.j&&(di(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(tT(this,m),rT(this,C,f))},c)),c.j=d}function wk(c,d){let f=new Tc;if(a.Image){let m=new Image;m.onload=y(hi,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(hi,f,"TestLoadImage: error",!1,d,m),m.onabort=y(hi,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(hi,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function Dk(c,d){let f=new Tc,m=new AbortController,C=setTimeout(()=>{m.abort(),hi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(C),M.ok?hi(f,"TestPingServer: ok",!0,d):hi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),hi(f,"TestPingServer: error",!1,d)})}function hi(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function Tk(){this.g=new sk}function bk(c,d,f){let m=f||"";try{JD(c,function(C,M){let B=C;l(C)&&(B=hm(C)),d.push(m+M+"="+encodeURIComponent(B))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function Rc(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Rc,fm),Rc.prototype.g=function(){return new dd(this.l,this.j)},Rc.prototype.i=(function(c){return function(){return c}})({});function dd(c,d){Nt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(dd,Nt),n=dd.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Mc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mc(this)),this.g&&(this.readyState=3,Mc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iT(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function iT(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Nc(this):Mc(this),this.readyState==3&&iT(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Nc(this))},n.Qa=function(c){this.g&&(this.response=c,Nc(this))},n.ga=function(){this.g&&Nc(this)};function Nc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Mc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Mc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(dd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function oT(c){let d="";return pe(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Dm(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=oT(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ue(c,d,f))}function Ye(c){Nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ye,Nt);var Ck=/^https?$/i,Sk=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mm.g(),this.v=this.o?kD(this.o):kD(mm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){sT(this,M);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())f.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Sk,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,B]of f)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uT(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){sT(this,M)}};function sT(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,aT(c),hd(c)}function aT(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),hd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hd(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cT(this):this.bb())},n.bb=function(){cT(this)};function cT(c){if(c.h&&typeof s<"u"&&(!c.v[1]||kr(c)!=4||c.Z()!=2)){if(c.u&&kr(c)==4)ND(c.Ea,0,c);else if(Ht(c,"readystatechange"),kr(c)==4){c.h=!1;try{let B=c.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=B===0){var C=String(c.D).match(ZD)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!Ck.test(C?C.toLowerCase():"")}f=m}if(f)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var M=2<kr(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",aT(c)}}finally{hd(c)}}}}function hd(c,d){if(c.g){uT(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Ht(c,"ready");try{f.onreadystatechange=m}catch{}}}function uT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function kr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),ok(d)}};function lT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ak(c){let d={};c=(c.g&&2<=kr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(W(c[m]))continue;var f=T(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[C]||[];d[C]=M,M.push(f)}D(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function dT(c){this.Aa=0,this.i=[],this.j=new Tc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xc("baseRetryDelayMs",5e3,c),this.cb=xc("retryDelaySeedMs",1e4,c),this.Wa=xc("forwardChannelMaxRetries",2,c),this.wa=xc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new GD(c&&c.concurrentRequestLimit),this.Da=new Tk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=dT.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){zt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=ET(this,null,this.W),pd(this)};function Tm(c){if(hT(c),c.G==3){var d=c.U++,f=Pr(c.I);if(Ue(f,"SID",c.K),Ue(f,"RID",d),Ue(f,"TYPE","terminate"),Pc(c,f),d=new li(c,c.j,d),d.L=2,d.v=ld(Pr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=IT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ad(d)}_T(c)}function fd(c){c.g&&(Cm(c),c.g.cancel(),c.g=null)}function hT(c){fd(c),c.u&&(a.clearTimeout(c.u),c.u=null),gd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function pd(c){if(!WD(c.h)&&!c.s){c.s=!0;var d=c.Ga;mc||TD(),yc||(mc(),yc=!0),rm.add(d,c),c.B=0}}function Rk(c,d){return KD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Dc(g(c.Ga,c,d),vT(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new li(this,this.j,c),M=this.o;if(this.S&&(M?(M=v(M),w(M,this.S)):M=this.S),this.m!==null||this.O||(C.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=pT(this,C,d),f=Pr(this.I),Ue(f,"RID",c),Ue(f,"CVER",22),this.D&&Ue(f,"X-HTTP-Session-Id",this.D),Pc(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(oT(M)))+"&"+d:this.m&&Dm(f,this.m,M)),wm(this.h,C),this.Ua&&Ue(f,"TYPE","init"),this.P?(Ue(f,"$req",d),Ue(f,"SID","null"),C.T=!0,vm(C,f,null)):vm(C,f,d),this.G=2}}else this.G==3&&(c?fT(this,c):this.i.length==0||WD(this.h)||fT(this))};function fT(c,d){var f;d?f=d.l:f=c.U++;let m=Pr(c.I);Ue(m,"SID",c.K),Ue(m,"RID",f),Ue(m,"AID",c.T),Pc(c,m),c.m&&c.o&&Dm(m,c.m,c.o),f=new li(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=pT(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wm(c.h,f),vm(f,m,d)}function Pc(c,d){c.H&&pe(c.H,function(f,m){Ue(d,m,f)}),c.l&&JD({},function(f,m){Ue(d,m,f)})}function pT(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let M=-1;for(;;){let B=["count="+f];M==-1?0<f?(M=C[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let ke=!0;for(let wt=0;wt<f;wt++){let De=C[wt].g,Mt=C[wt].map;if(De-=M,0>De)M=Math.max(0,C[wt].g-100),ke=!1;else try{bk(Mt,B,"req"+De+"_")}catch{m&&m(Mt)}}if(ke){m=B.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function gT(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;mc||TD(),yc||(mc(),yc=!0),rm.add(d,c),c.v=0}}function bm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Dc(g(c.Fa,c),vT(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,mT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Dc(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),fd(this),mT(this))};function Cm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function mT(c){c.g=new li(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Pr(c.qa);Ue(d,"RID","rpc"),Ue(d,"SID",c.K),Ue(d,"AID",c.T),Ue(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(d,"TO",c.ja),Ue(d,"TYPE","xmlhttp"),Pc(c,d),c.m&&c.o&&Dm(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ld(Pr(d)),f.m=null,f.P=!0,HD(f,c)}n.Za=function(){this.C!=null&&(this.C=null,fd(this),bm(this),zt(19))};function gd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function yT(c,d){var f=null;if(c.g==d){gd(c),Cm(c),c.g=null;var m=2}else if(Im(c.h,d))f=d.D,QD(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=id(),Ht(m,new jD(m,f)),pd(c)}else gT(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&Rk(c,d)||m==2&&bm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:po(c,5);break;case 4:po(c,10);break;case 3:po(c,6);break;default:po(c,2)}}}function vT(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function po(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let C=!m;m=new fo(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cd(m,"https"),ld(m),C?wk(m.toString(),f):Dk(m.toString(),f)}else zt(2);c.G=0,c.l&&c.l.sa(d),_T(c),hT(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function _T(c){if(c.G=0,c.ka=[],c.l){let d=YD(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function ET(c,d,f){var m=f instanceof fo?Pr(f):new fo(f);if(m.g!="")d&&(m.g=d+"."+m.g),ud(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var M=new fo(null);m&&cd(M,m),d&&(M.g=d),C&&ud(M,C),f&&(M.l=f),m=M}return f=c.D,d=c.ya,f&&d&&Ue(m,f,d),Ue(m,"VER",c.la),Pc(c,m),m}function IT(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ye(new Rc({eb:f})):new Ye(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wT(){}n=wT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function md(){}md.prototype.g=function(c,d){return new un(c,d)};function un(c,d){Nt.call(this),this.g=new dT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ws(this)}b(un,Nt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Tm(this.g)},un.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=hm(c),c=f);d.i.push(new hk(d.Ya++,c)),d.G==3&&pd(d)},un.prototype.N=function(){this.g.l=null,delete this.j,Tm(this.g),delete this.g,un.aa.N.call(this)};function DT(c){pm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b(DT,pm);function TT(){gm.call(this),this.status=1}b(TT,gm);function ws(c){this.g=c}b(ws,wT),ws.prototype.ua=function(){Ht(this.g,"a")},ws.prototype.ta=function(c){Ht(this.g,new DT(c))},ws.prototype.sa=function(c){Ht(this.g,new TT)},ws.prototype.ra=function(){Ht(this.g,"b")},md.prototype.createWebChannel=md.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,iw=ri.createWebChannelTransport=function(){return new md},rw=ri.getStatEventTarget=function(){return id()},nw=ri.Event=lo,Hp=ri.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},od.NO_ERROR=0,od.TIMEOUT=8,od.HTTP_ERROR=6,Dl=ri.ErrorCode=od,UD.COMPLETE="complete",tw=ri.EventType=UD,OD.EventType=Ic,Ic.OPEN="a",Ic.CLOSE="b",Ic.ERROR="c",Ic.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,ka=ri.WebChannel=OD,v6=ri.FetchXmlHttpFactory=Rc,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,ew=ri.XhrIo=Ye}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});var ex="@firebase/firestore",tx="4.8.0";var Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");var ic="11.10.0";var ms=new Tr("@firebase/firestore");function Oa(){return ms.logLevel}function z(n,...e){if(ms.logLevel<=me.DEBUG){let t=e.map(q0);ms.debug(`Firestore (${ic}): ${n}`,...t)}}function oi(n,...e){if(ms.logLevel<=me.ERROR){let t=e.map(q0);ms.error(`Firestore (${ic}): ${n}`,...t)}}function io(n,...e){if(ms.logLevel<=me.WARN){let t=e.map(q0);ms.warn(`Firestore (${ic}): ${n}`,...t)}}function q0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Qx(n,r,t)}function Qx(n,e,t){let r=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw oi(r),new Error(r)}function Qe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Qx(e,i,r)}function Ie(n,e){return n}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends yn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Yp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},lw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Et.UNAUTHENTICATED))}shutdown(){}},dw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},hw=class{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xi)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new Yp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Et(e)}},fw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},pw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new fw(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},gw=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function Yx(){return new TextEncoder}var Nl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=_6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function fe(n,e){return n<e?-1:n>e?1:0}function mw(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return fe(r,i);{let o=Yx(),s=E6(o.encode(nx(n,t)),o.encode(nx(e,t)));return s!==0?s:fe(r,i)}}t+=r>65535?2:1}return fe(n.length,e.length)}function nx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function E6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return fe(n[t],e[t]);return fe(n.length,e.length)}function za(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var rx="__name__",Zp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return fe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):mw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ni.fromString(e.substring(4,e.length-2))}},ze=class n extends Zp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},I6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mn=class n extends Zp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return I6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rx}static keyField(){return new n([rx])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new q(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new q(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Y=class n{constructor(e){this.path=e}static fromPath(e){return new n(ze.fromString(e))}static fromName(e){return new n(ze.fromString(e).popFirst(5))}static empty(){return new n(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ze(e.slice()))}};function Jx(n,e,t){if(!t)throw new q(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function w6(n,e,t,r){if(e===!0&&r===!0)throw new q(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ix(n){if(!Y.isDocumentKey(n))throw new q(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ox(n){if(Y.isDocumentKey(n))throw new q(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Zx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function bg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":oe(12329,{type:typeof n})}function Wp(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=bg(n);throw new q(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function pt(n,e){let t={typeString:n};return e&&(t.value=e),t}function ql(n,e){if(!Zx(n))throw new q(j.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new q(j.INVALID_ARGUMENT,t);return!0}var sx=-62135596800,ax=1e6,yt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ax);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sx)throw new q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ax}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ql(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-sx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:pt("string",yt._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};var le=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new yt(0,0))}static max(){return new n(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ml=-1,yw=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};yw.UNKNOWN_ID=-1;function D6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new ys(i,Y.empty(),e)}function T6(n){return new ys(n.readTime,n.key,Ml)}var ys=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(le.min(),Y.empty(),Ml)}static max(){return new n(le.max(),Y.empty(),Ml)}};function b6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Y.comparator(n.documentKey,e.documentKey),t!==0?t:fe(n.largestBatchId,e.largestBatchId))}var C6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Cg(n){return _(this,null,function*(){if(n.code!==j.FAILED_PRECONDITION||n.message!==C6)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function S6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function oc(n){return n.name==="IndexedDbTransactionError"}var G0=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),A6=-1;function Sg(n){return n==null}function xl(n){return n===0&&1/n==-1/0}function R6(n){return typeof n=="number"&&Number.isInteger(n)&&!xl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Xx="";function N6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cx(e)),e=M6(n.get(t),e);return cx(e)}function M6(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case Xx:t+="";break;default:t+=o}}return t}function cx(n){return n+Xx+""}var x6="remoteDocuments",eP="owner";var tP="mutationQueues";var nP="mutations";var rP="documentMutations",P6="remoteDocumentsV14";var iP="remoteDocumentGlobal";var oP="targets";var sP="targetDocuments";var aP="targetGlobal",cP="collectionParents";var uP="clientMetadata";var lP="bundles";var dP="namedQueries";var k6="indexConfiguration";var O6="indexState";var F6="indexEntries";var hP="documentOverlays";var L6="globals";var V6=[tP,nP,rP,x6,oP,eP,aP,sP,uP,iP,cP,lP,dP],Mce=[...V6,hP],j6=[tP,nP,rP,P6,oP,eP,aP,sP,uP,iP,cP,lP,dP,hP],U6=j6,B6=[...U6,k6,O6,F6];var xce=[...B6,L6];function ux(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ot=class n{constructor(e,t){this.comparator=e,this.root=t||Rr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ja(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ja(this.root,e,this.comparator,!1)}getReverseIterator(){return new ja(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ja(this.root,e,this.comparator,!0)}},ja=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}};Rr.EMPTY=null,Rr.RED=!0,Rr.BLACK=!1;Rr.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Rr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var It=class n{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xp(this.data.getIterator())}getIteratorFrom(e){return new Xp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Xp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ds=class n{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new n([])}unionWith(e){let t=new It(Mn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var eg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var $t=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eg("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};$t.EMPTY_BYTE_STRING=new $t("");var $6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(n){if(Qe(!!n,39018),typeof n=="string"){let e=0,t=$6.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(n.seconds),nanos:He(n.nanos)}}function He(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ai(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}var pP="server_timestamp",gP="__type__",mP="__previous_value__",yP="__local_write_time__";function W0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[gP])===null||t===void 0?void 0:t.stringValue)===pP}function Ag(n){let e=n.mapValue.fields[mP];return W0(e)?Ag(e):e}function Pl(n){let e=si(n.mapValue.fields[yP].timestampValue);return new yt(e.seconds,e.nanos)}var _w=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},tg="(default)",ng=class n{constructor(e,t){this.projectId=e,this.database=t||tg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===tg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var K0="__type__",vP="__max__",zp={mapValue:{fields:{__type__:{stringValue:vP}}}},Q0="__vector__",qa="value";function oo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?W0(n)?4:EP(n)?9007199254740991:_P(n)?10:11:oe(28295,{value:n})}function Mr(n,e){if(n===e)return!0;let t=oo(n);if(t!==oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pl(n).isEqual(Pl(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=si(i.timestampValue),a=si(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return ai(i.bytesValue).isEqual(ai(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return He(i.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return He(i.integerValue)===He(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=He(i.doubleValue),a=He(o.doubleValue);return s===a?xl(s)===xl(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return za(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(ux(s)!==ux(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Mr(s[u],a[u])))return!1;return!0})(n,e);default:return oe(52216,{left:n})}}function kl(n,e){return(n.values||[]).find(t=>Mr(t,e))!==void 0}function Ga(n,e){if(n===e)return 0;let t=oo(n),r=oo(e);if(t!==r)return fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fe(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=He(o.integerValue||o.doubleValue),u=He(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return lx(n.timestampValue,e.timestampValue);case 4:return lx(Pl(n),Pl(e));case 5:return mw(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=ai(o),u=ai(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=fe(a[l],u[l]);if(h!==0)return h}return fe(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=fe(He(o.latitude),He(s.latitude));return a!==0?a:fe(He(o.longitude),He(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return dx(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[qa])===null||a===void 0?void 0:a.arrayValue,b=(u=g[qa])===null||u===void 0?void 0:u.arrayValue,P=fe(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:dx(y,b)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===zp.mapValue&&s===zp.mapValue)return 0;if(o===zp.mapValue)return 1;if(s===zp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=mw(u[p],h[p]);if(g!==0)return g;let y=Ga(a[u[p]],l[h[p]]);if(y!==0)return y}return fe(u.length,h.length)})(n.mapValue,e.mapValue);default:throw oe(23264,{le:t})}}function lx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return fe(n,e);let t=si(n),r=si(e),i=fe(t.seconds,r.seconds);return i!==0?i:fe(t.nanos,r.nanos)}function dx(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ga(t[i],r[i]);if(o)return o}return fe(t.length,r.length)}function Wa(n){return Ew(n)}function Ew(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=si(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ai(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Y.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Ew(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ew(t.fields[s])}`;return i+"}"})(n.mapValue):oe(61005,{value:n})}function Kp(n){switch(oo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Ag(n);return e?16+Kp(e):16;case 5:return 2*n.stringValue.length;case 6:return ai(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Kp(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return sc(r.fields,(o,s)=>{i+=o.length+Kp(s)}),i})(n.mapValue);default:throw oe(13486,{value:n})}}function hx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Iw(n){return!!n&&"integerValue"in n}function Y0(n){return!!n&&"arrayValue"in n}function fx(n){return!!n&&"nullValue"in n}function px(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ow(n){return!!n&&"mapValue"in n}function _P(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[K0])===null||t===void 0?void 0:t.stringValue)===Q0}function bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return sc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vP}var kce={mapValue:{fields:{[K0]:{stringValue:Q0},[qa]:{arrayValue:{}}}}};var ii=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ow(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(t)}setAll(e){let t=Mn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=bl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());ow(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ow(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){sc(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(bl(this.value))}};var rr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,le.min(),le.min(),le.min(),ii.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,le.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,le.min(),le.min(),ii.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,le.min(),le.min(),ii.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ka=class{constructor(e,t){this.position=e,this.inclusive=t}};function gx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),t.key):r=Ga(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function mx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}var Qa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function H6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var rg=class{},ft=class n extends rg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Dw(e,t,r):t==="array-contains"?new Cw(e,r):t==="in"?new Sw(e,r):t==="not-in"?new Aw(e,r):t==="array-contains-any"?new Rw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Tw(e,r):new bw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ga(t,this.value)):t!==null&&oo(this.value)===oo(t)&&this.matchesComparison(Ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ir=class n extends rg{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return IP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function IP(n){return n.op==="and"}function wP(n){return z6(n)&&IP(n)}function z6(n){for(let e of n.filters)if(e instanceof ir)return!1;return!0}function ww(n){if(n instanceof ft)return n.field.canonicalString()+n.op.toString()+Wa(n.value);if(wP(n))return n.filters.map(e=>ww(e)).join(",");{let e=n.filters.map(t=>ww(t)).join(",");return`${n.op}(${e})`}}function DP(n,e){return n instanceof ft?(function(r,i){return i instanceof ft&&r.op===i.op&&r.field.isEqual(i.field)&&Mr(r.value,i.value)})(n,e):n instanceof ir?(function(r,i){return i instanceof ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&DP(s,i.filters[a]),!0):!1})(n,e):void oe(19439)}function TP(n){return n instanceof ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${Wa(t.value)}`})(n):n instanceof ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(TP).join(" ,")+"}"})(n):"Filter"}var Dw=class extends ft{constructor(e,t,r){super(e,t,r),this.key=Y.fromName(r.referenceValue)}matches(e){let t=Y.comparator(e.key,this.key);return this.matchesComparison(t)}},Tw=class extends ft{constructor(e,t){super(e,"in",t),this.keys=bP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},bw=class extends ft{constructor(e,t){super(e,"not-in",t),this.keys=bP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function bP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Y.fromName(r.referenceValue))}var Cw=class extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Y0(t)&&kl(t.arrayValue,this.value)}},Sw=class extends ft{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&kl(this.value.arrayValue,t)}},Aw=class extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!kl(this.value.arrayValue,t)}},Rw=class extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Y0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>kl(this.value.arrayValue,r))}};var Nw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function yx(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Nw(n,e,t,r,i,o,s)}function J0(n){let e=Ie(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ww(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Sg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wa(r)).join(",")),e.Pe=t}return e.Pe}function Z0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!H6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!DP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mx(n.startAt,e.startAt)&&mx(n.endAt,e.endAt)}function Mw(n){return Y.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var vs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function q6(n,e,t,r,i,o,s,a){return new vs(n,e,t,r,i,o,s,a)}function X0(n){return new vs(n)}function vx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function CP(n){return n.collectionGroup!==null}function Cl(n){let e=Ie(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new It(Mn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Qa(o,r))}),t.has(Mn.keyField().canonicalString())||e.Te.push(new Qa(Mn.keyField(),r))}return e.Te}function Nr(n){let e=Ie(n);return e.Ie||(e.Ie=G6(e,Cl(n))),e.Ie}function G6(n,e){if(n.limitType==="F")return yx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Qa(i.field,o)});let t=n.endAt?new Ka(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ka(n.startAt.position,n.startAt.inclusive):null;return yx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function xw(n,e){let t=n.filters.concat([e]);return new vs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Pw(n,e,t){return new vs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rg(n,e){return Z0(Nr(n),Nr(e))&&n.limitType===e.limitType}function SP(n){return`${J0(Nr(n))}|lt:${n.limitType}`}function Fa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>TP(i)).join(", ")}]`),Sg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Wa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Wa(i)).join(",")),`Target(${r})`})(Nr(n))}; limitType=${n.limitType})`}function Ng(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Cl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=gx(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Cl(r),i)||r.endAt&&!(function(s,a,u){let l=gx(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Cl(r),i))})(n,e)}function W6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AP(n){return(e,t)=>{let r=!1;for(let i of Cl(n)){let o=K6(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function K6(n,e,t){let r=n.field.isKeyField()?Y.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ga(u,l):oe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:n.dir})}}var ci=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sc(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return fP(this.inner)}size(){return this.innerSize}};var Q6=new ot(Y.comparator);function so(){return Q6}var RP=new ot(Y.comparator);function Tl(...n){let e=RP;for(let t of n)e=e.insert(t.key,t);return e}function Y6(n){let e=RP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function hs(){return Sl()}function NP(){return Sl()}function Sl(){return new ci(n=>n.toString(),(n,e)=>n.isEqual(e))}var Oce=new ot(Y.comparator),J6=new It(Y.comparator);function we(...n){let e=J6;for(let t of n)e=e.add(t);return e}var Z6=new It(fe);function X6(){return Z6}function eD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xl(e)?"-0":e}}function MP(n){return{integerValue:""+n}}function ez(n,e){return R6(e)?MP(e):eD(n,e)}var Ya=class{constructor(){this._=void 0}};function tz(n,e,t){return n instanceof Ol?(function(i,o){let s={fields:{[gP]:{stringValue:pP},[yP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&W0(o)&&(o=Ag(o)),o&&(s.fields[mP]=o),{mapValue:s}})(t,e):n instanceof Ja?xP(n,e):n instanceof Za?PP(n,e):(function(i,o){let s=rz(i,o),a=_x(s)+_x(i.Ee);return Iw(s)&&Iw(i.Ee)?MP(a):eD(i.serializer,a)})(n,e)}function nz(n,e,t){return n instanceof Ja?xP(n,e):n instanceof Za?PP(n,e):t}function rz(n,e){return n instanceof Fl?(function(r){return Iw(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Ol=class extends Ya{},Ja=class extends Ya{constructor(e){super(),this.elements=e}};function xP(n,e){let t=kP(e);for(let r of n.elements)t.some(i=>Mr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Za=class extends Ya{constructor(e){super(),this.elements=e}};function PP(n,e){let t=kP(e);for(let r of n.elements)t=t.filter(i=>!Mr(i,r));return{arrayValue:{values:t}}}var Fl=class extends Ya{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function _x(n){return He(n.integerValue||n.doubleValue)}function kP(n){return Y0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function iz(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Ja&&i instanceof Ja||r instanceof Za&&i instanceof Za?za(r.elements,i.elements,Mr):r instanceof Fl&&i instanceof Fl?Mr(r.Ee,i.Ee):r instanceof Ol&&i instanceof Ol})(n.transform,e.transform)}var Al=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Qp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ll=class{};function OP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kw(n.key,Al.none()):new Vl(n.key,n.data,Al.none());{let t=n.data,r=ii.empty(),i=new It(Mn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Xa(n.key,r,new ds(i.toArray()),Al.none())}}function oz(n,e,t){n instanceof Vl?(function(i,o,s){let a=i.value.clone(),u=Ix(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Xa?(function(i,o,s){if(!Qp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Ix(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(FP(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Rl(n,e,t,r){return n instanceof Vl?(function(o,s,a,u){if(!Qp(o.precondition,s))return a;let l=o.value.clone(),h=wx(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Xa?(function(o,s,a,u){if(!Qp(o.precondition,s))return a;let l=wx(o.fieldTransforms,u,s),h=s.data;return h.setAll(FP(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return Qp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function Ex(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&za(r,i,(o,s)=>iz(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Vl=class extends Ll{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Xa=class extends Ll{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function FP(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Ix(n,e,t){let r=new Map;Qe(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,nz(s,a,t[i]))}return r}function wx(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,tz(o,s,e))}return r}var kw=class extends Ll{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Ow=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&oz(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=NP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=OP(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),we())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,(t,r)=>Ex(t,r))&&za(this.baseMutations,e.baseMutations,(t,r)=>Ex(t,r))}};var Fw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Lw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var dt,Ee;function LP(n){if(n===void 0)return oi("GRPC error has no .code"),j.UNKNOWN;switch(n){case dt.OK:return j.OK;case dt.CANCELLED:return j.CANCELLED;case dt.UNKNOWN:return j.UNKNOWN;case dt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case dt.INTERNAL:return j.INTERNAL;case dt.UNAVAILABLE:return j.UNAVAILABLE;case dt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case dt.NOT_FOUND:return j.NOT_FOUND;case dt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case dt.ABORTED:return j.ABORTED;case dt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case dt.DATA_LOSS:return j.DATA_LOSS;default:return oe(39323,{code:n})}}(Ee=dt||(dt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";var Dx=null;var sz=new ni([4294967295,4294967295],0);function Tx(n){let e=Yx().encode(n),t=new XI;return t.update(e),new Uint8Array(t.digest())}function bx(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ni([t,r],0),new ni([i,o],0)]}var Vw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fs(`Invalid padding: ${t}`);if(r<0)throw new fs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new fs(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ni.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(ni.fromNumber(r)));return i.compare(sz)===1&&(i=new ni([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=Tx(e),[r,i]=bx(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=Tx(e),[r,i]=bx(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},fs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ig=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,jl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(le.min(),i,new ot(fe),so(),we())}},jl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,we(),we(),we())}};var Ua=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},og=class{constructor(e,t){this.targetId=e,this.De=t}},sg=class{constructor(e,t,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},ag=class{constructor(){this.ve=0,this.Ce=Cx(),this.Fe=$t.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=we(),t=we(),r=we();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:o})}}),new jl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=Cx()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},jw=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=so(),this.je=qp(),this.Je=qp(),this.He=new ot(fe)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(Mw(o))if(r===0){let s=new Y(o.path);this.Xe(t,s,rr.newNoDocument(s,le.min()))}else Qe(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}Dx?.ct((function(h,p,g,y,b){var P,N,F,W,J,X;let Le={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},pe=p.unchangedNames;return pe&&(Le.bloomFilter={applied:b===0,hashCount:(P=pe?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(W=(F=(N=pe?.bits)===null||N===void 0?void 0:N.bitmap)===null||F===void 0?void 0:F.length)!==null&&W!==void 0?W:0,padding:(X=(J=pe?.bits)===null||J===void 0?void 0:J.padding)!==null&&X!==void 0?X:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Le})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ai(r).toUint8Array()}catch(u){if(u instanceof eg)return io("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Vw(s,i,o)}catch(u){return io(u instanceof fs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&Mw(a.target)){let u=new Y(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,rr.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=we();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new ig(e,t,this.He,this.ze,r);return this.ze=so(),this.je=qp(),this.Je=qp(),this.He=new ot(fe),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new ag,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new It(fe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new It(fe),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ag),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function qp(){return new ot(Y.comparator)}function Cx(){return new ot(Y.comparator)}var az={asc:"ASCENDING",desc:"DESCENDING"},cz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uz={and:"AND",or:"OR"},Uw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Bw(n,e){return n.useProto3Json||Sg(e)?e:{value:e}}function $w(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ba(n){return Qe(!!n,49232),le.fromTimestamp((function(t){let r=si(t);return new yt(r.seconds,r.nanos)})(n))}function jP(n,e){return Hw(n,e).canonicalString()}function Hw(n,e){let t=(function(i){return new ze(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function UP(n){let e=ze.fromString(n);return Qe(qP(e),10190,{key:e.toString()}),e}function sw(n,e){let t=UP(e);if(t.get(1)!==n.databaseId.projectId)throw new q(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Y($P(t))}function BP(n,e){return jP(n.databaseId,e)}function lz(n){let e=UP(n);return e.length===4?ze.emptyPath():$P(e)}function Sx(n){return new ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $P(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function dz(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Qe(h===void 0||typeof h=="string",58123),$t.fromBase64String(h||"")):(Qe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),$t.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?j.UNKNOWN:LP(l.code);return new q(h,l.message||"")})(s);t=new sg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=sw(n,r.document.name),o=Ba(r.document.updateTime),s=r.document.createTime?Ba(r.document.createTime):le.min(),a=new ii({mapValue:{fields:r.document.fields}}),u=rr.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ua(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=sw(n,r.document),o=r.readTime?Ba(r.readTime):le.min(),s=rr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ua([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=sw(n,r.document),o=r.removedTargetIds||[];t=new Ua([],o,i,null)}else{if(!("filter"in e))return oe(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Lw(i,o),a=r.targetId;t=new og(a,s)}}return t}function hz(n,e){return{documents:[BP(n,e.path)]}}function fz(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=BP(n,i);let o=(function(l){if(l.length!==0)return zP(ir.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:La(g.field),direction:mz(g.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Bw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function pz(n){let e=lz(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Qe(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let g=HP(p);return g instanceof ir&&wP(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(b){return new Qa(Va(b.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,Sg(g)?null:g})(t.limit));let u=null;t.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new Ka(y,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new Ka(y,g)})(t.endAt)),q6(e,i,s,o,a,"F",u,l)}function gz(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HP(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Va(t.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Va(t.unaryFilter.field);return ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Va(t.unaryFilter.field);return ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Va(t.unaryFilter.field);return ft.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ft.create(Va(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ir.create(t.compositeFilter.filters.map(r=>HP(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}})(t.compositeFilter.op))})(n):oe(30097,{filter:n})}function mz(n){return az[n]}function yz(n){return cz[n]}function vz(n){return uz[n]}function La(n){return{fieldPath:n.canonicalString()}}function Va(n){return Mn.fromServerFormat(n.fieldPath)}function zP(n){return n instanceof ft?(function(t){if(t.op==="=="){if(px(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NAN"}};if(fx(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(px(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NOT_NAN"}};if(fx(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(t.field),op:yz(t.op),value:t.value}}})(n):n instanceof ir?(function(t){let r=t.getFilters().map(i=>zP(i));return r.length===1?r[0]:{compositeFilter:{op:vz(t.op),filters:r}}})(n):oe(54877,{filter:n})}function qP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ul=class n{constructor(e,t,r,i,o=le.min(),s=le.min(),a=$t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var zw=class{constructor(e){this.gt=e}};function _z(n){let e=pz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pw(e,e.limit,"L"):e}var cg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(He(e.integerValue));else if("doubleValue"in e){let r=He(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),xl(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=si(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(ai(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?EP(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):_P(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):oe(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=qa,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(He(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),Y.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};cg.Ut=new cg;var qw=class{constructor(){this.Dn=new Gw}addToCollectionParentIndex(e,t){return this.Dn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(ys.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},Gw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new It(ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(ze.comparator)).toArray()}};var Fce=new Uint8Array(0);var Ax={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GP=41943040,Nn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(GP,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);var Bl=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var Rx="LruGarbageCollector",Ez=1048576;function Nx([n,e],[t,r]){let i=fe(n,t);return i===0?fe(e,r):i}var Ww=class{constructor(e){this.Tr=e,this.buffer=new It(Nx),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();Nx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Kw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){z(Rx,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){oc(t)?z(Rx,"Ignoring IndexedDB error during garbage collection: ",t):yield Cg(t)}yield this.Rr(3e5)}))}},Qw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return L.resolve(G0.ue);let r=new Ww(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(Ax)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ax):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Oa()<=me.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Iz(n,e){return new Qw(n,e)}var Yw=class{constructor(){this.changes=new ci(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Jw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Zw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Rl(r.mutation,i,ds.empty(),yt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,t,r=we()){let i=hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Tl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=hs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,we()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=so(),s=Sl(),a=(function(){return Sl()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Xa)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Rl(h.mutation,l,h.mutation.getFieldMask(),yt.now())):s.set(l.key,ds.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new Jw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Sl(),i=new ot((s,a)=>s-a),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||ds.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||we()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=NP();h.forEach(g=>{if(!o.has(g)){let y=OP(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(hs()),a=Ml,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,we())).next(h=>({batchId:a,changes:Y6(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Y(t)).next(r=>{let i=Tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Tl();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=(function(p,g){return new vs(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,rr.newInvalidDocument(h)))});let a=Tl();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Rl(h.mutation,l,ds.empty(),yt.now()),Ng(t,l)&&(a=a.insert(u,l))}),a})}};var Xw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return L.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Ba(i.createTime)}})(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:_z(i.bundledQuery),readTime:Ba(i.readTime)}})(t)),L.resolve()}};var e0=class{constructor(){this.overlays=new ot(Y.comparator),this.kr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=hs();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=hs(),o=t.length+1,s=new Y(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ot((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=hs(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=hs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Fw(t,r));let o=this.kr.get(t);o===void 0&&(o=we(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var t0=class{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var $l=class{constructor(){this.qr=new It(ht.Qr),this.$r=new It(ht.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new ht(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new ht(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new Y(new ze([])),r=new ht(t,e),i=new ht(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new Y(new ze([])),r=new ht(t,e),i=new ht(t,e+1),o=we();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ht(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ht=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Y.comparator(e.key,t.key)||fe(e.Hr,t.Hr)}static Ur(e,t){return fe(e.Hr,t.Hr)||Y.comparator(e.key,t.key)}};var n0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new It(ht.Qr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ow(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new ht(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?A6:this.er-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ht(t,0),i=new ht(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(fe);return t.forEach(i=>{let o=new ht(i,0),s=new ht(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),L.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Y.isDocumentKey(o)||(o=o.child(""));let s=new ht(new Y(o),0),a=new It(fe);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),L.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Qe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return L.forEach(t.mutations,i=>{let o=new ht(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new ht(t,0),i=this.Yr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var r0=class{constructor(e){this.ni=e,this.docs=(function(){return new ot(Y.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(t))}getEntries(e,t){let r=so();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rr.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=so(),s=t.path,a=new Y(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||b6(T6(h),r)<=0||(i.has(h.key)||Ng(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){oe(9500)}ri(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new i0(this)}getSize(e){return L.resolve(this.size)}},i0=class extends Yw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var o0=class{constructor(e){this.persistence=e,this.ii=new ci(t=>J0(t),Z0),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.si=0,this.oi=new $l,this.targetCount=0,this._i=Bl.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),L.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Bl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.hr(t),L.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.oi.containsKey(t))}};var ug=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new G0(0),this.ci=!1,this.ci=!0,this.li=new t0,this.referenceDelegate=e(this),this.hi=new o0(this),this.indexManager=new qw,this.remoteDocumentCache=(function(i){return new r0(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new zw(t),this.Ti=new Xw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new e0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new n0(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new s0(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return L.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},s0=class extends vw{constructor(e){super(),this.currentSequenceNumber=e}},a0=class n{constructor(e){this.persistence=e,this.Ai=new $l,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw oe(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.mi,r=>{let i=Y.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,le.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return L.or([()=>L.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},lg=class n{constructor(e,t){this.persistence=e,this.gi=new ci(r=>N6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Iz(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return L.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?L.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kp(e.data.value)),t}Sr(e,t,r){return L.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var c0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=we(),i=we();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var u0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var l0=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return gN()?8:S6(_t())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new u0;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Oa()<=me.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Fa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Oa()<=me.DEBUG&&z("QueryEngine","Query:",Fa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Oa()<=me.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Fa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(t))):L.resolve())}ps(e,t){if(vx(t))return L.resolve(null);let r=Nr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Pw(t,null,"F"),r=Nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=we(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,Pw(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return vx(t)||i.isEqual(le.min())?L.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?L.resolve(null):(Oa()<=me.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fa(t)),this.vs(e,s,t,D6(i,Ml)).next(a=>a))})}bs(e,t){let r=new It(AP(e));return t.forEach((i,o)=>{Ng(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Oa()<=me.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Fa(t)),this.gs.getDocumentsMatchingQuery(e,t,ys.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var tD="LocalStore",wz=3e8,d0=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ot(fe),this.Ms=new ci(o=>J0(o),Z0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function Dz(n,e,t,r){return new d0(n,e,t,r)}function WP(n,e){return _(this,null,function*(){let t=Ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=we();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function KP(n){let e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function Tz(n,e){let t=Ie(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken($t.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(P,N,F){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=wz?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(g,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=so(),l=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(bz(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(le.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function bz(n,e,t){let r=we(),i=we();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=so();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z(tD,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function Cz(n,e){let t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Ul(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function h0(n,e,t){return _(this,null,function*(){let r=Ie(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!oc(s))throw s;z(tD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function Mx(n,e,t){let r=Ie(n),i=le.min(),o=we();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=Ie(u),g=p.Ms.get(h);return g!==void 0?L.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)})(r,s,Nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:le.min(),t?o:we())).next(a=>(Sz(r,W6(e),a),{documents:a,qs:o})))}function Sz(n,e,t){let r=n.xs.get(e)||le.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var dg=class{constructor(){this.activeTargetIds=X6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var f0=class{constructor(){this.Fo=new dg,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new dg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var p0=class{xo(e){}shutdown(){}};var xx="ConnectivityMonitor",hg=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){z(xx,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){z(xx,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Gp=null;function g0(){return Gp===null?Gp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gp++,"0x"+Gp.toString(16)}var aw="RestConnection",Az={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},m0=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===tg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=g0(),a=this.Go(e,t.toUriEncodedString());z(aw,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Ui(l);return this.jo(e,a,u,r,h).then(p=>(z(aw,`Received RPC '${e}' ${s}: `,p),p),p=>{throw io(aw,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ic})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=Az[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var y0=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Ut="WebChannelConnection",v0=class extends m0{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=g0();return new Promise((a,u)=>{let l=new ew;l.setWithCredentials(!0),l.listenOnce(tw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dl.NO_ERROR:let p=l.getResponseJson();z(Ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Dl.TIMEOUT:z(Ut,`RPC '${e}' ${s} timed out`),u(new q(j.DEADLINE_EXCEEDED,"Request time out"));break;case Dl.HTTP_ERROR:let g=l.getStatus();if(z(Ut,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let P=(function(F){let W=F.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(W)>=0?W:j.UNKNOWN})(b.status);u(new q(P,b.message))}else u(new q(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new q(j.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{z(Ut,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);z(Ut,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=g0(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=iw(),a=rw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(Ut,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,y=!1,b=new y0({Ho:N=>{y?z(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(z(Ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),z(Ut,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Yo:()=>p.close()}),P=(N,F,W)=>{N.listen(F,J=>{try{W(J)}catch(X){setTimeout(()=>{throw X},0)}})};return P(p,ka.EventType.OPEN,()=>{y||(z(Ut,`RPC '${e}' stream ${i} transport opened.`),b.s_())}),P(p,ka.EventType.CLOSE,()=>{y||(y=!0,z(Ut,`RPC '${e}' stream ${i} transport closed`),b.__(),this.I_(p))}),P(p,ka.EventType.ERROR,N=>{y||(y=!0,io(Ut,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),b.__(new q(j.UNAVAILABLE,"The operation could not be completed")))}),P(p,ka.EventType.MESSAGE,N=>{var F;if(!y){let W=N.data[0];Qe(!!W,16349);let J=W,X=J?.error||((F=J[0])===null||F===void 0?void 0:F.error);if(X){z(Ut,`RPC '${e}' stream ${i} received error:`,X);let Le=X.status,pe=(function(I){let w=dt[I];if(w!==void 0)return LP(w)})(Le),D=X.message;pe===void 0&&(pe=j.INTERNAL,D="Unknown error status: "+Le+" with message "+X.message),y=!0,b.__(new q(pe,D)),p.close()}else z(Ut,`RPC '${e}' stream ${i} received:`,W),b.a_(W)}}),P(a,nw.STAT_EVENT,N=>{N.stat===Hp.PROXY?z(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Hp.NOPROXY&&z(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function cw(){return typeof document<"u"?document:null}function Mg(n){return new Uw(n,!0)}var fg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Px="PersistentStream",_0=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new fg(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new q(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return z(Px,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(z(Px,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},E0=class extends _0{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=dz(this.serializer,e),r=(function(o){if(!("targetChange"in o))return le.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?Ba(s.readTime):le.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Sx(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=Mw(u)?{documents:hz(o,u)}:{query:fz(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=VP(o,s.resumeToken);let l=Bw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(le.min())>0){a.readTime=$w(o,s.snapshotVersion.toTimestamp());let l=Bw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=gz(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Sx(this.serializer),t.removeTarget=e,this.k_(t)}};var I0=class{},w0=class extends I0{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new q(j.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Hw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(j.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Hw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(j.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},D0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(oi(t),this._a=!1):z("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ec="RemoteStore",T0=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Wl(this)&&(z(ec,"Restarting streams for network reachability change."),yield(function(u){return _(this,null,function*(){let l=Ie(u);l.Ia.add(4),yield Gl(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield xg(l)})})(this))}))}),this.Aa=new D0(r,i)}};function xg(n){return _(this,null,function*(){if(Wl(n))for(let e of n.da)yield e(!0)})}function Gl(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function QP(n,e){let t=Ie(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),oD(t)?iD(t):ac(t).x_()&&rD(t,e))}function nD(n,e){let t=Ie(n),r=ac(t);t.Ta.delete(e),r.x_()&&YP(t,e),t.Ta.size===0&&(r.x_()?r.B_():Wl(t)&&t.Aa.set("Unknown"))}function rD(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ac(n).H_(e)}function YP(n,e){n.Ra.$e(e),ac(n).Y_(e)}function iD(n){n.Ra=new jw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),ac(n).start(),n.Aa.aa()}function oD(n){return Wl(n)&&!ac(n).M_()&&n.Ta.size>0}function Wl(n){return Ie(n).Ia.size===0}function JP(n){n.Ra=void 0}function Rz(n){return _(this,null,function*(){n.Aa.set("Online")})}function Nz(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{rD(n,e)})})}function Mz(n,e){return _(this,null,function*(){JP(n),oD(n)?(n.Aa.la(e),iD(n)):n.Aa.set("Unknown")})}function xz(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof sg&&e.state===2&&e.cause)try{yield(function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){z(ec,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield kx(n,r)}else if(e instanceof Ua?n.Ra.Ye(e):e instanceof og?n.Ra.it(e):n.Ra.et(e),!t.isEqual(le.min()))try{let r=yield KP(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken($t.EMPTY_BYTE_STRING,h.snapshotVersion)),YP(o,u);let p=new Ul(h.target,u,l,h.sequenceNumber);rD(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){z(ec,"Failed to raise snapshot:",r),yield kx(n,r)}})}function kx(n,e,t){return _(this,null,function*(){if(!oc(e))throw e;n.Ia.add(1),yield Gl(n),n.Aa.set("Offline"),t||(t=()=>KP(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){z(ec,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield xg(n)}))})}function Ox(n,e){return _(this,null,function*(){let t=Ie(n);t.asyncQueue.verifyOperationInProgress(),z(ec,"RemoteStore received new credentials");let r=Wl(t);t.Ia.add(3),yield Gl(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield xg(t)})}function Pz(n,e){return _(this,null,function*(){let t=Ie(n);e?(t.Ia.delete(2),yield xg(t)):e||(t.Ia.add(2),yield Gl(t),t.Aa.set("Unknown"))})}function ac(n){return n.Va||(n.Va=(function(t,r,i){let o=Ie(t);return o.ia(),new E0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:Rz.bind(null,n),e_:Nz.bind(null,n),n_:Mz.bind(null,n),J_:xz.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),oD(n)?iD(n):n.Aa.set("Unknown")):(yield n.Va.stop(),JP(n))}))),n.Va}var b0=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ZP(n,e){if(oi("AsyncQueue",`${e}: ${n}`),oc(n))return new q(j.UNAVAILABLE,`${e}: ${n}`);throw n}var pg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Y.comparator(t.key,r.key):(t,r)=>Y.comparator(t.key,r.key),this.keyedMap=Tl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var gg=class{constructor(){this.fa=new ot(Y.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):oe(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},tc=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,pg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var C0=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},S0=class{constructor(){this.queries=Fx(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=Ie(t),o=i.queries;i.queries=Fx(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new q(j.ABORTED,"Firestore shutting down"))}};function Fx(){return new ci(n=>SP(n),Rg)}function kz(n,e){return _(this,null,function*(){let t=Ie(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new C0,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=ZP(s,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&sD(t)})}function Oz(n,e){return _(this,null,function*(){let t=Ie(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Fz(n,e){let t=Ie(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&sD(t)}function Lz(n,e,t){let r=Ie(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function sD(n){n.Da.forEach(e=>{e.next()})}var A0,Lx;(Lx=A0||(A0={})).Fa="default",Lx.Cache="cache";var R0=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==A0.Cache}};var mg=class{constructor(e){this.key=e}},yg=class{constructor(e){this.key=e}},N0=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=we(),this.mutatedKeys=we(),this.Xa=AP(e),this.eu=new pg(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new gg,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Ng(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;g&&y?g.data.isEqual(y.data)?b!==P&&(r.track({type:3,doc:y}),N=!0):this.iu(g,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),N=!0):g&&!y&&(r.track({type:1,doc:g}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,b){let P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{At:N})}};return P(y)-P(b)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new tc(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new gg,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=we(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new yg(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new mg(r))}),t}uu(e){this.Ha=e.qs,this.Za=we();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return tc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},aD="SyncEngine",M0=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},x0=class{constructor(e){this.key=e,this.lu=!1}},P0=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ci(a=>SP(a),Rg),this.Tu=new Map,this.Iu=new Set,this.du=new ot(Y.comparator),this.Eu=new Map,this.Au=new $l,this.Ru={},this.Vu=new Map,this.mu=Bl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Vz(n,e,t=!0){return _(this,null,function*(){let r=r1(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield XP(r,e,t,!0),i})}function jz(n,e){return _(this,null,function*(){let t=r1(n);yield XP(t,e,!0,!1)})}function XP(n,e,t,r){return _(this,null,function*(){let i=yield Cz(n.localStore,Nr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Uz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&QP(n.remoteStore,i),a})}function Uz(n,e,t,r,i){return _(this,null,function*(){n.gu=(p,g,y)=>(function(P,N,F,W){return _(this,null,function*(){let J=N.view.nu(F);J.Ds&&(J=yield Mx(P.localStore,N.query,!1).then(({documents:D})=>N.view.nu(D,J)));let X=W&&W.targetChanges.get(N.targetId),Le=W&&W.targetMismatches.get(N.targetId)!=null,pe=N.view.applyChanges(J,P.isPrimaryClient,X,Le);return jx(P,N.targetId,pe._u),pe.snapshot})})(n,p,g,y);let o=yield Mx(n.localStore,e,!0),s=new N0(e,o.qs),a=s.nu(o.documents),u=jl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);jx(n,t,l._u);let h=new M0(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function Bz(n,e,t){return _(this,null,function*(){let r=Ie(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Rg(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield h0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&nD(r.remoteStore,i.targetId),k0(r,i.targetId)}).catch(Cg))):(k0(r,i.targetId),yield h0(r.localStore,i.targetId,!0))})}function $z(n,e){return _(this,null,function*(){let t=Ie(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),nD(t.remoteStore,r.targetId))})}function e1(n,e){return _(this,null,function*(){let t=Ie(n);try{let r=yield Tz(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Qe(s.lu,14607):i.removedDocuments.size>0&&(Qe(s.lu,42227),s.lu=!1))}),yield n1(t,r,e)}catch(r){yield Cg(r)}})}function Vx(n,e,t){let r=Ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=Ie(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&sD(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Hz(n,e,t){return _(this,null,function*(){let r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ot(Y.comparator);s=s.insert(o,rr.newNoDocument(o,le.min()));let a=we().add(o),u=new ig(le.min(),new Map,new ot(fe),s,a);yield e1(r,u),r.du=r.du.remove(o),r.Eu.delete(e),cD(r)}else yield h0(r.localStore,e,!1).then(()=>k0(r,e,t)).catch(Cg)})}function k0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||t1(n,r)})}function t1(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(nD(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),cD(n))}function jx(n,e,t){for(let r of t)r instanceof mg?(n.Au.addReference(r.key,e),zz(n,r)):r instanceof yg?(z(aD,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||t1(n,r.key)):oe(19791,{yu:r})}function zz(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(z(aD,"New document in limbo: "+t),n.Iu.add(r),cD(n))}function cD(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new Y(ze.fromString(e)),r=n.mu.next();n.Eu.set(r,new x0(t)),n.du=n.du.insert(t,r),QP(n.remoteStore,new Ul(Nr(X0(t.path)),r,"TargetPurposeLimboResolution",G0.ue))}}function n1(n,e,t){return _(this,null,function*(){let r=Ie(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=c0.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return _(this,null,function*(){let h=Ie(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>L.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!oc(p))throw p;z(tD,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),b=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(b);h.Fs=h.Fs.insert(g,P)}}})})(r.localStore,o))})}function qz(n,e){return _(this,null,function*(){let t=Ie(n);if(!t.currentUser.isEqual(e)){z(aD,"User change. New user:",e.toKey());let r=yield WP(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new q(j.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield n1(t,r.Bs)}})}function Gz(n,e){let t=Ie(n),r=t.Eu.get(e);if(r&&r.lu)return we().add(r.key);{let i=we(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function r1(n){let e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hz.bind(null,e),e.hu.J_=Fz.bind(null,e.eventManager),e.hu.pu=Lz.bind(null,e.eventManager),e}var i1=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Mg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return Dz(this.persistence,new l0,t.initialUser,this.serializer)}Du(t){return new ug(a0.Vi,this.serializer)}bu(t){return new f0}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),O0=class extends i1{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Qe(this.persistence.referenceDelegate instanceof lg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Kw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new ug(r=>lg.Vi(r,t),this.serializer)}};var Wz=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Vx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qz.bind(null,this.syncEngine),yield Pz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new S0})()}createDatastore(t){let r=Mg(t.databaseInfo.databaseId),i=(function(s){return new v0(s)})(t.databaseInfo);return(function(s,a,u,l){return new w0(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new T0(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>Vx(this.syncEngine,r,0),(function(){return hg.C()?new hg:new p0})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let g=new P0(o,s,a,u,l,h);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield(function(o){return _(this,null,function*(){let s=Ie(o);z(ec,"RemoteStore shutting down."),s.Ia.add(5),yield Gl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var F0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ao="FirestoreClient",L0=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=Nl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){z(ao,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z(ao,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=ZP(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function uw(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z(ao,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield WP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{io("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{z("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{io("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function Ux(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Kz(n);z(ao,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Ox(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Ox(e.remoteStore,i)),n._onlineComponents=e})}function Kz(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z(ao,"Using user provided OfflineComponentProvider");try{yield uw(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;io("Error using user provided cache. Falling back to memory cache: "+t),yield uw(n,new i1)}}else z(ao,"Using default OfflineComponentProvider"),yield uw(n,new O0(void 0));return n._offlineComponents})}function Qz(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z(ao,"Using user provided OnlineComponentProvider"),yield Ux(n,n._uninitializedComponentsProvider._online)):(z(ao,"Using default OnlineComponentProvider"),yield Ux(n,new Wz))),n._onlineComponents})}function Bx(n){return _(this,null,function*(){let e=yield Qz(n),t=e.eventManager;return t.onListen=Vz.bind(null,e.syncEngine),t.onUnlisten=Bz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$z.bind(null,e.syncEngine),t})}function o1(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var $x=new Map;var s1="firestore.googleapis.com",Hx=!0,vg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s1,this.ssl=Hx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Hx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ez)throw new q(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},nc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lw;switch(r.type){case"firstParty":return new pw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=$x.get(t);r&&(z("ComponentProvider","Removing Datastore"),$x.delete(t),r.terminate())})(this),Promise.resolve()}};function a1(n,e,t,r={}){var i;n=Wp(n,nc);let o=Ui(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(gp(`https://${u}`),mp("Firestore",!0)),s.host!==s1&&s.host!==u&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Dr(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Et.MOCK_USER;else{h=uN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new q(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Et(g)}n._authCredentials=new dw(new Yp(h,p))}}var rc=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Bt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ql(t,n._jsonSchema))return new n(e,r||null,new Y(ze.fromString(t.referencePath)))}};Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:pt("string",Bt._jsonSchemaVersion),referencePath:pt("string")};var eo=class n extends rc{constructor(e,t,r){super(e,t,X0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new Y(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function c1(n,e,...t){if(n=St(n),Jx("collection","path",e),n instanceof nc){let r=ze.fromString(e,...t);return ox(r),new eo(n,null,r)}{if(!(n instanceof Bt||n instanceof eo))throw new q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ze.fromString(e,...t));return ox(r),new eo(n.firestore,null,r)}}function u1(n,e,...t){if(n=St(n),arguments.length===1&&(e=Nl.newId()),Jx("doc","path",e),n instanceof nc){let r=ze.fromString(e,...t);return ix(r),new Bt(n,null,new Y(r))}{if(!(n instanceof Bt||n instanceof eo))throw new q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ze.fromString(e,...t));return ix(r),new Bt(n.firestore,n instanceof eo?n.converter:null,new Y(r))}}var zx="AsyncQueue",_g=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new fg(this,"async_queue_retry"),this.oc=()=>{let r=cw();r&&z(zx,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=cw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=cw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Xi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!oc(e))throw e;z(zx,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,oi("INTERNAL UNHANDLED ERROR: ",qx(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=b0.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&oe(47125,{hc:qx(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function qx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Gx(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Hl=class extends nc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new _g,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new _g(e),this._firestoreClient=void 0,yield e}})}};function l1(n,e){let t=typeof n=="object"?n:os(),r=typeof n=="string"?n:e||tg,i=Na(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=cN("firestore");o&&a1(i,...o)}return i}function Yz(n){if(n._terminated)throw new q(j.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Jz(n),n._firestoreClient}function Jz(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new _w(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,o1(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new L0(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var to=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n($t.fromBase64String(e))}catch(t){throw new q(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ql(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};to._jsonSchemaVersion="firestore/bytes/1.0",to._jsonSchema={type:pt("string",to._jsonSchemaVersion),bytes:pt("string")};var Eg=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ig=class{constructor(e){this._methodName=e}};var no=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(ql(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};no._jsonSchemaVersion="firestore/geoPoint/1.0",no._jsonSchema={type:pt("string",no._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};var ro=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ql(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new q(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ro._jsonSchemaVersion="firestore/vectorValue/1.0",ro._jsonSchema={type:pt("string",ro._jsonSchemaVersion),vectorValues:pt("object")};var Zz=/^__.*__$/;function d1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ec:n})}}var V0=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return U0(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(d1(this.Ec)&&Zz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},j0=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mg(e)}Dc(e,t,r,i=!1){return new V0({Ec:e,methodName:t,bc:r,path:Mn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Xz(n){let e=n._freezeSettings(),t=Mg(n._databaseId);return new j0(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eq(n,e,t,r=!1){return uD(t,n.Dc(r?4:3,e))}function uD(n,e){if(h1(n=St(n)))return nq("Unsupported field value:",e,n),tq(n,e);if(n instanceof Ig)return(function(r,i){if(!d1(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=uD(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ez(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=yt.fromDate(r);return{timestampValue:$w(i.serializer,o)}}if(r instanceof yt){let o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$w(i.serializer,o)}}if(r instanceof no)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof to)return{bytesValue:VP(i.serializer,r._byteString)};if(r instanceof Bt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jP(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ro)return(function(s,a){return{mapValue:{fields:{[K0]:{stringValue:Q0},[qa]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return eD(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${bg(r)}`)})(n,e)}function tq(n,e){let t={};return fP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sc(n,(r,i)=>{let o=uD(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function h1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof no||n instanceof to||n instanceof Bt||n instanceof Ig||n instanceof ro)}function nq(n,e,t){if(!h1(t)||!Zx(t)){let r=bg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}var rq=new RegExp("[~\\*/\\[\\]]");function iq(n,e,t){if(e.search(rq)>=0)throw U0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Eg(...e.split("."))._internalPath}catch{throw U0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function U0(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new q(j.INVALID_ARGUMENT,a+n+u)}var wg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new B0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(lD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},B0=class extends wg{data(){return super.data()}};function lD(n,e){return typeof e=="string"?iq(n,e):e instanceof Eg?e._internalPath:e._delegate._internalPath}function oq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zl=class{},$0=class extends zl{};function f1(n,e,...t){let r=[];e instanceof zl&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof H0).length,a=o.filter(u=>u instanceof Dg).length;if(s>1||s>0&&a>0)throw new q(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Dg=class n extends $0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return g1(e._query,t),new rc(e.firestore,e.converter,xw(e._query,t))}_parse(e){let t=Xz(e.firestore);return(function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Kx(p,h);let b=[];for(let P of p)b.push(Wx(u,o,P));g={arrayValue:{values:b}}}else g=Wx(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Kx(p,h),g=eq(a,s,p,h==="in"||h==="not-in");return ft.create(l,h,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function p1(n,e,t){let r=e,i=lD("where",n);return Dg._create(i,r,t)}var H0=class n extends zl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ir.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)g1(s,u),s=xw(s,u)})(e._query,t),new rc(e.firestore,e.converter,xw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Wx(n,e,t){if(typeof(t=St(t))=="string"){if(t==="")throw new q(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CP(e)&&t.indexOf("/")!==-1)throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ze.fromString(t));if(!Y.isDocumentKey(r))throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hx(n,new Y(r))}if(t instanceof Bt)return hx(n,t._key);throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bg(t)}.`)}function Kx(n,e){if(!Array.isArray(n)||n.length===0)throw new q(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g1(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new q(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var z0=class{convertValue(e,t="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return sc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[qa].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>He(s.doubleValue));return new ro(o)}convertGeoPoint(e){return new no(He(e.latitude),He(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Ag(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){let t=si(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ze.fromString(e);Qe(qP(r),9688,{name:e});let i=new ng(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(t)||oi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var ps=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},gs=class n extends wg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new $a(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(lD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",gs._jsonSchema={type:pt("string",gs._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};var $a=class extends gs{data(e={}){return super.data(e)}},Ha=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ps(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $a(this._firestore,this._userDataWriter,r.key,r,new ps(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new $a(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ps(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new $a(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ps(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:sq(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function sq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:n})}}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:pt("string",Ha._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};var Tg=class extends z0{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,t)}};function m1(n,...e){var t,r,i;n=St(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Gx(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Gx(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Bt)l=Wp(n.firestore,Hl),h=X0(n._key.path),u={next:p=>{e[s]&&e[s](aq(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Wp(n,rc);l=Wp(p.firestore,Hl),h=p._query;let g=new Tg(l);u={next:y=>{e[s]&&e[s](new Ha(l,g,p,y))},error:e[s+1],complete:e[s+2]},oq(n._query)}return(function(g,y,b,P){let N=new F0(P),F=new R0(y,N,b);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return kz(yield Bx(g),F)})),()=>{N.Ou(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Oz(yield Bx(g),F)}))}})(Yz(l),h,a,u)}function aq(n,e,t){let r=t.docs.get(e._key),i=new Tg(n);return new gs(n,i,e._key,r,new ps(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ic=i})($i),er(new Qt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Hl(new hw(r.getProvider("auth-internal")),new gw(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new q(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ng(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),nt(ex,tx,e),nt(ex,tx,"esm2017")})();var _s=class{constructor(e){return e}},y1="firestore",dD=class{constructor(){return xa(y1)}};var hD=new $("angularfire2.firestore-instances");function cq(n,e){let t=ul(y1,n,e);return t&&new _s(t)}function uq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new _s(r)}}var lq={provide:dD,deps:[[new pn,hD]]},dq={provide:_s,useFactory:cq,deps:[[new pn,hD],Xr]};function v1(n,...e){return nt("angularfire",Hi.full,"fst"),hn([dq,lq,{provide:hD,useFactory:uq(n),multi:!0,deps:[be,Ze,zi,as,[new pn,wl],[new pn,Pa],...e]}])}var Kl=At(c1,!0,2);var _1=At(u1,!0,2);var E1=At(l1,!0);var cc=At(m1,!0);var Pg=At(f1,!0,2);var co=At(p1,!0,2);var uc=class n{firestore=x(_s);constructor(){}createRealtimeObservable(e,t){let r=Pg(e,co("date","==",t));return new Z(i=>{let o=cc(r,s=>{let a=[];s.forEach(u=>{a.push(V({id:u.id},u.data()))}),i.next(a)},s=>{i.error(s)});return()=>o()})}getTickets(e){let t=Kl(this.firestore,"tickets");return this.createRealtimeObservable(t,e)}getMonthlyOracleTickets(e){let t=new Date;t.setDate(t.getDate()+e);let r=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth()+1,0),o=Pg(Kl(this.firestore,"tickets"),co("title","==","The Oracle's Choice"),co("date",">=",r.toISOString().split("T")[0]),co("date","<=",i.toISOString().split("T")[0]));return new Z(s=>{let a=cc(o,u=>{let l=[];u.forEach(p=>{l.push(V({id:p.id},p.data()))});let h=l.sort((p,g)=>new Date(p.date).getTime()-new Date(g.date).getTime());s.next(h)},u=>{console.error("[ApiService] Error fetching monthly oracle tickets:",u),s.error(u)});return()=>a()})}getShortlist(e){let t=new Date(e.setHours(0,0,0,0)),r=new Date(e.setHours(23,59,59,999)),i=Pg(Kl(this.firestore,"predictions"),co("matchDate",">=",t.toISOString()),co("matchDate","<=",r.toISOString()),co("odd",">=",1.25));return new Z(o=>{let s=cc(i,a=>{let u=a.docs.map(y=>V({id:y.id},y.data())),l=new Map;u.forEach(y=>{y.fixtureId&&y.league&&l.set(y.fixtureId,y.league)});let h=u.map(y=>!y.league&&y.fixtureId&&l.has(y.fixtureId)?te(V({},y),{league:l.get(y.fixtureId)}):y),p=[],g=new Set;for(let y of h)g.has(y.id)||(g.add(y.id),p.push(y));p.sort((y,b)=>new Date(y.matchDate).getTime()-new Date(b.matchDate).getTime()),console.log("[ApiService] Donn\xE9es brutes re\xE7ues de Firestore (Pr\xE9dictions):",p),o.next(p)});return()=>s()}).pipe(qe(o=>{if(o.length===0)return K({report:null,predictions:[]});let s=o[0].backtestExecutionId;if(!s)return K({report:null,predictions:o.map(p=>te(V({},p),{resultStatus:"UNKNOWN"}))});let a=_1(this.firestore,"prediction_reports",s),u=Kl(this.firestore,`prediction_reports/${s}/results`),l=new Z(p=>{let g=cc(a,y=>{p.next(y.exists()?V({executionId:s},y.data()):null)});return()=>g()}),h=new Z(p=>{let g=cc(u,y=>{p.next(y.docs.map(b=>b.data()))});return()=>g()});return _o([l,h]).pipe(ce(([p,g])=>{let y=new Map(g.map(P=>[P.predictionId,P.result])),b=o.map(P=>{let N=y.get(P.id);return N?te(V({},P),{resultStatus:N}):p?.status==="PROCESSING"?te(V({},P),{resultStatus:"IN_PROGRESS"}):te(V({},P),{resultStatus:"UNKNOWN"})});return{report:p,predictions:b}}))}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var hq=(n,e)=>({"bg-[#222] border border-[#00FF41]":n,"bg-[#111] hover:bg-[#1A1A1A]":e});function fq(n,e){if(n&1){let t=Tn();A(0,"button",9),$e("click",function(){let i=Lt(t).$implicit,o=Te();return Vt(o.onSelectDay(i))}),A(1,"span",10),k(2),R(),A(3,"span",11),k(4),R()()}if(n&2){let t=e.$implicit,r=Te();G("ngClass",_u(3,hq,t===r.selectedDayOffset,t!==r.selectedDayOffset)),O(2),Ae(" ",t===0?"Aujourd'hui":t>0?"J+"+t:"J"+t," "),O(2),Ae(" ",r.getDateForOffset(t).getDate()," ")}}var kg=class n{selectedDayOffset=0;selectDay=new Ve;dayOffsets=Array.from({length:9},(e,t)=>t-6);getDateForOffset(e){let t=new Date;return t.setDate(t.getDate()+e),t}formatDate(e,t){if(t===0)return"Aujourd'hui";let r=e.toLocaleDateString("fr-FR",{weekday:"short"}),i=e.getDate();return`${r.charAt(0).toUpperCase()+r.slice(1)} ${i}`}onSelectDay(e){this.selectDay.emit(e)}prevDay(){this.selectedDayOffset>-6&&this.onSelectDay(this.selectedDayOffset-1)}nextDay(){this.selectedDayOffset<2&&this.onSelectDay(this.selectedDayOffset+1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-day-selector"]],inputs:{selectedDayOffset:"selectedDayOffset"},outputs:{selectDay:"selectDay"},decls:12,vars:4,consts:[[1,"mb-8"],[1,"flex","justify-between","items-center","mb-4"],[1,"p-2","rounded-full","hover:bg-[#222]","transition-colors","disabled:opacity-50",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6"],["d","m15 18-6-6 6-6"],[1,"text-xl","font-bold"],["d","m9 18 6-6-6-6"],[1,"flex","justify-center","overflow-x-auto","pb-4","space-x-2","scrollbar-hide"],["class","flex flex-col items-center justify-center min-w-[60px] h-16 rounded p-2 transition-all relative",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","justify-center","min-w-[60px]","h-16","rounded","p-2","transition-all","relative",3,"click","ngClass"],[1,"text-xs"],[1,"text-sm","font-mono"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1)(2,"button",2),$e("click",function(){return r.prevDay()}),Be(),A(3,"svg",3),ie(4,"path",4),R()(),it(),A(5,"h2",5),k(6),R(),A(7,"button",2),$e("click",function(){return r.nextDay()}),Be(),A(8,"svg",3),ie(9,"path",6),R()()(),it(),A(10,"div",7),ve(11,fq,5,6,"button",8),R()()),t&2&&(O(2),G("disabled",r.selectedDayOffset<=-6),O(4),Ae(" ",r.formatDate(r.getDateForOffset(r.selectedDayOffset),r.selectedDayOffset)," "),O(),G("disabled",r.selectedDayOffset>=2),O(4),G("ngForOf",r.dayOffsets))},dependencies:[Me,Yn,cn],encapsulation:2})};var lc=class n{translations={home_win:"Victoire Domicile",away_win:"Victoire Ext\xE9rieur",draw:"Match Nul",favorite_win:"Favori Vainqueur",outsider_win:"Outsider Vainqueur",double_chance_favorite:"Double Chance Favori",double_chance_outsider:"Double Chance Outsider",btts:"Les 2 \xC9quipes Marquent",btts_no:"Les 2 \xC9quipes Ne Marquent Pas","match_over_0.5":"+0.5 Buts","match_under_0.5":"-0.5 Buts","match_over_1.5":"+1.5 Buts","match_under_1.5":"-1.5 Buts","match_over_2.5":"+2.5 Buts","match_under_2.5":"-2.5 Buts","match_over_3.5":"+3.5 Buts","match_under_3.5":"-3.5 Buts","ht_over_0.5":"+0.5 Buts (1MT)","ht_under_0.5":"-0.5 Buts (1MT)","ht_over_1.5":"+1.5 Buts (1MT)","ht_under_1.5":"-1.5 Buts (1MT)","st_over_0.5":"+0.5 Buts (2MT)","st_under_0.5":"-0.5 Buts (2MT)","st_over_1.5":"+1.5 Buts (2MT)","st_under_1.5":"-1.5 Buts (2MT)","home_over_0.5":"+0.5 Buts (Domicile)","home_under_0.5":"-0.5 Buts (Domicile)","home_over_1.5":"+1.5 Buts (Domicile)","home_under_1.5":"-1.5 Buts (Domicile)","away_over_0.5":"+0.5 Buts (Ext\xE9rieur)","away_under_0.5":"-0.5 Buts (Ext\xE9rieur)","away_over_1.5":"+1.5 Buts (Ext\xE9rieur)","away_under_1.5":"-1.5 Buts (Ext\xE9rieur)"};transform(e){return this.translations[e]||e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=zo({name:"marketTranslate",type:n,pure:!0})};var pq=n=>({"highlight-tranche":n});function gq(n,e){if(n&1&&(A(0,"tr",26)(1,"td"),k(2),R(),A(3,"td"),k(4),R(),A(5,"td"),k(6),R(),A(7,"td"),k(8),R()()),n&2){let t=e.$implicit,r=Te().$implicit,i=Te(2);G("ngClass",__(5,pq,i.getTrancheKey(r.score)===t)),O(2),Se(t),O(2),Se(r.market_performance[t].success),O(2),Se(r.market_performance[t].total),O(2),Ae("",(r.market_performance[t].success/r.market_performance[t].total*100).toFixed(0),"%")}}function mq(n,e){n&1&&ie(0,"hr",27)}function yq(n,e){if(n&1&&(A(0,"div")(1,"div",6)(2,"div",7),k(3),R(),A(4,"div",8)(5,"div",9),ie(6,"img",10),A(7,"span",11),k(8),R()(),A(9,"span",12),k(10,"vs"),R(),A(11,"div",9)(12,"span",11),k(13),R(),ie(14,"img",10),R()(),A(15,"div",7),k(16),rn(17,"date"),R(),A(18,"div",13)(19,"div",14),k(20),rn(21,"marketTranslate"),R(),A(22,"div",15)(23,"span",16),k(24),R(),A(25,"span",17),k(26),R(),A(27,"span",18),k(28),R()()(),A(29,"details",19)(30,"summary",20),k(31,"Performance du march\xE9"),R(),A(32,"div",21)(33,"table",22)(34,"thead")(35,"tr",23)(36,"th"),k(37,"Tranche"),R(),A(38,"th"),k(39,"Succ\xE8s"),R(),A(40,"th"),k(41,"Total"),R(),A(42,"th"),k(43,"Taux"),R()()(),A(44,"tbody"),ve(45,gq,9,7,"tr",24),R()()()()(),ve(46,mq,1,0,"hr",25),R()),n&2){let t=e.$implicit,r=e.last,i=Te(2);O(3),Qr("",t.league.name," (",t.league.country,")"),O(3),G("alt",df("",t.home_team.name," logo"))("src",t.home_team.logo,hu),O(2),Se(t.home_team.name),O(5),Se(t.away_team.name),O(),G("alt",df("",t.away_team.name," logo"))("src",t.away_team.logo,hu),O(2),Se(Gn(17,17,t.matchDate,"dd/MM/yyyy HH:mm")),O(4),Se(ua(21,20,t.market)),O(4),Ae("@ ",t.odd==null?null:t.odd.toFixed(2)),O(2),Se(t.bookmaker),O(2),Ae("Confiance: ",t.score.toFixed(0),"%"),O(17),G("ngForOf",i.objectKeys(t.market_performance)),O(),G("ngIf",!r)}}function vq(n,e){if(n&1&&(A(0,"div",1)(1,"div",2)(2,"h3",3),k(3),R()(),A(4,"div",4),ve(5,yq,47,22,"div",5),R()()),n&2){let t=Te();O(3),Ae(" Cote Totale : ",t.ticket.totalOdd.toFixed(2)," "),O(2),G("ngForOf",t.ticket.bets)}}var Og=class n{ticket;objectKeys=Object.keys;getTrancheKey(e){return e>=90?"90-100":e>=80?"80-89":e>=70?"70-79":e>=60?"60-69":"0-59"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-ticket-card"]],inputs:{ticket:"ticket"},decls:1,vars:1,consts:[["class","h-full rounded-lg border border-[#222] bg-[#121212] overflow-hidden flex flex-col",4,"ngIf"],[1,"h-full","rounded-lg","border","border-[#222]","bg-[#121212]","overflow-hidden","flex","flex-col"],[1,"p-3","border-b","border-[#222]","bg-[#0F0F0F]","text-center"],[1,"font-bold","text-lg","text-[#00FF41]"],[1,"p-4","flex-grow"],[4,"ngFor","ngForOf"],[1,"py-3"],[1,"text-xs","text-gray-400","mb-2"],[1,"flex","items-center","justify-between","mb-2"],[1,"flex","items-center","gap-2"],[1,"w-5","h-5",3,"src","alt"],[1,"font-semibold"],[1,"text-gray-500"],[1,"bg-[#0A0A0A]","p-2","rounded-md","text-center"],[1,"text-sm","text-gray-300"],[1,"flex","items-center","justify-center","gap-4"],[1,"font-mono","font-bold","text-white"],[1,"text-sm","text-gray-400"],[1,"text-sm","text-[#00FF41]"],[1,"text-xs","mt-2"],[1,"cursor-pointer","text-gray-400"],[1,"p-2","bg-[#0A0A0A]","rounded-md","mt-1"],[1,"w-full","text-left"],[1,"text-gray-300"],[3,"ngClass",4,"ngFor","ngForOf"],["class","border-[#222]",4,"ngIf"],[3,"ngClass"],[1,"border-[#222]"]],template:function(t,r){t&1&&ve(0,vq,6,2,"div",0),t&2&&G("ngIf",r.ticket)},dependencies:[Me,Yn,cn,Ct,Ko,lc],styles:[".highlight-tranche[_ngcontent-%COMP%]{background-color:#00ff4120}"]})};function _q(n,e){if(n&1){let t=Tn();A(0,"div")(1,"button",11),$e("click",function(){Lt(t);let i=Te();return Vt(i.onActionClick())}),k(2),R()()}if(n&2){let t=Te();O(2),Ae(" ",t.actionText," ")}}var dc=class n{title="Aucune Donn\xE9e";message="Il n'y a rien \xE0 afficher pour le moment.";actionText;action=new Ve;onActionClick(){this.action.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-empty-state"]],inputs:{title:"title",message:"message",actionText:"actionText"},outputs:{action:"action"},decls:13,vars:3,consts:[[1,"w-full","bg-[#0A0A0A]","border","border-[#333]","rounded-lg","p-8","text-center","flex","flex-col","items-center","font-mono"],[1,"mb-4","text-[#999]"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","M10 15.5c.5 0 1 .2 1.4.6"],["d","M10 13c-1.7 0-3 1.3-3 3 0 1.5 1 2.8 2.5 3"],["d","M14 18c0-1.7-1.3-3-3-3"],[1,"text-xl","font-bold","text-[#FF0000]","mb-2"],[1,"text-[#E0E0E0]","max-w-sm","mx-auto","mb-6"],[4,"ngIf"],[1,"px-6","py-2","bg-transparent","border","border-[#FF0000]","text-[#FF0000]","rounded","hover:bg-[#FF0000]","hover:bg-opacity-10","transition-colors",3,"click"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1),Be(),A(2,"svg",2),ie(3,"path",3)(4,"polyline",4)(5,"path",5)(6,"path",6)(7,"path",7),R()(),it(),A(8,"h3",8),k(9),R(),A(10,"p",9),k(11),R(),ve(12,_q,3,1,"div",10),R()),t&2&&(O(9),Se(r.title),O(2),Se(r.message),O(),G("ngIf",r.actionText))},dependencies:[Me,Ct],encapsulation:2,changeDetection:0})};function Eq(n,e){if(n&1&&(A(0,"div",4)(1,"h2",5),k(2,"The Oracle's Choice"),R(),A(3,"div",6),ie(4,"app-ticket-card",7),R()()),n&2){let t=Te(2);O(4),G("ticket",t.oraclesChoice)}}function Iq(n,e){if(n&1&&ie(0,"app-ticket-card",7),n&2){let t=e.$implicit;G("ticket",t)}}function wq(n,e){if(n&1&&(A(0,"div",8)(1,"h3",9),k(2,"Other Generated Tickets"),R(),A(3,"div",10),ve(4,Iq,1,1,"app-ticket-card",11),R()()),n&2){let t=Te(2);O(4),G("ngForOf",t.otherTickets)}}function Dq(n,e){if(n&1&&(A(0,"div"),ve(1,Eq,5,1,"div",2)(2,wq,5,1,"div",3),R()),n&2){let t=Te();O(),G("ngIf",t.oraclesChoice),O(),G("ngIf",t.otherTickets.length>0)}}function Tq(n,e){n&1&&ie(0,"app-empty-state",12)}var Fg=class n{ticketsData=null;selectedDayOffset=0;get selectedDayKey(){let e=new Date;return e.setDate(e.getDate()+this.selectedDayOffset),e.toISOString().split("T")[0]}get ticketsForSelectedDay(){if(!this.ticketsData)return[];let e=this.ticketsData[this.selectedDayKey];return e?Object.values(e).flat():[]}calculateTicketScore(e){return!e.bets||e.bets.length===0?0:e.bets.reduce((r,i)=>r+i.score,0)/e.bets.length}get sortedTickets(){return this.ticketsForSelectedDay.sort((e,t)=>this.calculateTicketScore(t)-this.calculateTicketScore(e))}get oraclesChoice(){return this.sortedTickets.length>0?this.sortedTickets[0]:null}get otherTickets(){return this.sortedTickets.slice(1)}get areTicketsAvailable(){return this.ticketsForSelectedDay.length>0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-tickets-list"]],inputs:{ticketsData:"ticketsData",selectedDayOffset:"selectedDayOffset"},decls:3,vars:2,consts:[["noTickets",""],[4,"ngIf","ngIfElse"],["class","mb-8",4,"ngIf"],["class","mt-12",4,"ngIf"],[1,"mb-8"],[1,"text-2xl","font-bold","text-center","mb-4","text-green-400"],[1,"max-w-md","mx-auto"],[3,"ticket"],[1,"mt-12"],[1,"text-xl","font-bold","text-center","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[3,"ticket",4,"ngFor","ngForOf"],["title","Aucun Ticket Trouv\xE9","message","Il n'y a aucun ticket g\xE9n\xE9r\xE9 pour ce jour. Veuillez consulter les pronostics ou essayer une autre date."]],template:function(t,r){if(t&1&&ve(0,Dq,3,2,"div",1)(1,Tq,1,0,"ng-template",null,0,mr),t&2){let i=bn(2);G("ngIf",r.areTicketsAvailable)("ngIfElse",i)}},dependencies:[Me,cn,Ct,Og,dc],encapsulation:2})};var bq=(n,e,t)=>({"text-[#00FF41]":n,"text-red-500":e,"text-[#888]":t}),Lg=class n{character;get progressPercentage(){return this.character.progress/this.character.goal*100}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-character-card"]],inputs:{character:"character"},decls:24,vars:20,consts:[[1,"bg-[#0F0F0F]","border","border-[#222]","rounded-lg","p-3","flex","flex-col"],[1,"flex","justify-between","items-center","mb-2"],[1,"font-bold","text-[#00FF41]"],[1,"text-xs","font-mono","text-[#888]"],[1,"w-full","h-2","bg-[#222]","rounded-full","mb-3","overflow-hidden"],[1,"h-full","bg-[#00FF41]"],[1,"text-xs","text-[#888]","mb-2"],[1,"text-[#CCC]"],[1,"flex","justify-between","items-center","mb-1"],[1,"text-xs","text-[#888]"],[1,"font-mono","font-bold"],[1,"flex","justify-between","items-center"],[1,"font-mono","font-bold",3,"ngClass"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1)(2,"h3",2),k(3),R(),A(4,"span",3),k(5),R()(),A(6,"div",4),ie(7,"div",5),R(),A(8,"div",6),k(9," Goal: "),A(10,"span",7),k(11),R()(),A(12,"div",8)(13,"span",9),k(14,"Current Bankroll:"),R(),A(15,"span",10),k(16),rn(17,"number"),R()(),A(18,"div",11)(19,"span",9),k(20,"Total Performance:"),R(),A(21,"span",12),k(22),rn(23,"number"),R()()()),t&2&&(O(3),Se(r.character.name),O(2),Qr(" ",r.character.progress,"W / ",r.character.losses,"L "),O(2),uf("width",r.progressPercentage,"%"),O(4),Ae("Reach ",r.character.goal," consecutive wins"),O(5),Ae("",Gn(17,10,r.character.bankroll,"1.2-2"),"\u20AC"),O(5),G("ngClass",E_(16,bq,r.character.performance>0,r.character.performance<0,r.character.performance===0)),O(),Qr(" ",r.character.performance>0?"+":"","",Gn(23,13,r.character.performance,"1.2-2"),"\u20AC "))},dependencies:[Me,Yn,Au],encapsulation:2})};var Cq=(n,e)=>({"text-green-500":n,"text-red-500":e});function Sq(n,e){if(n&1&&ie(0,"app-character-card",8),n&2){let t=e.$implicit;G("character",t)}}function Aq(n,e){if(n&1&&(A(0,"tr",13)(1,"td",17),k(2),rn(3,"date"),R(),A(4,"td",18)(5,"span",19),k(6),R()(),A(7,"td",20),k(8),rn(9,"number"),R()()),n&2){let t=e.$implicit;O(2),Se(Gn(3,4,t.date,"dd/MM/yyyy")),O(3),G("ngClass",_u(10,Cq,t.status==="won",t.status==="lost")),O(),Ae(" ",t.status==="won"?"Gagn\xE9":"Perdu"," "),O(2),Se(Gn(9,7,t.totalOdd,"1.2-2"))}}function Rq(n,e){if(n&1&&(A(0,"div",9)(1,"h3",10),k(2,"Bilan d\xE9taill\xE9 du mois"),R(),A(3,"div",11)(4,"table",12)(5,"thead")(6,"tr",13)(7,"th",14),k(8,"Date"),R(),A(9,"th",14),k(10,"Statut"),R(),A(11,"th",15),k(12,"Cote"),R()()(),A(13,"tbody"),ve(14,Aq,10,13,"tr",16),R()()()()),n&2){let t=Te();O(14),G("ngForOf",t.monthlyOracleTickets)}}var Vg=class n{historicalTickets=[];selectedDayOffset=0;characters=[];monthlyOracleTickets=[];showDetailedView=!1;initialCharacters=[{name:"Cypher",goal:1,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0},{name:"Morpheus",goal:2,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0},{name:"Trinity",goal:3,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0},{name:"Neo",goal:4,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0},{name:"L'Oracle",goal:5,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0}];constructor(){this.characters=JSON.parse(JSON.stringify(this.initialCharacters))}ngOnChanges(e){(e.historicalTickets||e.selectedDayOffset)&&this.runSimulation()}toggleDetailedView(){this.showDetailedView=!this.showDetailedView}runSimulation(){let e=JSON.parse(JSON.stringify(this.initialCharacters)),t=new Date;t.setDate(t.getDate()+this.selectedDayOffset);let r=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth()+1,0);i.setHours(23,59,59,999);let o=this.historicalTickets.filter(s=>{let a=new Date(s.date);return s.title==="The Oracle's Choice"&&(s.status==="won"||s.status==="lost")&&a>=r&&a<=i}).sort((s,a)=>new Date(s.date).getTime()-new Date(a.date).getTime());this.monthlyOracleTickets=o;for(let s of o){let a=new Date(s.date),u=new Date;u.setDate(u.getDate()+this.selectedDayOffset),!(a>u)&&e.forEach(l=>{if(s.status==="won"){let h=l.bankroll*s.totalOdd,p=h-l.bankroll;l.bankroll=h,l.progress++,l.performance+=p,l.progress>=l.goal&&(l.bankroll=l.initialBankroll,l.progress=0)}else s.status==="lost"&&(l.performance-=l.bankroll,l.bankroll=l.initialBankroll,l.progress=0,l.losses++)})}this.characters=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-architects-simulator"]],inputs:{historicalTickets:"historicalTickets",selectedDayOffset:"selectedDayOffset"},features:[Un],decls:12,vars:3,consts:[[1,"mb-8","p-4","bg-[#0A0A0A]","border","border-[#222]","rounded-lg"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-xl","font-bold","text-[#00FF41]","flex","items-center","gap-2"],[1,"text-xs","font-mono","text-[#666]"],[1,"text-sm","text-[#00FF41]","hover:underline",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-5","gap-4"],[3,"character",4,"ngFor","ngForOf"],["class","mt-8",4,"ngIf"],[3,"character"],[1,"mt-8"],[1,"text-lg","font-bold","text-white","mb-4"],[1,"overflow-x-auto"],[1,"min-w-full","bg-[#111]","border","border-[#222]"],[1,"border-b","border-[#222]"],[1,"px-4","py-2","text-left","text-sm","font-medium","text-[#666]"],[1,"px-4","py-2","text-right","text-sm","font-medium","text-[#666]"],["class","border-b border-[#222]",4,"ngFor","ngForOf"],[1,"px-4","py-2","whitespace-nowrap","text-sm","text-white"],[1,"px-4","py-2","whitespace-nowrap","text-sm"],[3,"ngClass"],[1,"px-4","py-2","whitespace-nowrap","text-sm","text-right","text-white"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span",3),k(4,"[SYSTEM]"),R(),A(5,"span"),k(6,"THE ARCHITECT'S SIMULATION"),R()(),A(7,"button",4),$e("click",function(){return r.toggleDetailedView()}),k(8),R()(),A(9,"div",5),ve(10,Sq,1,1,"app-character-card",6),R(),ve(11,Rq,15,1,"div",7),R()),t&2&&(O(8),Ae(" ",r.showDetailedView?"Cacher le bilan":"Voir le bilan d\xE9taill\xE9"," "),O(2),G("ngForOf",r.characters),O(),G("ngIf",r.showDetailedView))},dependencies:[Me,Yn,cn,Ct,Lg,Au,Ko],encapsulation:2})};function Nq(n,e){n&1&&(zn(0),ie(1,"div",17),A(2,"span",18),k(3,"Analyse en cours..."),R(),qn())}function Mq(n,e){n&1&&(zn(0),Be(),A(1,"svg",19),ie(2,"path",20),R(),it(),A(3,"span",21),k(4,"Analyse termin\xE9e"),R(),qn())}function xq(n,e){n&1&&(zn(0),A(1,"span",22),k(2,"EN TEMPS R\xC9EL"),R(),qn())}function Pq(n,e){n&1&&(zn(0),Be(),A(1,"svg",34),ie(2,"path",20),R(),qn())}function kq(n,e){n&1&&(zn(0),Be(),A(1,"svg",35),ie(2,"path",36),R(),qn())}function Oq(n,e){n&1&&(zn(0),ie(1,"div",37),qn())}function Fq(n,e){n&1&&(zn(0),Be(),A(1,"svg",38),ie(2,"path",39),R(),qn())}function Lq(n,e){if(n&1&&(A(0,"tr",28)(1,"td",29)(2,"div"),k(3),R(),A(4,"div",30),k(5),R(),A(6,"div",31),k(7),rn(8,"date"),R()(),A(9,"td",32),k(10),rn(11,"marketTranslate"),R(),A(12,"td",29),k(13),R(),A(14,"td",29),k(15),R(),A(16,"td",33),ve(17,Pq,3,0,"ng-container",9)(18,kq,3,0,"ng-container",9)(19,Oq,2,0,"ng-container",9)(20,Fq,3,0,"ng-container",10),R()()),n&2){let t=e.$implicit;O(3),Se(t.matchLabel),O(2),Qr("",t.league.name," (",t.league.country,")"),O(2),Se(Gn(8,11,t.matchDate,"dd/MM/yyyy HH:mm")),O(3),Se(ua(11,14,t.market)),O(3),Ae("",t.score.toFixed(0),"%"),O(2),Se(t.odd||"..."),O(),G("ngSwitch",t.resultStatus),O(),G("ngSwitchCase","WON"),O(),G("ngSwitchCase","LOST"),O(),G("ngSwitchCase","IN_PROGRESS")}}function Vq(n,e){if(n&1&&(A(0,"table",23)(1,"thead",24)(2,"tr",25)(3,"th",26),k(4,"MATCH"),R(),A(5,"th",26),k(6,"MARCH\xC9"),R(),A(7,"th",26),k(8,"CONF. ALGO"),R(),A(9,"th",26),k(10,"COTE"),R(),A(11,"th",26),k(12,"STATUT"),R()()(),A(13,"tbody"),ve(14,Lq,21,16,"tr",27),R()()),n&2){let t=Te().ngIf;O(14),G("ngForOf",t.predictions)}}function jq(n,e){n&1&&(A(0,"div",40)(1,"p"),k(2,"Aucune pr\xE9diction pertinente dans la shortlist pour le moment."),R(),A(3,"p",41),k(4,"Le syst\xE8me attend les prochains matchs \xE0 analyser."),R()())}function Uq(n,e){if(n&1){let t=Tn();zn(0),A(1,"div",6)(2,"div")(3,"h3",7),k(4," PREDICTIONS - PR\xC9DICTIONS PERTINENTES "),R(),A(5,"div",8),ve(6,Nq,4,0,"ng-container",9)(7,Mq,5,0,"ng-container",9)(8,xq,3,0,"ng-container",10),R()(),A(9,"button",11),$e("click",function(){Lt(t);let i=Te();return Vt(i.onClose())}),Be(),A(10,"svg",12),ie(11,"line",13)(12,"line",14),R()()(),it(),A(13,"div",15),ve(14,Vq,15,1,"table",16)(15,jq,5,0,"ng-template",null,1,mr),R(),qn()}if(n&2){let t=e.ngIf,r=bn(16);O(5),G("ngSwitch",t.report==null?null:t.report.status),O(),G("ngSwitchCase","PROCESSING"),O(),G("ngSwitchCase","COMPLETED"),O(7),G("ngIf",t.predictions.length>0)("ngIfElse",r)}}function Bq(n,e){n&1&&(A(0,"div",40)(1,"p"),k(2,"Chargement du flux de donn\xE9es..."),R()())}var jg=class n{selectedDayOffset=0;close=new Ve;apiService=x(uc);shortlist$;ngOnInit(){let e=new Date;e.setDate(e.getDate()+this.selectedDayOffset),this.shortlist$=this.apiService.getShortlist(e)}onClose(){this.close.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-raw-data-flow"]],inputs:{selectedDayOffset:"selectedDayOffset"},outputs:{close:"close"},decls:7,vars:4,consts:[["loading",""],["empty",""],[1,"fixed","inset-0","bg-black","bg-opacity-90","backdrop-blur-sm","flex","items-center","justify-center","z-50","p-4"],[1,"max-w-4xl","w-full","bg-[#080808]","border","border-[#222]","rounded-lg","overflow-hidden","relative"],[1,"scanline-effect"],[4,"ngIf","ngIfElse"],[1,"flex","items-center","justify-between","p-4","border-b","border-[#222]","bg-[#0A0A0A]","relative","z-10"],[1,"text-sm","font-mono","text-[#666]"],[1,"flex","items-center","gap-2","font-mono","text-xs",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"p-2","hover:bg-[#111]","rounded-full","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"p-2","max-h-[70vh]","overflow-y-auto","relative","z-10"],["class","w-full border-collapse font-mono text-xs",4,"ngIf","ngIfElse"],[1,"spinner"],[1,"text-orange-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-green-400"],[1,"text-[#00FF41]"],[1,"w-full","border-collapse","font-mono","text-xs"],[1,"text-[#666]"],[1,"border-b","border-[#222]"],[1,"p-2","text-left"],["class","border-b border-[#111] hover:bg-[#0A0A0A]",4,"ngFor","ngForOf"],[1,"border-b","border-[#111]","hover:bg-[#0A0A0A]"],[1,"p-2"],[1,"text-xs","text-gray-400"],[1,"text-gray-500","text-xs"],[1,"p-2","text-[#00FF41]"],[1,"p-2",3,"ngSwitch"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-green-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"spinner","spinner-sm"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4c0-1.105.448-2.09 1.172-2.828M12 18v.01"],[1,"text-center","p-8","text-[#666]"],[1,"text-xs","mt-2"]],template:function(t,r){if(t&1&&(A(0,"div",2)(1,"div",3),ie(2,"div",4),ve(3,Uq,17,5,"ng-container",5),rn(4,"async"),ve(5,Bq,3,0,"ng-template",null,0,mr),R()()),t&2){let i=bn(6);O(3),G("ngIf",ua(4,2,r.shortlist$))("ngIfElse",i)}},dependencies:[Me,cn,Ct,Su,$_,H_,q_,Ko,lc],styles:[".spinner[_ngcontent-%COMP%]{border:2px solid rgba(243,243,243,.1882352941);border-top:2px solid #orange;border-radius:50%;width:16px;height:16px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.spinner-sm[_ngcontent-%COMP%]{width:12px;height:12px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function $q(n,e){n&1&&(A(0,"div",8)(1,"p",9),k(2,"Chargement des donn\xE9es..."),R()())}function Hq(n,e){if(n&1&&(A(0,"div",10),Be(),A(1,"svg",11),ie(2,"path",12)(3,"line",13)(4,"line",14),R(),it(),A(5,"h3",15),k(6),R(),A(7,"p",16),k(8),R()()),n&2){let t=Te();O(6),Se(t.error.title),O(2),Se(t.error.message)}}function zq(n,e){if(n&1&&(A(0,"div"),ie(1,"app-tickets-list",25),R()),n&2){let t=Te(2);O(),G("ticketsData",t.ticketsData)("selectedDayOffset",t.selectedDayOffset)}}function qq(n,e){n&1&&ie(0,"app-empty-state",26)}function Gq(n,e){if(n&1){let t=Tn();A(0,"div")(1,"div",17)(2,"div",18)(3,"div")(4,"div",19),k(5," FIABILIT\xC9 DU SIGNAL (7J) "),R(),A(6,"div",20),k(7),R()(),A(8,"button",21),$e("click",function(){Lt(t);let i=Te();return Vt(i.openRawData())}),A(9,"span"),k(10,"<>"),R(),A(11,"span"),k(12,"VOIR LE FLUX COMPLET"),R()()()(),A(13,"h2",22)(14,"span",23),k(15,"[MATRICE]"),R(),A(16,"span"),k(17,"LE PROGRAMME DU JOUR"),R()(),ve(18,zq,2,2,"div",24)(19,qq,1,0,"ng-template",null,0,mr),R()}if(n&2){let t=bn(20),r=Te();O(7),Ae(" ",r.sevenDayRate,"% "),O(11),G("ngIf",r.objectKeys(r.ticketsData).length>0)("ngIfElse",t)}}function Wq(n,e){if(n&1){let t=Tn();A(0,"app-raw-data-flow",27),$e("close",function(){Lt(t);let i=Te();return Vt(i.closeRawData())}),R()}if(n&2){let t=Te();G("selectedDayOffset",t.selectedDayOffset)}}var Ug=class n{ticketsData={};isLoading=!0;error=null;selectedDayOffset=0;sevenDayRate=0;historicalTickets=[];showRawData=!1;apiService=x(uc);objectKeys=Object.keys;ngOnInit(){this.loadDataForDate(this.getDateFromOffset(this.selectedDayOffset)),this.loadSimulatorData()}loadSimulatorData(){this.apiService.getMonthlyOracleTickets(this.selectedDayOffset).subscribe(e=>{this.historicalTickets=e})}openRawData(){this.showRawData=!0}closeRawData(){this.showRawData=!1}loadDataForDate(e){console.log(`[Dashboard] Chargement des donn\xE9es pour la date : ${e}`),this.isLoading=!0,this.error=null,this.ticketsData={},this.apiService.getTickets(e).pipe(kn(t=>(t.status!==404&&(console.error("Erreur API (Tickets):",t),this.error||(this.error={title:"Signal Interrompu",message:"Impossible de mat\xE9rialiser les tickets. Le signal vers le Mainframe est perdu."})),K([]))),ct(()=>{this.error&&(this.isLoading=!1)})).subscribe(t=>{if(t&&t.length>0){let r={};(t||[]).forEach(i=>{r[i.title]||(r[i.title]=[]),r[i.title].push(i)}),this.ticketsData={[e]:r}}else this.ticketsData={};this.isLoading=!1})}handleDaySelect(e){this.selectedDayOffset=e,this.loadDataForDate(this.getDateFromOffset(e)),this.loadSimulatorData()}getDateFromOffset(e){let t=new Date;return t.setDate(t.getDate()+e),t.toISOString().split("T")[0]}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-dashboard"]],decls:7,vars:7,consts:[["noTickets",""],[1,"container","mx-auto","p-4"],[3,"selectDay","selectedDayOffset"],[3,"historicalTickets","selectedDayOffset"],["class","text-center mt-8",4,"ngIf"],["class","w-full bg-[#0A0A0A] border border-[#FF0000] rounded-lg p-8 text-center flex flex-col items-center font-mono mt-8",4,"ngIf"],[4,"ngIf"],[3,"selectedDayOffset","close",4,"ngIf"],[1,"text-center","mt-8"],[1,"text-lg"],[1,"w-full","bg-[#0A0A0A]","border","border-[#FF0000]","rounded-lg","p-8","text-center","flex","flex-col","items-center","font-mono","mt-8"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round",1,"text-[#FF0000]","mb-4"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"text-2xl","font-bold","text-[#FF0000]","mb-2"],[1,"text-[#E0E0E0]","max-w-md","mx-auto"],[1,"mb-6","p-4","bg-[#0A0A0A]","border","border-[#222]","rounded-lg","relative","overflow-hidden"],[1,"relative","z-10","flex","items-center","justify-between"],[1,"text-xs","text-[#888]","mb-1","font-mono"],[1,"text-2xl","font-bold","font-mono","text-[#00FF41]"],[1,"text-xs","font-mono","text-[#888]","hover:text-[#00FF41]","transition-colors","border","border-[#333]","px-3","py-1","rounded","flex","items-center","gap-1",3,"click"],[1,"text-xl","font-bold","text-[#00FF41]","mb-4","flex","items-center","gap-2"],[1,"text-xs","font-mono","text-[#666]"],[4,"ngIf","ngIfElse"],[3,"ticketsData","selectedDayOffset"],["title","Aucun Ticket Trouv\xE9","message","Aucun ticket n'a \xE9t\xE9 g\xE9n\xE9r\xE9 pour cette date. Le silence de la Matrice est parfois un pr\xE9sage."],[3,"close","selectedDayOffset"]],template:function(t,r){t&1&&(A(0,"div",1)(1,"app-day-selector",2),$e("selectDay",function(o){return r.handleDaySelect(o)}),R(),ie(2,"app-architects-simulator",3),ve(3,$q,3,0,"div",4)(4,Hq,9,2,"div",5)(5,Gq,21,3,"div",6),R(),ve(6,Wq,1,1,"app-raw-data-flow",7)),t&2&&(O(),G("selectedDayOffset",r.selectedDayOffset),O(),G("historicalTickets",r.historicalTickets)("selectedDayOffset",r.selectedDayOffset),O(),G("ngIf",r.isLoading),O(),G("ngIf",r.error),O(),G("ngIf",!r.isLoading&&!r.error),O(),G("ngIf",r.showRawData))},dependencies:[Me,Ct,nl,kg,Fg,Vg,dc,jg],encapsulation:2})};var Bg=class n{userEmail="neo@oracle.com";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-user-info"]],decls:10,vars:1,consts:[[1,"flex","items-center","gap-2","mb-2"],[1,"text-sm","text-[#888]"],[1,"flex","items-center","gap-2","p-3","bg-[#0A0A0A]","rounded","border","border-[#222]"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-[#666]"],["cx","12","cy","12","r","4"],["d","M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"],[1,"font-mono"]],template:function(t,r){t&1&&(tn(0,"div")(1,"div",0)(2,"span",1),k(3,"Adresse email"),Hn()(),tn(4,"div",2),Be(),tn(5,"svg",3),Go(6,"circle",4)(7,"path",5),Hn(),it(),tn(8,"span",6),k(9),Hn()()()),t&2&&(O(9),Se(r.userEmail))},dependencies:[Me],encapsulation:2})};var $g=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-change-password"]],decls:12,vars:0,consts:[[1,"mb-4"],["for","new-password",1,"block","text-sm","text-[#888]","mb-2"],[1,"relative"],["type","password","id","new-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","bg-[#0A0A0A]","border","border-[#222]","rounded","p-3","font-mono","text-[#E0E0E0]","focus:outline-none","focus:border-[#00FF41]"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-[#666]"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],[1,"px-4","py-2","bg-[#00FF41]","text-black","font-bold","rounded","hover:bg-opacity-90","transition-colors"]],template:function(t,r){t&1&&(tn(0,"div")(1,"div",0)(2,"label",1),k(3," Nouveau mot de passe "),Hn(),tn(4,"div",2),Go(5,"input",3),tn(6,"div",4),Be(),tn(7,"svg",5),Go(8,"rect",6)(9,"path",7),Hn()()()(),it(),tn(10,"button",8),k(11," Mettre \xE0 jour "),Hn()())},dependencies:[Me],encapsulation:2})};function Kq(n,e){if(n&1&&(A(0,"div",10)(1,"div")(2,"div",11),k(3),R(),A(4,"div",12),k(5),R()(),A(6,"button",13),Be(),A(7,"svg",14),ie(8,"path",15)(9,"polyline",16)(10,"line",17),R(),it(),A(11,"span",18),k(12,"T\xE9l\xE9charger"),R()()()),n&2){let t=e.$implicit;O(3),Ae("Facture - ",t.date),O(2),Se(t.amount)}}function Qq(n,e){if(n&1&&(A(0,"div")(1,"h3",4),k(2,"Historique des factures"),R(),A(3,"div",5),ve(4,Kq,13,2,"div",6),R(),A(5,"div",7)(6,"div",8)(7,"button",9),k(8," Annuler l'abonnement "),R()()()()),n&2){let t=Te();O(4),G("ngForOf",t.mockInvoices)}}function Yq(n,e){n&1&&(A(0,"div",19),Be(),A(1,"svg",20),ie(2,"polygon",21),R(),it(),A(3,"h3",22),k(4," Passez \xE0 la vitesse sup\xE9rieure "),R(),A(5,"p",23),k(6," Acc\xE9dez aux pr\xE9dictions futures et d\xE9bloquez tout le potentiel de l'Oracle. "),R(),A(7,"button",24),k(8," Passer Premium "),R()())}var Hg=class n{isPremium=!1;mockInvoices=[{id:1,date:"Ao\xFBt 2023",amount:"9.99\u20AC"},{id:2,date:"Juillet 2023",amount:"9.99\u20AC"},{id:3,date:"Juin 2023",amount:"9.99\u20AC"}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-subscription-manager"]],inputs:{isPremium:"isPremium"},decls:7,vars:4,consts:[["freeUserView",""],[1,"inline-block","px-3","py-1","rounded-full","mb-6",3,"ngClass"],[1,"font-mono","text-sm"],[4,"ngIf","ngIfElse"],[1,"text-lg","font-bold","mb-3"],[1,"space-y-2"],["class","flex justify-between items-center p-3 bg-[#0A0A0A] rounded border border-[#222]",4,"ngFor","ngForOf"],[1,"mt-6","p-4","border","border-[#333]","border-dashed","rounded","bg-[#0F0F0F]"],[1,"text-center"],[1,"px-4","py-2","bg-[#333]","text-[#E0E0E0]","rounded","hover:bg-[#444]","transition-colors"],[1,"flex","justify-between","items-center","p-3","bg-[#0A0A0A]","rounded","border","border-[#222]"],[1,"font-medium"],[1,"text-sm","text-[#888]"],[1,"flex","items-center","gap-1","px-3","py-1","bg-[#222]","hover:bg-[#333]","rounded","transition-colors"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[1,"text-sm"],[1,"p-6","border","border-[#333]","border-dashed","rounded","bg-[#0F0F0F]","text-center"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-[#00FF41]","mx-auto","mb-3"],["points","13 2 3 14 12 14 11 22 21 10 12 10 13 2"],[1,"text-xl","font-bold","mb-2"],[1,"mb-4","text-[#888]"],[1,"px-6","py-3","bg-[#00FF41]","text-black","font-bold","rounded","hover:bg-opacity-90","transition-colors"]],template:function(t,r){if(t&1&&(A(0,"div")(1,"div",1)(2,"span",2),k(3),R()(),ve(4,Qq,9,1,"div",3)(5,Yq,9,0,"ng-template",null,0,mr),R()),t&2){let i=bn(6);O(),G("ngClass",r.isPremium?"bg-[#0A2A0A] text-[#00FF41]":"bg-[#1A1A1A] text-[#888]"),O(2),Ae(" Abonnement: ",r.isPremium?"Premium":"Gratuit"," "),O(),G("ngIf",r.isPremium)("ngIfElse",i)}},dependencies:[Me,Yn,cn,Ct],encapsulation:2})};var zg=class n{isPremium=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-profile-page"]],inputs:{isPremium:"isPremium"},decls:30,vars:1,consts:[[1,"container","mx-auto","p-4","max-w-3xl"],[1,"flex","items-center","mb-6"],["routerLink","/",1,"p-2","rounded-full","hover:bg-[#222]","transition-colors","mr-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","19","y1","12","x2","5","y2","12"],["points","12 19 5 12 12 5"],[1,"text-2xl","font-bold","text-[#00FF41]"],[1,"space-y-8"],[1,"bg-[#121212]","border","border-[#222]","rounded-lg","p-6"],[1,"text-xl","font-bold","mb-4","flex","items-center","gap-2"],[1,"text-xs","font-mono","text-[#666]"],[3,"isPremium"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1)(2,"a",2),Be(),A(3,"svg",3),ie(4,"line",4)(5,"polyline",5),R()(),it(),A(6,"h1",6),k(7,"Mon Profil"),R()(),A(8,"div",7)(9,"section",8)(10,"h2",9)(11,"span",10),k(12,"[SYSTEM]"),R(),A(13,"span"),k(14,"Informations"),R()(),ie(15,"app-user-info"),R(),A(16,"section",8)(17,"h2",9)(18,"span",10),k(19,"[SECURE]"),R(),A(20,"span"),k(21,"S\xE9curit\xE9"),R()(),ie(22,"app-change-password"),R(),A(23,"section",8)(24,"h2",9)(25,"span",10),k(26,"[ACCESS]"),R(),A(27,"span"),k(28,"Abonnement & Facturation"),R()(),ie(29,"app-subscription-manager",11),R()()()),t&2&&(O(29),G("isPremium",r.isPremium))},dependencies:[Me,nl,dp,Bg,$g,Hg],encapsulation:2})};var R1=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ne(Gr),ne(pr))};static \u0275dir=Ke({type:n})}return n})(),Jq=(()=>{class n extends R1{static \u0275fac=(()=>{let t;return function(i){return(t||(t=$o(n)))(i||n)}})();static \u0275dir=Ke({type:n,features:[gr]})}return n})(),N1=new $("");var Zq={provide:N1,useExisting:$r(()=>Zg),multi:!0};function Xq(){let n=Cn()?Cn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var e8=new $(""),Zg=(()=>{class n extends R1{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Xq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ne(Gr),ne(pr),ne(e8,8))};static \u0275dir=Ke({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&$e("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ca([Zq]),gr]})}return n})();function t8(n){return n==null||n8(n)===0}function n8(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var mD=new $(""),M1=new $("");function r8(n){return t8(n.value)?{required:!0}:null}function I1(n){return null}function x1(n){return n!=null}function P1(n){return Kr(n)?Oe(n):n}function k1(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function O1(n,e){return e.map(t=>t(n))}function i8(n){return!n.validate}function F1(n){return n.map(e=>i8(e)?e:t=>e.validate(t))}function o8(n){if(!n)return null;let e=n.filter(x1);return e.length==0?null:function(t){return k1(O1(t,e))}}function yD(n){return n!=null?o8(F1(n)):null}function s8(n){if(!n)return null;let e=n.filter(x1);return e.length==0?null:function(t){let r=O1(t,e).map(P1);return Ym(r).pipe(ce(k1))}}function vD(n){return n!=null?s8(F1(n)):null}function w1(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function a8(n){return n._rawValidators}function c8(n){return n._rawAsyncValidators}function fD(n){return n?Array.isArray(n)?n:[n]:[]}function Gg(n,e){return Array.isArray(n)?n.includes(e):n===e}function D1(n,e){let t=fD(e);return fD(n).forEach(i=>{Gg(t,i)||t.push(i)}),t}function T1(n,e){return fD(e).filter(t=>!Gg(n,t))}var Wg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},pc=class extends Wg{name;get formDirective(){return null}get path(){return null}},ed=class extends Wg{_parent=null;name=null;valueAccessor=null},Kg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},u8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},bde=te(V({},u8),{"[class.ng-submitted]":"isSubmitted"}),L1=(()=>{class n extends Kg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ne(ed,2))};static \u0275dir=Ke({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&mu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[gr]})}return n})(),V1=(()=>{class n extends Kg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ne(pc,10))};static \u0275dir=Ke({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&mu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[gr]})}return n})();var Ql="VALID",qg="INVALID",hc="PENDING",Yl="DISABLED",uo=class{},Qg=class extends uo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Zl=class extends uo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Xl=class extends uo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},fc=class extends uo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},pD=class extends uo{source;constructor(e){super(),this.source=e}},gD=class extends uo{source;constructor(e){super(),this.source=e}};function j1(n){return(Xg(n)?n.validators:n)||null}function l8(n){return Array.isArray(n)?yD(n):n||null}function U1(n,e){return(Xg(e)?e.asyncValidators:n)||null}function d8(n){return Array.isArray(n)?vD(n):n||null}function Xg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function h8(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[t])throw new U(1001,"")}function f8(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new U(1002,"")})}var Yg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ut(this.statusReactive)}set status(e){ut(()=>this.statusReactive.set(e))}_status=da(()=>this.statusReactive());statusReactive=en(void 0);get valid(){return this.status===Ql}get invalid(){return this.status===qg}get pending(){return this.status==hc}get disabled(){return this.status===Yl}get enabled(){return this.status!==Yl}errors;get pristine(){return ut(this.pristineReactive)}set pristine(e){ut(()=>this.pristineReactive.set(e))}_pristine=da(()=>this.pristineReactive());pristineReactive=en(!0);get dirty(){return!this.pristine}get touched(){return ut(this.touchedReactive)}set touched(e){ut(()=>this.touchedReactive.set(e))}_touched=da(()=>this.touchedReactive());touchedReactive=en(!1);get untouched(){return!this.touched}_events=new st;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(D1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(D1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(T1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(T1(e,this._rawAsyncValidators))}hasValidator(e){return Gg(this._rawValidators,e)}hasAsyncValidator(e){return Gg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Xl(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Xl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Zl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Zl(!0,r))}markAsPending(e={}){this.status=hc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yl,this.errors=null,this._forEachChild(i=>{i.disable(te(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qg(this.value,r)),this._events.next(new fc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ql,this._forEachChild(r=>{r.enable(te(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ql||this.status===hc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qg(this.value,t)),this._events.next(new fc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yl:Ql}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=hc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=P1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new fc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?Yl:this.errors?qg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hc)?hc:this._anyControlsHaveStatus(qg)?qg:Ql}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Zl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Xl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=l8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=d8(this._rawAsyncValidators)}},Jg=class extends Yg{constructor(e,t,r){super(j1(t),U1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){f8(this,!0,e),Object.keys(e).forEach(r=>{h8(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var _D=new $("",{providedIn:"root",factory:()=>ED}),ED="always";function p8(n,e){return[...e.path,n]}function B1(n,e,t=ED){$1(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),m8(n,e),v8(n,e),y8(n,e),g8(n,e)}function b1(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function g8(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function $1(n,e){let t=a8(n);e.validator!==null?n.setValidators(w1(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=c8(n);e.asyncValidator!==null?n.setAsyncValidators(w1(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();b1(e._rawValidators,i),b1(e._rawAsyncValidators,i)}function m8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&H1(n,e)})}function y8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&H1(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function H1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function v8(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function _8(n,e){n==null,$1(n,e)}function E8(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function I8(n){return Object.getPrototypeOf(n.constructor)===Jq}function w8(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function D8(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Zg?t=o:I8(o)?r=o:i=o}),i||r||t||null}var T8={provide:pc,useExisting:$r(()=>ID)},Jl=Promise.resolve(),ID=(()=>{class n extends pc{callSetDisabledState;get submitted(){return ut(this.submittedReactive)}_submitted=da(()=>this.submittedReactive());submittedReactive=en(!1);_directives=new Set;form;ngSubmit=new Ve;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Jg({},yD(t),vD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Jl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),B1(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Jl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Jl.then(()=>{let r=this._findContainer(t.path),i=new Jg({});_8(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Jl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Jl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),w8(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new pD(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new gD(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(ne(mD,10),ne(M1,10),ne(_D,8))};static \u0275dir=Ke({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&$e("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ca([T8]),gr]})}return n})();function C1(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function S1(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var b8=class extends Yg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(j1(t),U1(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(S1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){C1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){C1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){S1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var C8={provide:ed,useExisting:$r(()=>wD)},A1=Promise.resolve(),wD=(()=>{class n extends ed{_changeDetectorRef;callSetDisabledState;control=new b8;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ve;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=D8(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),E8(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){B1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){A1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&xi(r);A1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?p8(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ne(pc,9),ne(mD,10),ne(M1,10),ne(N1,10),ne(Mi,8),ne(_D,8))};static \u0275dir=Ke({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ca([C8]),gr,Un]})}return n})();var z1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ke({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var S8=(()=>{class n{_validator=I1;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):I1,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ke({type:n,features:[Un]})}return n})();var A8={provide:mD,useExisting:$r(()=>DD),multi:!0};var DD=(()=>{class n extends S8{required;inputName="required";normalizeInput=xi;createValidator=t=>r8;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$o(n)))(i||n)}})();static \u0275dir=Ke({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&aa("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ca([A8]),gr]})}return n})();var R8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$n({type:n});static \u0275inj=vn({})}return n})();var q1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_D,useValue:t.callSetDisabledState??ED}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=$n({type:n});static \u0275inj=vn({imports:[R8]})}return n})();var em=class n{auth=x(nr);user$=Bp(this.auth);register({email:e,password:t}){return WM(this.auth,e,t)}login({email:e,password:t}){return YM(this.auth,e,t)}logout(){return JM(this.auth)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function M8(n,e){if(n&1&&(A(0,"div",15),k(1),R()),n&2){let t=Te();O(),Ae(" ",t.error," ")}}var tm=class n{email="";password="";isLoading=!1;error=null;authService=x(em);router=x(Rn);handleRegister(){return _(this,null,function*(){this.isLoading=!0,this.error=null;try{yield this.authService.register({email:this.email,password:this.password}),this.router.navigate(["/"])}catch(e){this.error=this.getFirebaseErrorMessage(e.code)}this.isLoading=!1})}handleLogin(){return _(this,null,function*(){this.isLoading=!0,this.error=null;try{yield this.authService.login({email:this.email,password:this.password}),this.router.navigate(["/"])}catch(e){this.error=this.getFirebaseErrorMessage(e.code)}this.isLoading=!1})}getFirebaseErrorMessage(e){switch(e){case"auth/invalid-email":return"Adresse email invalide.";case"auth/user-not-found":case"auth/wrong-password":return"Email ou mot de passe incorrect.";case"auth/email-already-in-use":return"Cette adresse email est d\xE9j\xE0 utilis\xE9e.";case"auth/weak-password":return"Le mot de passe doit contenir au moins 6 caract\xE8res.";default:return"Une erreur est survenue. Veuillez r\xE9essayer."}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-login-page"]],decls:23,vars:7,consts:[["loginForm","ngForm"],[1,"flex","items-center","justify-center","min-h-screen","bg-[#0A0A0A]"],[1,"max-w-md","w-full","bg-[#121212]","border","border-[#222]","rounded-lg","p-8","space-y-6"],[1,"text-center"],[1,"text-3xl","font-bold","text-[#00FF41]"],[1,"text-[#888]","mt-2"],[1,"space-y-6",3,"ngSubmit"],["for","email",1,"block","text-sm","text-[#888]","mb-2"],["type","email","id","email","name","email","required","","placeholder","neo@oracle.com",1,"w-full","bg-[#0A0A0A]","border","border-[#222]","rounded","p-3","font-mono","text-[#E0E0E0]","focus:outline-none","focus:border-[#00FF41]",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","text-[#888]","mb-2"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","bg-[#0A0A0A]","border","border-[#222]","rounded","p-3","font-mono","text-[#E0E0E0]","focus:outline-none","focus:border-[#00FF41]",3,"ngModelChange","ngModel"],["class","text-center p-3 bg-[#2A0A0A] text-red-500 border border-red-500 rounded-md",4,"ngIf"],[1,"flex","flex-col","gap-4"],["type","submit",1,"w-full","py-3","bg-[#00FF41]","text-black","font-bold","rounded","hover:bg-opacity-90","transition-colors","disabled:bg-opacity-50","disabled:cursor-not-allowed",3,"disabled"],["type","button",1,"w-full","py-3","bg-transparent","border","border-[#333]","text-[#CCC]","rounded","hover:bg-[#1A1A1A]","transition-colors","disabled:bg-opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"text-center","p-3","bg-[#2A0A0A]","text-red-500","border","border-red-500","rounded-md"]],template:function(t,r){if(t&1){let i=Tn();A(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),k(4,"The Oracle"),R(),A(5,"p",5),k(6,"Connectez-vous pour acc\xE9der au signal."),R()(),A(7,"form",6,0),$e("ngSubmit",function(){return Lt(i),Vt(r.handleLogin())}),A(9,"div")(10,"label",7),k(11,"Email"),R(),A(12,"input",8),vu("ngModelChange",function(s){return Lt(i),lf(r.email,s)||(r.email=s),Vt(s)}),R()(),A(13,"div")(14,"label",9),k(15,"Mot de passe"),R(),A(16,"input",10),vu("ngModelChange",function(s){return Lt(i),lf(r.password,s)||(r.password=s),Vt(s)}),R()(),ve(17,M8,2,1,"div",11),A(18,"div",12)(19,"button",13),k(20),R(),A(21,"button",14),$e("click",function(){return Lt(i),Vt(r.handleRegister())}),k(22),R()()()()()}if(t&2){let i=bn(8);O(12),yu("ngModel",r.email),O(4),yu("ngModel",r.password),O(),G("ngIf",r.error),O(2),G("disabled",r.isLoading||i.invalid),O(),Ae(" ",r.isLoading?"Connexion...":"Se Connecter"," "),O(),G("disabled",r.isLoading||i.invalid),O(),Ae(" ",r.isLoading?"Inscription...":"S'inscrire"," ")}},dependencies:[Me,Ct,q1,z1,Zg,L1,V1,DD,wD,ID],encapsulation:2})};var G1=[{path:"",component:Ug},{path:"profile",component:zg},{path:"login",component:tm}];var W1=(n,e)=>{let t=x(nr);return Bp(t).pipe(qe(i=>i?Oe(i.getIdToken()).pipe(qe(o=>{let s=n.clone({setHeaders:{Authorization:`Bearer ${o}`}});return e(s)})):e(n)))};var K1={apiKey:"AIzaSyA5YxEbydvA-dfUU7XSCQr3f-kfiPEPgqE",authDomain:"oracle-prediction-firebase.firebaseapp.com",projectId:"oracle-prediction-firebase",storageBucket:"oracle-prediction-firebase.firebasestorage.app",messagingSenderId:"598567861145",appId:"1:598567861145:web:4ad609fca34d002777f108"};var Q1={providers:[OE(G1),sE(aE([W1])),FN(()=>LN(K1)),GM(()=>KM()),v1(()=>E1())]};var nm=class n{title=en("frontend-angular");auth=x(nr);ngOnInit(){QM(this.auth).then(()=>{console.log("Connexion anonyme r\xE9ussie.")}).catch(e=>{console.error("Erreur de connexion anonyme:",e)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ce({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&ie(0,"router-outlet")},dependencies:[Me,Ju],encapsulation:2})};tE(nm,Q1).catch(n=>console.error(n));
