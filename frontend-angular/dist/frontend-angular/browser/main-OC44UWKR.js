var $k=Object.defineProperty,Hk=Object.defineProperties;var zk=Object.getOwnPropertyDescriptors;var PD=Object.getOwnPropertySymbols,qk=Object.getPrototypeOf,Gk=Object.prototype.hasOwnProperty,Wk=Object.prototype.propertyIsEnumerable,Kk=Reflect.get;var kD=(n,e,t)=>e in n?$k(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})Gk.call(e,t)&&kD(n,t,e[t]);if(PD)for(var t of PD(e))Wk.call(e,t)&&kD(n,t,e[t]);return n},X=(n,e)=>Hk(n,zk(e));var yi=(n,e,t)=>Kk(qk(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var jm;function Id(){return jm}function or(n){let e=jm;return jm=n,e}var OD=Symbol("NotFound");function Ms(n){return n===OD||n?.name==="\u0275NotFound"}function Cd(n,e){return Object.is(n,e)}var Ft=null,wd=!1,Um=1,Qk=null,Lt=Symbol("SIGNAL");function fe(n){let e=Ft;return Ft=n,e}function Sd(){return Ft}var Ps={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ks(n){if(wd)throw new Error("");if(Ft===null)return;Ft.consumerOnSignalRead(n);let e=Ft.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Ft.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Ft.producers,t!==void 0&&t.producer===n)){Ft.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Ft&&(!r||Jk(i,Ft)))return;let o=Fs(Ft),s={producer:n,consumer:Ft,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Ft.producersTail=s,e!==void 0?e.nextProducer=s:Ft.producers=s,o&&LD(n,s)}function FD(){Um++}function Ad(n){if(!(Fs(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Um)){if(!n.producerMustRecompute(n)&&!Uc(n)){Td(n);return}n.producerRecomputeValue(n),Td(n)}}function Bm(n){if(n.consumers===void 0)return;let e=wd;wd=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||Yk(r)}}finally{wd=e}}function $m(){return Ft?.consumerAllowSignalWrites!==!1}function Yk(n){n.dirty=!0,Bm(n),n.consumerMarkedDirty?.(n)}function Td(n){n.dirty=!1,n.lastCleanEpoch=Um}function Os(n){return n&&(n.producersTail=void 0,n.recomputing=!0),fe(n)}function jc(n,e){if(fe(e),!n)return;n.recomputing=!1;let t=n.producersTail,r=t!==void 0?t.nextProducer:n.producers;if(r!==void 0){if(Fs(n))do r=Hm(r);while(r!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Uc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Ad(t),r!==t.version))return!0}return!1}function Bc(n){if(Fs(n)){let e=n.producers;for(;e!==void 0;)e=Hm(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function LD(n,e){let t=n.consumersTail,r=Fs(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)LD(i.producer,i)}function Hm(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Fs(e)){let o=e.producers;for(;o!==void 0;)o=Hm(o)}return t}function Fs(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Rd(n){Qk?.(n)}function Jk(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Nd(n,e){let t=Object.create(Zk);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Ad(t),ks(t),t.value===Vc)throw t.error;return t.value};return r[Lt]=t,Rd(t),r}var bd=Symbol("UNSET"),Dd=Symbol("COMPUTING"),Vc=Symbol("ERRORED"),Zk=X(F({},Ps),{value:bd,dirty:!0,error:null,equal:Cd,kind:"computed",producerMustRecompute(n){return n.value===bd||n.value===Dd},producerRecomputeValue(n){if(n.value===Dd)throw new Error("");let e=n.value;n.value=Dd;let t=Os(n),r,i=!1;try{r=n.computation(),fe(null),i=e!==bd&&e!==Vc&&r!==Vc&&n.equal(e,r)}catch(o){r=Vc,n.error=o}finally{jc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Xk(){throw new Error}var VD=Xk;function jD(n){VD(n)}function zm(n){VD=n}var eO=null;function qm(n,e){let t=Object.create(xd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>UD(t);return r[Lt]=t,Rd(t),[r,s=>Ls(t,s),s=>Gm(t,s)]}function UD(n){return ks(n),n.value}function Ls(n,e){$m()||jD(n),n.equal(n.value,e)||(n.value=e,tO(n))}function Gm(n,e){$m()||jD(n),Ls(n,e(n.value))}var xd=X(F({},Ps),{equal:Cd,value:void 0,kind:"signal"});function tO(n){n.version++,FD(),Bm(n),eO?.(n)}function ue(n){return typeof n=="function"}function Vs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Md=Vs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Io(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ue(r))try{r()}catch(o){e=o instanceof Md?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{BD(o)}catch(s){e=e??[],s instanceof Md?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Md(e)}}add(e){var t;if(e&&e!==this)if(this.closed)BD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Io(t,e)}remove(e){let{_finalizers:t}=this;t&&Io(t,e),e instanceof n&&e._removeParent(this)}};Je.EMPTY=(()=>{let n=new Je;return n.closed=!0,n})();var Wm=Je.EMPTY;function Pd(n){return n instanceof Je||n&&"closed"in n&&ue(n.remove)&&ue(n.add)&&ue(n.unsubscribe)}function BD(n){ue(n)?n():n.unsubscribe()}var Vn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var js={setTimeout(n,e,...t){let{delegate:r}=js;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=js;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function kd(n){js.setTimeout(()=>{let{onUnhandledError:e}=Vn;if(e)e(n);else throw n})}function $c(){}var $D=Km("C",void 0,void 0);function HD(n){return Km("E",void 0,n)}function zD(n){return Km("N",n,void 0)}function Km(n,e,t){return{kind:n,value:e,error:t}}var wo=null;function Us(n){if(Vn.useDeprecatedSynchronousErrorHandling){let e=!wo;if(e&&(wo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=wo;if(wo=null,t)throw r}}else n()}function qD(n){Vn.useDeprecatedSynchronousErrorHandling&&wo&&(wo.errorThrown=!0,wo.error=n)}var bo=class extends Je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pd(e)&&e.add(this)):this.destination=iO}static create(e,t,r){return new Bs(e,t,r)}next(e){this.isStopped?Ym(zD(e),this):this._next(e)}error(e){this.isStopped?Ym(HD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ym($D,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nO=Function.prototype.bind;function Qm(n,e){return nO.call(n,e)}var Jm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Od(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Od(r)}else Od(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Od(t)}}},Bs=class extends bo{constructor(e,t,r){super();let i;if(ue(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Vn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qm(e.next,o),error:e.error&&Qm(e.error,o),complete:e.complete&&Qm(e.complete,o)}):i=e}this.destination=new Jm(i)}};function Od(n){Vn.useDeprecatedSynchronousErrorHandling?qD(n):kd(n)}function rO(n){throw n}function Ym(n,e){let{onStoppedNotification:t}=Vn;t&&js.setTimeout(()=>t(n,e))}var iO={closed:!0,next:$c,error:rO,complete:$c};var $s=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pn(n){return n}function Fd(...n){return Zm(n)}function Zm(n){return n.length===0?pn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Y=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=sO(t)?t:new Bs(t,r,i);return Us(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=GD(r),new r((i,o)=>{let s=new Bs({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[$s](){return this}pipe(...t){return Zm(t)(this)}toPromise(t){return t=GD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function GD(n){var e;return(e=n??Vn.Promise)!==null&&e!==void 0?e:Promise}function oO(n){return n&&ue(n.next)&&ue(n.error)&&ue(n.complete)}function sO(n){return n&&n instanceof bo||oO(n)&&Pd(n)}function Xm(n){return ue(n?.lift)}function Ee(n){return e=>{if(Xm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(n,e,t,r,i){return new ey(n,e,t,r,i)}var ey=class extends bo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Hs(){return Ee((n,e)=>{let t=null;n._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var zs=class extends Y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Xm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Je;let t=this.getSubject();e.add(this.source.subscribe(_e(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Je.EMPTY)}return e}refCount(){return Hs()(this)}};var WD=Vs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var st=(()=>{class n extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ld(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new WD}next(t){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wm:(this.currentObservers=null,o.push(t),new Je(()=>{this.currentObservers=null,Io(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Y;return t.source=this,t}}return n.create=(e,t)=>new Ld(e,t),n})(),Ld=class extends st{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Wm}};var St=class extends st{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ty={now(){return(ty.delegate||Date).now()},delegate:void 0};var Vd=class extends Je{constructor(e,t){super()}schedule(e,t=0){return this}};var Hc={setInterval(n,e,...t){let{delegate:r}=Hc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Hc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var qs=class extends Vd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Hc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Hc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Io(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Gs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Gs.now=ty.now;var Ws=class extends Gs{constructor(e,t=Gs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ny=new Ws(qs);var jd=class extends qs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ud=class extends Ws{};var ry=new Ud(jd);var tn=new Y(n=>n.complete());function KD(n){return n&&ue(n.schedule)}function QD(n){return n[n.length-1]}function Bd(n){return ue(QD(n))?n.pop():void 0}function vi(n){return KD(QD(n))?n.pop():void 0}function iy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function JD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function YD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Do(n){return this instanceof Do?(this.v=n,this):new Do(n)}function ZD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(k){return new Promise(function(x,L){o.push([y,k,x,L])>1||u(y,k)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(k){g(o[0][3],k)}}function l(y){y.value instanceof Do?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function XD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof YD=="function"?YD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var $d=n=>n&&typeof n.length=="number"&&typeof n!="function";function Hd(n){return ue(n?.then)}function zd(n){return ue(n[$s])}function qd(n){return Symbol.asyncIterator&&ue(n?.[Symbol.asyncIterator])}function Gd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wd=aO();function Kd(n){return ue(n?.[Wd])}function Qd(n){return ZD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Do(t.read());if(i)return yield Do(void 0);yield yield Do(r)}}finally{t.releaseLock()}})}function Yd(n){return ue(n?.getReader)}function at(n){if(n instanceof Y)return n;if(n!=null){if(zd(n))return cO(n);if($d(n))return uO(n);if(Hd(n))return lO(n);if(qd(n))return eT(n);if(Kd(n))return dO(n);if(Yd(n))return hO(n)}throw Gd(n)}function cO(n){return new Y(e=>{let t=n[$s]();if(ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uO(n){return new Y(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function lO(n){return new Y(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,kd)})}function dO(n){return new Y(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function eT(n){return new Y(e=>{fO(n,e).catch(t=>e.error(t))})}function hO(n){return eT(Qd(n))}function fO(n,e){var t,r,i,o;return JD(this,void 0,void 0,function*(){try{for(t=XD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function nn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function _i(n,e=0){return Ee((t,r)=>{t.subscribe(_e(r,i=>nn(r,n,()=>r.next(i),e),()=>nn(r,n,()=>r.complete(),e),i=>nn(r,n,()=>r.error(i),e)))})}function Ei(n,e=0){return Ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function tT(n,e){return at(n).pipe(Ei(e),_i(e))}function nT(n,e){return at(n).pipe(Ei(e),_i(e))}function rT(n,e){return new Y(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function iT(n,e){return new Y(t=>{let r;return nn(t,e,()=>{r=n[Wd](),nn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ue(r?.return)&&r.return()})}function Jd(n,e){if(!n)throw new Error("Iterable cannot be null");return new Y(t=>{nn(t,e,()=>{let r=n[Symbol.asyncIterator]();nn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function oT(n,e){return Jd(Qd(n),e)}function sT(n,e){if(n!=null){if(zd(n))return tT(n,e);if($d(n))return rT(n,e);if(Hd(n))return nT(n,e);if(qd(n))return Jd(n,e);if(Kd(n))return iT(n,e);if(Yd(n))return oT(n,e)}throw Gd(n)}function ke(n,e){return e?sT(n,e):at(n)}function K(...n){let e=vi(n);return ke(n,e)}function Ks(n,e){let t=ue(n)?n:()=>n,r=i=>i.error(t());return new Y(e?i=>e.schedule(r,0,i):r)}function oy(n){return!!n&&(n instanceof Y||ue(n.lift)&&ue(n.subscribe))}var Fr=Vs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function J(n,e){return Ee((t,r)=>{let i=0;t.subscribe(_e(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:pO}=Array;function gO(n,e){return pO(e)?n(...e):n(e)}function Zd(n){return J(e=>gO(n,e))}var{isArray:mO}=Array,{getPrototypeOf:yO,prototype:vO,keys:_O}=Object;function Xd(n){if(n.length===1){let e=n[0];if(mO(e))return{args:e,keys:null};if(EO(e)){let t=_O(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function EO(n){return n&&typeof n=="object"&&yO(n)===vO}function eh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function To(...n){let e=vi(n),t=Bd(n),{args:r,keys:i}=Xd(n);if(r.length===0)return ke([],e);let o=new Y(IO(r,e,i?s=>eh(i,s):pn));return t?o.pipe(Zd(t)):o}function IO(n,e,t=pn){return r=>{aT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)aT(e,()=>{let l=ke(n[u],e),h=!1;l.subscribe(_e(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function aT(n,e,t){n?nn(t,n,e):e()}function cT(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=k=>l<r?S(k):u.push(k),S=k=>{o&&e.next(k),l++;let x=!1;at(t(k,h++)).subscribe(_e(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let L=u.shift();s?nn(e,s,()=>S(L)):S(L)}g()}catch(L){e.error(L)}}))};return n.subscribe(_e(e,y,()=>{p=!0,g()})),()=>{a?.()}}function rt(n,e,t=1/0){return ue(e)?rt((r,i)=>J((o,s)=>e(r,o,i,s))(at(n(r,i))),t):(typeof e=="number"&&(t=e),Ee((r,i)=>cT(r,i,n,t)))}function Qs(n=1/0){return rt(pn,n)}function uT(){return Qs(1)}function Ys(...n){return uT()(ke(n,vi(n)))}function zc(n){return new Y(e=>{at(n()).subscribe(e)})}function sy(...n){let e=Bd(n),{args:t,keys:r}=Xd(n),i=new Y(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;at(t[h]).subscribe(_e(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?eh(r,a):a),o.complete())}))}});return e?i.pipe(Zd(e)):i}function At(n,e){return Ee((t,r)=>{let i=0;t.subscribe(_e(r,o=>n.call(e,o,i++)&&r.next(o)))})}function jn(n){return Ee((e,t)=>{let r=null,i=!1,o;r=e.subscribe(_e(t,void 0,void 0,s=>{o=at(n(s,jn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function lT(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(_e(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function sr(n,e){return ue(e)?rt(n,e,1):rt(n,1)}function Ii(n){return Ee((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Lr(n){return n<=0?()=>tn:Ee((e,t)=>{let r=0;e.subscribe(_e(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function th(n=wO){return Ee((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function wO(){return new Fr}function Co(n){return Ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Vr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,o)=>n(i,o,r)):pn,Lr(1),t?Ii(e):th(()=>new Fr))}function Js(n){return n<=0?()=>tn:Ee((e,t)=>{let r=[];e.subscribe(_e(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ay(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,o)=>n(i,o,r)):pn,Js(1),t?Ii(e):th(()=>new Fr))}function nh(n,e){return Ee(lT(n,e,arguments.length>=2,!0))}function rh(...n){let e=vi(n);return Ee((t,r)=>{(e?Ys(n,t,e):Ys(n,t)).subscribe(r)})}function qe(n,e){return Ee((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(_e(r,u=>{i?.unsubscribe();let l=0,h=o++;at(n(u,h)).subscribe(i=_e(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ih(n){return Ee((e,t)=>{at(n).subscribe(_e(t,()=>t.complete(),$c)),!t.closed&&e.subscribe(t)})}function ct(n,e,t){let r=ue(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(_e(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pn}function dT(n){let e=fe(null);try{return n()}finally{fe(e)}}var uh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,t){super(Di(e,t)),this.code=e}};function bO(n){return`NG0${Math.abs(n)}`}function Di(n,e){return`${bO(n)}${e?": "+e:""}`}var $r=globalThis;function xe(n){for(let e in n)if(n[e]===xe)return e;throw Error("")}function pT(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ur(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ur).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Ey(n,e){return n?e?`${n} ${e}`:n:e||""}var DO=xe({__forward_ref__:xe});function Hr(n){return n.__forward_ref__=Hr,n.toString=function(){return Ur(this())},n}function Rt(n){return Iy(n)?n():n}function Iy(n){return typeof n=="function"&&n.hasOwnProperty(DO)&&n.__forward_ref__===Hr}function gT(n,e){n==null&&wy(e,n,null,"!=")}function wy(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function bn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Qc(n){return TO(n,lh)}function by(n){return Qc(n)!==null}function TO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function CO(n){let e=n?.[lh]??null;return e||null}function uy(n){return n&&n.hasOwnProperty(sh)?n[sh]:null}var lh=xe({\u0275prov:xe}),sh=xe({\u0275inj:xe}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Dy(n){return n&&!!n.\u0275providers}var Ty=xe({\u0275cmp:xe}),Cy=xe({\u0275dir:xe}),Sy=xe({\u0275pipe:xe}),Ay=xe({\u0275mod:xe}),Wc=xe({\u0275fac:xe}),xo=xe({__NG_ELEMENT_ID__:xe}),hT=xe({__NG_ENV_ID__:xe});function Mo(n){return typeof n=="string"?n:n==null?"":String(n)}function ah(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Mo(n)}var Ry=xe({ngErrorCode:xe}),mT=xe({ngErrorMessage:xe}),Gc=xe({ngTokenPath:xe});function Ny(n,e){return yT("",-200,e)}function dh(n,e){throw new U(-201,!1)}function SO(n,e){n[Gc]??=[];let t=n[Gc],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(gT(e.provide,"Token with multi: true should have a provide property"),r=ah(e.provide)):r=ah(e),t[0]!==r&&n[Gc].unshift(r)}function AO(n,e){let t=n[Gc],r=n[Ry],i=n[mT]||n.message;return n.message=NO(i,r,t,e),n}function yT(n,e,t){let r=new U(e,n);return r[Ry]=e,r[mT]=n,t&&(r[Gc]=t),r}function RO(n){return n[Ry]}function NO(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Di(e,`${n}${o}${i}`)}var ly;function vT(){return ly}function Gt(n){let e=ly;return ly=n,e}function xy(n,e,t){let r=Qc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;dh(n,"Injector")}var xO={},So=xO,dy="__NG_DI_FLAG__",hy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ao(t)||0;try{return this.injector.get(e,r&8?null:So,r)}catch(i){if(Ms(i))return i;throw i}}};function MO(n,e=0){let t=Id();if(t===void 0)throw new U(-203,!1);if(t===null)return xy(n,void 0,e);{let r=PO(e),i=t.retrieve(n,r);if(Ms(i)){if(r.optional)return null;throw i}return i}}function Q(n,e=0){return(vT()||MO)(Rt(n),e)}function N(n,e){return Q(n,Ao(e))}function Ao(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function PO(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function fy(n){let e=[];for(let t=0;t<n.length;t++){let r=Rt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=kO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function _T(n,e){return n[dy]=e,n.prototype[dy]=e,n}function kO(n){return n[dy]}function wi(n,e){let t=n.hasOwnProperty(Wc);return t?n[Wc]:null}function hh(n,e){n.forEach(t=>Array.isArray(t)?hh(t,e):e(t))}function My(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Yc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ET(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function IT(n,e,t){let r=Xs(n,e);return r>=0?n[r|1]=t:(r=~r,ET(n,r,e,t)),r}function fh(n,e){let t=Xs(n,e);if(t>=0)return n[t|1]}function Xs(n,e){return OO(n,e,1)}function OO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ti={},gn=[],Ci=new $(""),Py=new $("",-1),ky=new $(""),Kc=class{get(e,t=So){if(t===So){let i=yT("",-201);throw i.name="\u0275NotFound",i}return t}};function Oy(n){return n[Ay]||null}function zr(n){return n[Ty]||null}function Fy(n){return n[Cy]||null}function wT(n){return n[Sy]||null}function mn(n){return{\u0275providers:n}}function bT(...n){return{\u0275providers:Ly(!0,n),\u0275fromNgModule:!0}}function Ly(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return hh(e,s=>{let a=s;ch(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&DT(i,o),t}function DT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Vy(i,o=>{e(o,r)})}}function ch(n,e,t,r){if(n=Rt(n),!n)return!1;let i=null,o=uy(n),s=!o&&zr(n);if(!o&&!s){let u=n.ngModule;if(o=uy(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)ch(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{hh(o.imports,h=>{ch(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&DT(l,e)}if(!a){let l=wi(i)||(()=>new i);e({provide:i,useFactory:l,deps:gn},i),e({provide:ky,useValue:i,multi:!0},i),e({provide:Ci,useValue:()=>Q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Vy(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Vy(n,e){for(let t of n)Dy(t)&&(t=t.\u0275providers),Array.isArray(t)?Vy(t,e):e(t)}var FO=xe({provide:String,useValue:xe});function TT(n){return n!==null&&typeof n=="object"&&FO in n}function LO(n){return!!(n&&n.useExisting)}function VO(n){return!!(n&&n.useFactory)}function Ro(n){return typeof n=="function"}function CT(n){return!!n.useClass}var Jc=new $(""),oh={},fT={},cy;function Zc(){return cy===void 0&&(cy=new Kc),cy}var Ge=class{},No=class extends Ge{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,gy(e,s=>this.processProvider(s)),this.records.set(Py,Zs(void 0,this)),i.has("environment")&&this.records.set(Ge,Zs(void 0,this));let o=this.records.get(Jc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ky,gn,{self:!0}))}retrieve(e,t){let r=Ao(t)||0;try{return this.get(e,So,r)}catch(i){if(Ms(i))return i;throw i}}destroy(){qc(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return qc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){qc(this);let t=or(this),r=Gt(void 0),i;try{return e()}finally{or(t),Gt(r)}}get(e,t=So,r){if(qc(this),e.hasOwnProperty(hT))return e[hT](this);let i=Ao(r),o,s=or(this),a=Gt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=HO(e)&&Qc(e);h&&this.injectableDefInScope(h)?l=Zs(py(e),oh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Zc():this.parent;return t=i&8&&t===So?null:t,u.get(e,t)}catch(u){let l=RO(u);throw l===-200||l===-201?new U(l,null):u}finally{Gt(a),or(s)}}resolveInjectorInitializers(){let e=fe(null),t=or(this),r=Gt(void 0),i;try{let o=this.get(Ci,gn,{self:!0});for(let s of o)s()}finally{or(t),Gt(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ur(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Rt(e);let t=Ro(e)?e:Rt(e&&e.provide),r=UO(e);if(!Ro(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Zs(void 0,oh,!0),i.factory=()=>fy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=fe(null);try{if(t.value===fT)throw Ny(Ur(e));return t.value===oh&&(t.value=fT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&$O(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Rt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function py(n){let e=Qc(n),t=e!==null?e.factory:wi(n);if(t!==null)return t;if(n instanceof $)throw new U(204,!1);if(n instanceof Function)return jO(n);throw new U(204,!1)}function jO(n){if(n.length>0)throw new U(204,!1);let t=CO(n);return t!==null?()=>t.factory(n):()=>new n}function UO(n){if(TT(n))return Zs(void 0,n.useValue);{let e=jy(n);return Zs(e,oh)}}function jy(n,e,t){let r;if(Ro(n)){let i=Rt(n);return wi(i)||py(i)}else if(TT(n))r=()=>Rt(n.useValue);else if(VO(n))r=()=>n.useFactory(...fy(n.deps||[]));else if(LO(n))r=(i,o)=>Q(Rt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Rt(n&&(n.useClass||n.provide));if(BO(n))r=()=>new i(...fy(n.deps));else return wi(i)||py(i)}return r}function qc(n){if(n.destroyed)throw new U(205,!1)}function Zs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function BO(n){return!!n.deps}function $O(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function HO(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function gy(n,e){for(let t of n)Array.isArray(t)?gy(t,e):t&&Dy(t)?gy(t.\u0275providers,e):e(t)}function Xe(n,e){let t;n instanceof No?(qc(n),t=n):t=new hy(n);let r,i=or(t),o=Gt(void 0);try{return e()}finally{or(i),Gt(o)}}function ST(){return vT()!==void 0||Id()!=null}var Bn=0,oe=1,ae=2,Nt=3,Dn=4,Tn=5,Xc=6,ea=7,Vt=8,Po=9,ar=10,We=11,ta=12,Uy=13,ko=14,Cn=15,Oo=16,Fo=17,Lo=18,eu=19,By=20,jr=21,ph=22,tu=23,yn=24,Vo=25,gt=26,AT=1;var Si=7,nu=8,ru=9,rn=10;function cr(n){return Array.isArray(n)&&typeof n[AT]=="object"}function $n(n){return Array.isArray(n)&&n[AT]===!0}function $y(n){return(n.flags&4)!==0}function Ai(n){return n.componentOffset>-1}function na(n){return(n.flags&1)===1}function ur(n){return!!n.template}function ra(n){return(n[ae]&512)!==0}function jo(n){return(n[ae]&256)===256}var Hy="svg",RT="math";function Sn(n){for(;Array.isArray(n);)n=n[Bn];return n}function zy(n,e){return Sn(e[n])}function Hn(n,e){return Sn(e[n.index])}function gh(n,e){return n.data[e]}function mh(n,e){return n[e]}function qy(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function An(n,e){let t=e[n];return cr(t)?t:t[Bn]}function yh(n){return(n[ae]&128)===128}function NT(n){return $n(n[Nt])}function Uo(n,e){return e==null?null:n[e]}function Gy(n){n[Fo]=0}function Wy(n){n[ae]&1024||(n[ae]|=1024,yh(n)&&ia(n))}function xT(n,e){for(;n>0;)e=e[ko],n--;return e}function iu(n){return!!(n[ae]&9216||n[yn]?.dirty)}function vh(n){n[ar].changeDetectionScheduler?.notify(8),n[ae]&64&&(n[ae]|=1024),iu(n)&&ia(n)}function ia(n){n[ar].changeDetectionScheduler?.notify(0);let e=bi(n);for(;e!==null&&!(e[ae]&8192||(e[ae]|=8192,!yh(e)));)e=bi(e)}function Ky(n,e){if(jo(n))throw new U(911,!1);n[jr]===null&&(n[jr]=[]),n[jr].push(e)}function MT(n,e){if(n[jr]===null)return;let t=n[jr].indexOf(e);t!==-1&&n[jr].splice(t,1)}function bi(n){let e=n[Nt];return $n(e)?e[Nt]:e}function PT(n){return n[ea]??=[]}function kT(n){return n.cleanup??=[]}var pe={lFrame:KT(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ou=(function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n})(ou||{}),zO=0,my=!1;function OT(){return pe.lFrame.elementDepthCount}function FT(){pe.lFrame.elementDepthCount++}function Qy(){pe.lFrame.elementDepthCount--}function _h(){return pe.bindingsEnabled}function LT(){return pe.skipHydrationRootTNode!==null}function Yy(n){return pe.skipHydrationRootTNode===n}function Jy(){pe.skipHydrationRootTNode=null}function ye(){return pe.lFrame.lView}function Wt(){return pe.lFrame.tView}function mt(n){return pe.lFrame.contextLView=n,n[Vt]}function yt(n){return pe.lFrame.contextLView=null,n}function wt(){let n=Zy();for(;n!==null&&n.type===64;)n=n.parent;return n}function Zy(){return pe.lFrame.currentTNode}function VT(){let n=pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function oa(n,e){let t=pe.lFrame;t.currentTNode=n,t.isParent=e}function Xy(){return pe.lFrame.isParent}function jT(){pe.lFrame.isParent=!1}function UT(){return pe.lFrame.contextLView}function ev(n){wy("Must never be called in production mode"),zO=n}function tv(){return my}function nv(n){let e=my;return my=n,e}function sa(){let n=pe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function BT(){return pe.lFrame.bindingIndex}function $T(n){return pe.lFrame.bindingIndex=n}function su(){return pe.lFrame.bindingIndex++}function rv(n){let e=pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function HT(){return pe.lFrame.inI18n}function zT(n,e){let t=pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Eh(e)}function qT(){return pe.lFrame.currentDirectiveIndex}function Eh(n){pe.lFrame.currentDirectiveIndex=n}function GT(n){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function iv(n){pe.lFrame.currentQueryIndex=n}function qO(n){let e=n[oe];return e.type===2?e.declTNode:e.type===1?n[Tn]:null}function ov(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=qO(o),i===null||(o=o[ko],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=pe.lFrame=WT();return r.currentTNode=e,r.lView=n,!0}function Ih(n){let e=WT(),t=n[oe];pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WT(){let n=pe.lFrame,e=n===null?null:n.child;return e===null?KT(n):e}function KT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function QT(){let n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var sv=QT;function wh(){let n=QT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function YT(n){return(pe.lFrame.contextLView=xT(n,pe.lFrame.contextLView))[Vt]}function Ri(){return pe.lFrame.selectedIndex}function Ni(n){pe.lFrame.selectedIndex=n}function bh(){let n=pe.lFrame;return gh(n.tView,n.selectedIndex)}function Oe(){pe.lFrame.currentNamespace=Hy}function it(){GO()}function GO(){pe.lFrame.currentNamespace=null}function JT(){return pe.lFrame.currentNamespace}var ZT=!0;function Dh(){return ZT}function au(n){ZT=n}var WO={elements:void 0};function Th(){return WO}function yy(n,e=null,t=null,r){let i=av(n,e,t,r);return i.resolveInjectorInitializers(),i}function av(n,e=null,t=null,r,i=new Set){let o=[t||gn,bT(n)];return r=r||(typeof n=="object"?void 0:Ur(n)),new No(o,e||Zc(),r||null,i)}var Ze=class n{static THROW_IF_NOT_FOUND=So;static NULL=new Kc;static create(e,t){if(Array.isArray(e))return yy({name:""},t,e,"");{let r=e.name??"";return yy({name:r},e.parent,e.providers,r)}}static \u0275prov=z({token:n,providedIn:"any",factory:()=>Q(Py)});static __NG_ELEMENT_ID__=-1},et=new $(""),lr=(()=>{class n{static __NG_ELEMENT_ID__=KO;static __NG_ENV_ID__=t=>t}return n})(),vy=class extends lr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return jo(this._lView)}onDestroy(e){let t=this._lView;return Ky(t,e),()=>MT(t,e)}};function KO(){return new vy(ye())}var Un=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Kt=new $("",{providedIn:"root",factory:()=>{let n=N(Ge),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Un),e.handleError(t))}}}),XT={provide:Ci,useValue:()=>void N(Un),multi:!0};function cv(n){return typeof n=="function"&&n[Lt]!==void 0}function on(n,e){let[t,r,i]=qm(n,e?.equal),o=t,s=o[Lt];return o.set=r,o.update=i,o.asReadonly=eC.bind(o),o}function eC(){let n=this[Lt];if(n.readonlyFn===void 0){let e=()=>this();e[Lt]=n,n.readonlyFn=e}return n.readonlyFn}function uv(n){return cv(n)&&typeof n.set=="function"}var Br=class{},Ch=new $("",{providedIn:"root",factory:()=>!1});var lv=new $(""),dv=new $("");var Sh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=QO}return n})();function QO(){return new Sh(ye(),wt())}var dr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new St(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Y(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),xi=(()=>{class n{internalPendingTasks=N(dr);scheduler=N(Br);errorHandler=N(Kt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();function cu(...n){}var hv=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new _y})}return n})(),_y=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function ha(n){return{toString:n}.toString()}var Ah="__parameters__";function tF(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function nF(n,e,t){return ha(()=>{let r=tF(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Ah)?u[Ah]:Object.defineProperty(u,Ah,{value:[]})[Ah];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var vn=_T(nF("Optional"),8);function rF(n){return typeof n=="function"}var kh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function xC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Wr=(()=>{let n=()=>MC;return n.ngInherit=!0,n})();function MC(n){return n.type.prototype.ngOnChanges&&(n.setInput=oF),iF}function iF(){let n=kC(this),e=n?.current;if(e){let t=n.previous;if(t===Ti)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function oF(n,e,t,r,i){let o=this.declaredInputs[r],s=kC(n)||sF(n,{previous:Ti,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new kh(l&&l.currentValue,t,u===Ti),xC(n,e,i,t)}var PC="__ngSimpleChanges__";function kC(n){return n[PC]||null}function sF(n,e){return n[PC]=e}var tC=[];var Me=function(n,e=null,t){for(let r=0;r<tC.length;r++){let i=tC[r];i(n,e,t)}};function aF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=MC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function OC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function xh(n,e,t){FC(n,e,3,t)}function Mh(n,e,t,r){(n[ae]&3)===t&&FC(n,e,t,r)}function fv(n,e){let t=n[ae];(t&3)===e&&(t&=16383,t+=1,n[ae]=t)}function FC(n,e,t,r){let i=r!==void 0?n[Fo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Fo]+=65536),(a<o||o==-1)&&(cF(n,t,e,u),n[Fo]=(n[Fo]&4294901760)+u+2),u++}function nC(n,e){Me(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),Me(5,n,e)}}function cF(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ae]>>14<n[Fo]>>16&&(n[ae]&3)===e&&(n[ae]+=16384,nC(a,o)):nC(a,o)}var ca=-1,Ho=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function uF(n){return(n.flags&8)!==0}function lF(n){return(n.flags&16)!==0}function dF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];hF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function LC(n){return n===3||n===4||n===6}function hF(n){return n.charCodeAt(0)===64}function ua(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?rC(n,t,i,null,e[++r]):rC(n,t,i,null,null))}}return n}function rC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function VC(n){return n!==ca}function Oh(n){return n&32767}function fF(n){return n>>16}function Fh(n,e){let t=fF(n),r=e;for(;t>0;)r=r[ko],t--;return r}var Dv=!0;function Lh(n){let e=Dv;return Dv=n,e}var pF=256,jC=pF-1,UC=5,gF=0,hr={};function mF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(xo)&&(r=t[xo]),r==null&&(r=t[xo]=gF++);let i=r&jC,o=1<<i;e.data[n+(i>>UC)]|=o}function Vh(n,e){let t=BC(n,e);if(t!==-1)return t;let r=e[oe];r.firstCreatePass&&(n.injectorIndex=e.length,pv(r.data,n),pv(e,null),pv(r.blueprint,null));let i=Hv(n,e),o=n.injectorIndex;if(VC(i)){let s=Oh(i),a=Fh(i,e),u=a[oe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function pv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function BC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Hv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=GC(i),r===null)return ca;if(t++,i=i[ko],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ca}function Tv(n,e,t){mF(n,e,t)}function yF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(LC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function $C(n,e,t){if(t&8||n!==void 0)return n;dh(e,"NodeInjector")}function HC(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Po],o=Gt(void 0);try{return i?i.get(e,r,t&8):xy(e,r,t&8)}finally{Gt(o)}}return $C(r,e,t)}function zC(n,e,t,r=0,i){if(n!==null){if(e[ae]&2048&&!(r&2)){let s=wF(n,e,t,r,hr);if(s!==hr)return s}let o=qC(n,e,t,r,hr);if(o!==hr)return o}return HC(e,t,r,i)}function qC(n,e,t,r,i){let o=EF(t);if(typeof o=="function"){if(!ov(e,n,r))return r&1?$C(i,t,r):HC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))dh(t);else return s}finally{sv()}}else if(typeof o=="number"){let s=null,a=BC(n,e),u=ca,l=r&1?e[Cn][Tn]:null;for((a===-1||r&4)&&(u=a===-1?Hv(n,e):e[a+8],u===ca||!oC(r,!1)?a=-1:(s=e[oe],a=Oh(u),e=Fh(u,e)));a!==-1;){let h=e[oe];if(iC(o,a,h.data)){let p=vF(a,e,t,s,r,l);if(p!==hr)return p}u=e[a+8],u!==ca&&oC(r,e[oe].data[a+8]===l)&&iC(o,a,e)?(s=h,a=Oh(u),e=Fh(u,e)):a=-1}}return i}function vF(n,e,t,r,i,o){let s=e[oe],a=s.data[n+8],u=r==null?Ai(a)&&Dv:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=_F(a,s,t,u,l);return h!==null?jh(e,s,h,a,i):hr}function _F(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&ur(y)&&y.type===t)return u}return null}function jh(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Ho){let a=o;if(a.resolving){let y=ah(s[t]);throw Ny(y)}let u=Lh(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Gt(a.injectImpl):null,g=ov(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&aF(t,s[t],e)}finally{p!==null&&Gt(p),Lh(u),a.resolving=!1,sv()}}return o}function EF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(xo)?n[xo]:void 0;return typeof e=="number"?e>=0?e&jC:IF:e}function iC(n,e,t){let r=1<<n;return!!(t[e+(n>>UC)]&r)}function oC(n,e){return!(n&2)&&!(n&1&&e)}var $o=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return zC(this._tNode,this._lView,e,Ao(r),t)}};function IF(){return new $o(wt(),ye())}function Ko(n){return ha(()=>{let e=n.prototype.constructor,t=e[Wc]||Cv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Wc]||Cv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Cv(n){return Iy(n)?()=>{let e=Cv(Rt(n));return e&&e()}:wi(n)}function wF(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ae]&2048&&!ra(s);){let a=qC(o,s,t,r|2,hr);if(a!==hr)return a;let u=o.parent;if(!u){let l=s[By];if(l){let h=l.get(t,hr,r);if(h!==hr)return h}u=GC(s),s=s[ko]}o=u}return i}function GC(n){let e=n[oe],t=e.type;return t===2?e.declTNode:t===1?n[Tn]:null}function pu(n){return yF(wt(),n)}function bF(){return Zh(wt(),ye())}function Zh(n,e){return new pr(Hn(n,e))}var pr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=bF}return n})();function WC(n){return(n.flags&128)===128}var zv=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(zv||{}),KC=new Map,DF=0;function TF(){return DF++}function CF(n){KC.set(n[eu],n)}function Sv(n){KC.delete(n[eu])}var sC="__ngContext__";function la(n,e){cr(e)?(n[sC]=e[eu],CF(e)):n[sC]=e}function QC(n){return JC(n[ta])}function YC(n){return JC(n[Dn])}function JC(n){for(;n!==null&&!$n(n);)n=n[Dn];return n}var Av;function qv(n){Av=n}function ZC(){if(Av!==void 0)return Av;if(typeof document<"u")return document;throw new U(210,!1)}var Xh=new $("",{providedIn:"root",factory:()=>SF}),SF="ng",ef=new $(""),Pi=new $("",{providedIn:"platform",factory:()=>"unknown"});var tf=new $("",{providedIn:"root",factory:()=>ZC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var AF="h",RF="b";var XC=!1,eS=new $("",{providedIn:"root",factory:()=>XC});var Gv=new $("");var NF=(n,e,t,r)=>{};function xF(n,e,t,r){NF(n,e,t,r)}function Wv(n){return(n.flags&32)===32}var MF=()=>null;function tS(n,e,t=!1){return MF(n,e,t)}function nS(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];iv(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function Rv(n,e,t){iv(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function Kv(n,e,t){if($y(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{fe(r)}}}var qr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(qr||{});var Rh;function PF(){if(Rh===void 0&&(Rh=null,$r.trustedTypes))try{Rh=$r.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Rh}function aC(n){return PF()?.createScriptURL(n)||n}var Uh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uh})`}};function gu(n){return n instanceof Uh?n.changingThisBreaksApplicationSecurity:n}function Qv(n,e){let t=rS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${uh})`)}return t===e}function rS(n){return n instanceof Uh&&n.getTypeName()||null}var kF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iS(n){return n=String(n),n.match(kF)?n:"unsafe:"+n}var nf=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(nf||{});function mu(n){let e=sS();return e?e.sanitize(nf.URL,n)||"":Qv(n,"URL")?gu(n):iS(Mo(n))}function oS(n){let e=sS();if(e)return aC(e.sanitize(nf.RESOURCE_URL,n)||"");if(Qv(n,"ResourceURL"))return aC(gu(n));throw new U(904,!1)}function OF(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?oS:mu}function Yv(n,e,t){return OF(e,t)(n)}function sS(){let n=ye();return n&&n[ar].sanitizer}var FF=/^>|^->|<!--|-->|--!>|<!-$/g,LF=/(<|>)/g,VF="\u200B$1\u200B";function jF(n){return n.replace(FF,e=>e.replace(LF,VF))}function Jv(n){return n.ownerDocument.defaultView}function aS(n){return n instanceof Function?n():n}function UF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var cS="ng-template";function BF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&UF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Zv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Zv(n){return n.type===4&&n.value!==cS}function $F(n,e,t){let r=n.type===4&&!t?cS:n.value;return e===r}function HF(n,e,t){let r=4,i=n.attrs,o=i!==null?GF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!zn(r)&&!zn(u))return!1;if(s&&zn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!$F(n,u,t)||u===""&&e.length===1){if(zn(r))return!1;s=!0}}else if(r&8){if(i===null||!BF(n,i,u,t)){if(zn(r))return!1;s=!0}}else{let l=e[++a],h=zF(u,i,Zv(n),t);if(h===-1){if(zn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(zn(r))return!1;s=!0}}}}return zn(r)||s}function zn(n){return(n&1)===0}function zF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return WF(e,n)}function qF(n,e,t=!1){for(let r=0;r<e.length;r++)if(HF(n,e[r],t))return!0;return!1}function GF(n){for(let e=0;e<n.length;e++){let t=n[e];if(LC(t))return e}return n.length}function WF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function cC(n,e){return n?":not("+e.trim()+")":e}function KF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!zn(s)&&(e+=cC(o,i),i=""),r=s,o=o||!zn(r);t++}return i!==""&&(e+=cC(o,i)),e}function QF(n){return n.map(KF).join(",")}function YF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!zn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var qn={};function JF(n,e){return n.createText(e)}function ZF(n,e,t){n.setValue(e,t)}function XF(n,e){return n.createComment(jF(e))}function uS(n,e,t){return n.createElement(e,t)}function Bh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function lS(n,e,t){n.appendChild(e,t)}function uC(n,e,t,r,i){r!==null?Bh(n,e,t,r,i):lS(n,e,t)}function eL(n,e,t){n.removeChild(null,e,t)}function tL(n,e,t){n.setAttribute(e,"style",t)}function nL(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function dS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&dF(n,e,r),i!==null&&nL(n,e,i),o!==null&&tL(n,e,o)}function Xv(n,e,t,r,i,o,s,a,u,l,h){let p=gt+r,g=p+i,y=rL(p,g),S=typeof l=="function"?l():l;return y[oe]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function rL(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:qn);return t}function iL(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Xv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function e_(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Bn]=i,p[ae]=r|4|128|8|64|1024,(l!==null||n&&n[ae]&2048)&&(p[ae]|=2048),Gy(p),p[Nt]=p[ko]=n,p[Vt]=t,p[ar]=s||n&&n[ar],p[We]=a||n&&n[We],p[Po]=u||n&&n[Po]||null,p[Tn]=o,p[eu]=TF(),p[Xc]=h,p[By]=l,p[Cn]=e.type==2?n[Cn]:p,p}function oL(n,e,t){let r=Hn(e,n),i=iL(t),o=n[ar].rendererFactory,s=t_(n,e_(n,i,null,hS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function hS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function fS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function t_(n,e){return n[ta]?n[Uy][Dn]=e:n[ta]=e,n[Uy]=e,e}function O(n=1){pS(Wt(),ye(),Ri()+n,!1)}function pS(n,e,t,r){if(!r)if((e[ae]&3)===3){let o=n.preOrderCheckHooks;o!==null&&xh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Mh(e,o,0,t)}Ni(t)}var rf=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(rf||{});function Nv(n,e,t,r){let i=fe(null);try{let[o,s,a]=n.inputs[t],u=null;(s&rf.SignalBased)!==0&&(u=e[o][Lt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):xC(e,u,o,r)}finally{fe(i)}}var fr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(fr||{}),sL;function n_(n,e){return sL(n,e)}function aa(n,e,t,r,i){if(r!=null){let o,s=!1;$n(r)?o=r:cr(r)&&(s=!0,r=r[Bn]);let a=Sn(r);n===0&&t!==null?i==null?lS(e,t,a):Bh(e,t,a,i||null,!0):n===1&&t!==null?Bh(e,t,a,i||null,!0):n===2?eL(e,a,s):n===3&&e.destroyNode(a),o!=null&&vL(e,n,o,t,i)}}function aL(n,e){gS(n,e),e[Bn]=null,e[Tn]=null}function cL(n,e,t,r,i,o){r[Bn]=i,r[Tn]=e,of(n,r,t,1,i,o)}function gS(n,e){e[ar].changeDetectionScheduler?.notify(9),of(n,e,e[We],2,null,null)}function uL(n){let e=n[ta];if(!e)return gv(n[oe],n);for(;e;){let t=null;if(cr(e))t=e[ta];else{let r=e[rn];r&&(t=r)}if(!t){for(;e&&!e[Dn]&&e!==n;)cr(e)&&gv(e[oe],e),e=e[Nt];e===null&&(e=n),cr(e)&&gv(e[oe],e),t=e&&e[Dn]}e=t}}function r_(n,e){let t=n[ru],r=t.indexOf(e);t.splice(r,1)}function mS(n,e){if(jo(e))return;let t=e[We];t.destroyNode&&of(n,e,t,3,null,null),uL(e)}function gv(n,e){if(jo(e))return;let t=fe(null);try{e[ae]&=-129,e[ae]|=256,e[yn]&&Bc(e[yn]),dL(n,e),lL(n,e),e[oe].type===1&&e[We].destroy();let r=e[Oo];if(r!==null&&$n(e[Nt])){r!==e[Nt]&&r_(r,e);let i=e[Lo];i!==null&&i.detachView(n)}Sv(e)}finally{fe(t)}}function lL(n,e){let t=n.cleanup,r=e[ea];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ea]=null);let i=e[jr];if(i!==null){e[jr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[tu];if(o!==null){e[tu]=null;for(let s of o)s.destroy()}}function dL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ho)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Me(4,a,u);try{u.call(a)}finally{Me(5,a,u)}}else{Me(4,i,o);try{o.call(i)}finally{Me(5,i,o)}}}}}function hL(n,e,t){return fL(n,e.parent,t)}function fL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Bn];if(Ai(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===qr.None||i===qr.Emulated)return null}return Hn(r,t)}function pL(n,e,t){return mL(n,e,t)}function gL(n,e,t){return n.type&40?Hn(n,t):null}var mL=gL,lC;function i_(n,e,t,r){let i=hL(n,r,e),o=e[We],s=r.parent||e[Tn],a=pL(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)uC(o,i,t[u],a,!1);else uC(o,i,t,a,!1);lC!==void 0&&lC(o,r,e,t,i)}function uu(n,e){if(e!==null){let t=e.type;if(t&3)return Hn(e,n);if(t&4)return xv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return uu(n,r);{let i=n[e.index];return $n(i)?xv(-1,i):Sn(i)}}else{if(t&128)return uu(n,e.next);if(t&32)return n_(e,n)()||Sn(n[e.index]);{let r=yS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=bi(n[Cn]);return uu(i,r)}else return uu(n,e.next)}}}return null}function yS(n,e){if(e!==null){let r=n[Cn][Tn],i=e.projection;return r.projection[i]}return null}function xv(n,e){let t=rn+n+1;if(t<e.length){let r=e[t],i=r[oe].firstChild;if(i!==null)return uu(r,i)}return e[Si]}function o_(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&la(Sn(a),r),t.flags|=2),!Wv(t))if(u&8)o_(n,e,t.child,r,i,o,!1),aa(e,n,i,a,o);else if(u&32){let l=n_(t,r),h;for(;h=l();)aa(e,n,i,h,o);aa(e,n,i,a,o)}else u&16?yL(n,e,r,t,i,o):aa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function of(n,e,t,r,i,o){o_(t,r,n.firstChild,e,i,o,!1)}function yL(n,e,t,r,i,o){let s=t[Cn],u=s[Tn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];aa(e,n,i,h,o)}else{let l=u,h=s[Nt];WC(r)&&(l.flags|=128),o_(n,e,l,h,i,o,!0)}}function vL(n,e,t,r,i){let o=t[Si],s=Sn(t);o!==s&&aa(e,n,r,o,i);for(let a=rn;a<t.length;a++){let u=t[a];of(u[oe],u,n,e,r,o)}}function _L(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:fr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=fr.Important),n.setStyle(t,r,i,o))}}function vS(n,e,t,r,i){let o=Ri(),s=r&2;try{Ni(-1),s&&e.length>gt&&pS(n,e,gt,!1),Me(s?2:0,i,t),t(r,i)}finally{Ni(o),Me(s?3:1,i,t)}}function sf(n,e,t){CL(n,e,t),(t.flags&64)===64&&SL(n,e,t)}function af(n,e,t=Hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function EL(n,e,t,r){let o=r.get(eS,XC)||t===qr.ShadowDom,s=n.selectRootElement(e,o);return IL(s),s}function IL(n){wL(n)}var wL=()=>null;function bL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function _S(n,e,t,r,i,o){let s=e[oe];if(u_(n,s,e,t,r)){Ai(n)&&TL(e,n.index);return}n.type&3&&(t=bL(t)),DL(n,e,t,r,i,o)}function DL(n,e,t,r,i,o){if(n.type&3){let s=Hn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function TL(n,e){let t=An(e,n);t[ae]&16||(t[ae]|=64)}function CL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ai(t)&&oL(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Vh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=jh(e,n,s,t);if(la(u,e),o!==null&&xL(e,s-r,u,a,t,o),ur(a)){let l=An(t.index,e);l[Vt]=jh(e,n,s,t)}}}function SL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=qT();try{Ni(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Eh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&AL(u,l)}}finally{Ni(-1),Eh(s)}}function AL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function s_(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];qF(e,o.selectors,!1)&&(r??=[],ur(o)?r.unshift(o):r.push(o))}return r}function RL(n,e,t,r,i,o){let s=Hn(n,e);NL(e[We],s,o,n.value,t,r,i)}function NL(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Mo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function xL(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Nv(r,t,u,l)}}function a_(n,e,t,r,i){let o=gt+t,s=e[oe],a=i(s,e,n,r,t);e[o]=a,oa(n,!0);let u=n.type===2;return u?(dS(e[We],a,n),(OT()===0||na(n))&&la(a,e),FT()):la(a,e),Dh()&&(!u||!Wv(n))&&i_(s,e,a,n),n}function c_(n){let e=n;return Xy()?jT():(e=e.parent,oa(e,!1)),e}function ML(n,e){let t=n[Po];if(!t)return;let r;try{r=t.get(Kt,null)}catch{r=null}r?.(e)}function u_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Nv(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Nv(h,l,r,i),a=!0}return a}function PL(n,e){let t=An(e,n),r=t[oe];kL(r,t);let i=t[Bn];i!==null&&t[Xc]===null&&(t[Xc]=tS(i,t[Po])),Me(18),l_(r,t,t[Vt]),Me(19,t[Vt])}function kL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function l_(n,e,t){Ih(e);try{let r=n.viewQuery;r!==null&&Rv(1,r,t);let i=n.template;i!==null&&vS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Lo]?.finishViewCreation(n),n.staticContentQueries&&nS(n,e),n.staticViewQueries&&Rv(2,n.viewQuery,t);let o=n.components;o!==null&&OL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ae]&=-5,wh()}}function OL(n,e){for(let t=0;t<e.length;t++)PL(n,e[t])}function FL(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[ae]&4096?4096:16,u=e_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Oo]=l;let h=n[Lo];return h!==null&&(u[Lo]=h.createEmbeddedView(o)),l_(o,u,t),u}finally{fe(i)}}function dC(n,e){return!e||e.firstChild===null||WC(n)}var hC=!1,LL=new $("");function du(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Sn(o)),$n(o)&&ES(o,r);let s=t.type;if(s&8)du(n,e,t.child,r);else if(s&32){let a=n_(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=yS(e,t);if(Array.isArray(a))r.push(...a);else{let u=bi(e[Cn]);du(u[oe],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function ES(n,e){for(let t=rn;t<n.length;t++){let r=n[t],i=r[oe].firstChild;i!==null&&du(r[oe],r,i,e)}n[Si]!==n[Bn]&&e.push(n[Si])}function IS(n){if(n[Vo]!==null){for(let e of n[Vo])e.impl.addSequence(e);n[Vo].length=0}}var wS=[];function VL(n){return n[yn]??jL(n)}function jL(n){let e=wS.pop()??Object.create(BL);return e.lView=n,e}function UL(n){n.lView[yn]!==n&&(n.lView=null,wS.push(n))}var BL=X(F({},Ps),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ia(n.lView)},consumerOnSignalRead(){this.lView[yn]=this}});function $L(n){let e=n[yn]??Object.create(HL);return e.lView=n,e}var HL=X(F({},Ps),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=bi(n.lView);for(;e&&!bS(e[oe]);)e=bi(e);e&&Wy(e)},consumerOnSignalRead(){this.lView[yn]=this}});function bS(n){return n.type!==2}function DS(n){if(n[tu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[tu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ae]&8192)}}var zL=100;function d_(n,e=0){let r=n[ar].rendererFactory,i=!1;i||r.begin?.();try{qL(n,e)}finally{i||r.end?.()}}function qL(n,e){let t=tv();try{nv(!0),Mv(n,e);let r=0;for(;iu(n);){if(r===zL)throw new U(103,!1);r++,Mv(n,1)}}finally{nv(t)}}function TS(n,e){ev(e?ou.Exhaustive:ou.OnlyDirtyViews);try{d_(n)}finally{ev(ou.Off)}}function GL(n,e,t,r){if(jo(e))return;let i=e[ae],o=!1,s=!1;Ih(e);let a=!0,u=null,l=null;o||(bS(n)?(l=VL(e),u=Os(l)):Sd()===null?(a=!1,l=$L(e),u=Os(l)):e[yn]&&(Bc(e[yn]),e[yn]=null));try{Gy(e),$T(n.bindingStartIndex),t!==null&&vS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&xh(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Mh(e,y,0,null),fv(e,0)}if(s||WL(e),DS(e),CS(e,0),n.contentQueries!==null&&nS(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&xh(e,y)}else{let y=n.contentHooks;y!==null&&Mh(e,y,1),fv(e,1)}QL(n,e);let p=n.components;p!==null&&AS(e,p,0);let g=n.viewQuery;if(g!==null&&Rv(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&xh(e,y)}else{let y=n.viewHooks;y!==null&&Mh(e,y,2),fv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ph]){for(let y of e[ph])y();e[ph]=null}o||(IS(e),e[ae]&=-73)}catch(h){throw o||ia(e),h}finally{l!==null&&(jc(l,u),a&&UL(l)),wh()}}function CS(n,e){for(let t=QC(n);t!==null;t=YC(t))for(let r=rn;r<t.length;r++){let i=t[r];SS(i,e)}}function WL(n){for(let e=QC(n);e!==null;e=YC(e)){if(!(e[ae]&2))continue;let t=e[ru];for(let r=0;r<t.length;r++){let i=t[r];Wy(i)}}}function KL(n,e,t){Me(18);let r=An(e,n);SS(r,t),Me(19,r[Vt])}function SS(n,e){yh(n)&&Mv(n,e)}function Mv(n,e){let r=n[oe],i=n[ae],o=n[yn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Uc(o)),s||=!1,o&&(o.dirty=!1),n[ae]&=-9217,s)GL(r,n,r.template,n[Vt]);else if(i&8192){let a=fe(null);try{DS(n),CS(n,1);let u=r.components;u!==null&&AS(n,u,1),IS(n)}finally{fe(a)}}}function AS(n,e,t){for(let r=0;r<e.length;r++)KL(n,e[r],t)}function QL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ni(~i);else{let o=i,s=t[++r],a=t[++r];zT(s,o);let u=e[o];Me(24,u),a(2,u),Me(25,u)}}}finally{Ni(-1)}}function h_(n,e){let t=tv()?64:1088;for(n[ar].changeDetectionScheduler?.notify(e);n;){n[ae]|=t;let r=bi(n);if(ra(n)&&!r)return n;n=r}return null}function RS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function YL(n,e,t,r=!0){let i=e[oe];if(JL(i,e,n,t),r){let s=xv(t,n),a=e[We],u=a.parentNode(n[Si]);u!==null&&cL(i,n[Tn],a,e,u,s)}let o=e[Xc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Pv(n,e){if(n.length<=rn)return;let t=rn+e,r=n[t];if(r){let i=r[Oo];i!==null&&i!==n&&r_(i,r),e>0&&(n[t-1][Dn]=r[Dn]);let o=Yc(n,rn+e);aL(r[oe],r);let s=o[Lo];s!==null&&s.detachView(o[oe]),r[Nt]=null,r[Dn]=null,r[ae]&=-129}return r}function JL(n,e,t,r){let i=rn+r,o=t.length;r>0&&(t[i-1][Dn]=e),r<o-rn?(e[Dn]=t[i],My(t,rn+r,e)):(t.push(e),e[Dn]=null),e[Nt]=t;let s=e[Oo];s!==null&&t!==s&&NS(s,e);let a=e[Lo];a!==null&&a.insertView(n),vh(e),e[ae]|=128}function NS(n,e){let t=n[ru],r=e[Nt];if(cr(r))n[ae]|=2;else{let i=r[Nt][Cn];e[Cn]!==i&&(n[ae]|=2)}t===null?n[ru]=[e]:t.push(e)}var Mi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[oe];return du(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Vt]}set context(e){this._lView[Vt]=e}get destroyed(){return jo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nt];if($n(e)){let t=e[nu],r=t?t.indexOf(this):-1;r>-1&&(Pv(e,r),Yc(t,r))}this._attachedToViewContainer=!1}mS(this._lView[oe],this._lView)}onDestroy(e){Ky(this._lView,e)}markForCheck(){h_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ae]&=-129}reattach(){vh(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,d_(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ra(this._lView),t=this._lView[Oo];t!==null&&!e&&r_(t,this._lView),gS(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let t=ra(this._lView),r=this._lView[Oo];r!==null&&!t&&NS(r,this._lView),vh(this._lView)}};var Qo=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=ZL;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=FL(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Mi(o)}}return n})();function ZL(){return xS(wt(),ye())}function xS(n,e){return n.type&4?new Qo(e,n,Zh(n,e)):null}function cf(n,e,t,r,i){let o=n.data[e];if(o===null)o=XL(n,e,t,r,i),HT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=VT();o.injectorIndex=s===null?-1:s.injectorIndex}return oa(o,!0),o}function XL(n,e,t,r,i){let o=Zy(),s=Xy(),a=s?o:o&&o.parent,u=n.data[e]=tV(n,a,t,e,r,i);return eV(n,u,o,s),u}function eV(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function tV(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return LT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var ZY=new RegExp(`^(\\d+)*(${RF}|${AF})*(.*)`);var nV=()=>null;function fC(n,e){return nV(n,e)}var MS=class{},uf=class{},kv=class{resolveComponentFactory(e){throw new U(917,!1)}},yu=class{static NULL=new kv},zo=class{},Kr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>rV()}return n})();function rV(){let n=ye(),e=wt(),t=An(e.index,n);return(cr(t)?t:n)[We]}var PS=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>null})}return n})();var Ph={},Ov=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Ph,r);return i!==Ph||t===Ph?i:this.parentInjector.get(e,t,r)}};function $h(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ey(i,a);else if(o==2){let u=a,l=e[++s];r=Ey(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ie(n,e=0){let t=ye();if(t===null)return Q(n,e);let r=wt();return zC(r,t,Rt(n),e)}function f_(){let n="invalid";throw new Error(n)}function kS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}sV(n,e,t,a,o,u,l)}o!==null&&r!==null&&iV(t,r,o)}function iV(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function oV(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function sV(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&ur(y)&&(u=!0,oV(n,t,g)),Tv(Vh(t,e),n,y.type)}hV(t,n.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=fS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=ua(t.mergedAttrs,y.hostAttrs),cV(n,t,e,p,y),dV(p,y,i),s!==null&&s.has(y)){let[k,x]=s.get(y);t.directiveToIndex.set(y.type,[p,k+t.directiveStart,x+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}aV(n,t,o)}function aV(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))pC(0,e,i,r),pC(1,e,i,r),mC(e,r,!1);else{let o=t.get(i);gC(0,e,o,r),gC(1,e,o,r),mC(e,r,!0)}}}function pC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),OS(e,o)}}function gC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),OS(e,s)}}function OS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function mC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Zv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function cV(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=wi(i.type,!0)),s=new Ho(o,ur(i),ie,null);n.blueprint[r]=s,t[r]=s,uV(n,e,r,fS(n,t,i.hostVars,qn),i)}function uV(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;lV(s)!=a&&s.push(a),s.push(t,r,o)}}function lV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function dV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ur(e)&&(t[""]=n)}}function hV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function p_(n,e,t,r,i,o,s,a){let u=e[oe],l=u.consts,h=Uo(l,s),p=cf(u,n,t,r,h);return o&&kS(u,e,p,Uo(l,a),i),p.mergedAttrs=ua(p.mergedAttrs,p.attrs),p.attrs!==null&&$h(p,p.attrs,!1),p.mergedAttrs!==null&&$h(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function g_(n,e){OC(n,e),$y(e)&&n.queries.elementEnd(e)}function fV(n,e,t,r,i,o){let s=e.consts,a=Uo(s,i),u=cf(e,n,t,r,a);if(u.mergedAttrs=ua(u.mergedAttrs,u.attrs),o!=null){let l=Uo(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&$h(u,u.attrs,!1),u.mergedAttrs!==null&&$h(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function m_(n){return LS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function FS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function LS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function y_(n,e,t){return n[e]=t}function Gr(n,e,t){if(t===qn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function v_(n,e,t,r){let i=Gr(n,e,t);return Gr(n,e+1,r)||i}function pV(n,e,t,r,i){let o=v_(n,e,t,r);return Gr(n,e+2,i)||o}function mv(n,e,t){return function r(i){let o=Ai(n)?An(n.index,e):e;h_(o,5);let s=e[Vt],a=yC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=yC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function yC(n,e,t,r){let i=fe(null);try{return Me(6,e,t),t(r)!==!1}catch(o){return ML(n,o),!1}finally{Me(7,e,t),fe(i)}}function gV(n,e,t,r,i,o,s,a){let u=na(n),l=!1,h=null;if(!r&&u&&(h=mV(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Hn(n,t),g=r?r(p):p;xF(t,g,o,a);let y=i.listen(g,o,a),S=r?k=>r(Sn(k[n.index])):n.index;VS(S,e,t,o,a,y,!1)}return l}function mV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ea],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function VS(n,e,t,r,i,o,s){let a=e.firstCreatePass?kT(e):null,u=PT(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function vC(n,e,t,r,i,o){let s=e[t],a=e[oe],l=a.data[t].outputs[r],p=s[l].subscribe(o);VS(n.index,a,e,i,o,p,!0)}var Fv=Symbol("BINDING");var Hh=class extends yu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=zr(e);return new qo(t,this.ngModule)}};function yV(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&rf.SignalBased)!==0};return i&&(o.transform=i),o})}function vV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function _V(n,e,t){let r=e instanceof Ge?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Ov(t,r):t}function EV(n){let e=n.get(zo,null);if(e===null)throw new U(407,!1);let t=n.get(PS,null),r=n.get(Br,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function IV(n,e){let t=jS(n);return uS(e,t,t==="svg"?Hy:t==="math"?RT:null)}function jS(n){return(n.selectors[0][0]||"div").toLowerCase()}var qo=class extends uf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=yV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=vV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=QF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Me(22);let a=fe(null);try{let u=this.componentDef,l=wV(r,u,s,o),h=_V(u,i||this.ngModule,e),p=EV(h),g=p.rendererFactory.createRenderer(null,u),y=r?EL(g,r,u.encapsulation,h):IV(u,g),S=s?.some(_C)||o?.some(L=>typeof L!="function"&&L.bindings.some(_C)),k=e_(null,l,null,512|hS(u),null,null,p,g,h,null,tS(y,h,!0));k[gt]=y,Ih(k);let x=null;try{let L=p_(gt,k,2,"#host",()=>l.directiveRegistry,!0,0);y&&(dS(g,y,L),la(y,k)),sf(l,k,L),Kv(l,L,k),g_(l,L),t!==void 0&&DV(L,this.ngContentSelectors,t),x=An(L.index,k),k[Vt]=x[Vt],l_(l,k,null)}catch(L){throw x!==null&&Sv(x),Sv(k),L}finally{Me(23),wh()}return new zh(this.componentType,k,!!S)}finally{fe(a)}}};function wV(n,e,t,r){let i=n?["ng-version","20.3.0"]:YF(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Fv].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[Fv].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=Fy(p);u.push(g)}return Xv(0,null,bV(o,s),1,a,u,null,null,null,[i],null)}function bV(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function _C(n){let e=n[Fv].kind;return e==="input"||e==="twoWay"}var zh=class extends MS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=gh(t[oe],gt),this.location=Zh(this._tNode,t),this.instance=An(this._tNode.index,t)[Vt],this.hostView=this.changeDetectorRef=new Mi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=u_(r,i[oe],i,e,t);this.previousInputValues.set(e,t);let s=An(r.index,i);h_(s,1)}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function DV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Qr=(()=>{class n{static __NG_ELEMENT_ID__=TV}return n})();function TV(){let n=wt();return SV(n,ye())}var CV=Qr,US=class extends CV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Zh(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){let e=Hv(this._hostTNode,this._hostLView);if(VC(e)){let t=Fh(e,this._hostLView),r=Oh(e),i=t[oe].data[r+8];return new $o(i,t)}else return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=EC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-rn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=fC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,dC(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!rF(e),l;if(u)l=t;else{let x=t||{};l=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef,s=x.directives,a=x.bindings}let h=u?e:new qo(zr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let L=(u?p:this.parentInjector).get(Ge,null);L&&(o=L)}let g=zr(h.componentType??{}),y=fC(this._lContainer,g?.id??null),S=y?.firstChild??null,k=h.create(p,i,S,o,s,a);return this.insertImpl(k.hostView,l,dC(this._hostTNode,y)),k}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(NT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Nt],l=new US(u,u[Tn],u[Nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return YL(s,i,o,r),e.attachToViewContainerRef(),My(yv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=EC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Pv(this._lContainer,t);r&&(Yc(yv(this._lContainer),t),mS(r[oe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Pv(this._lContainer,t);return r&&Yc(yv(this._lContainer),t)!=null?new Mi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function EC(n){return n[nu]}function yv(n){return n[nu]||(n[nu]=[])}function SV(n,e){let t,r=e[n.index];return $n(r)?t=r:(t=RS(r,e,null,n),e[n.index]=t,t_(e,t)),RV(t,e,n,r),new US(t,n,e)}function AV(n,e){let t=n[We],r=t.createComment(""),i=Hn(e,n),o=t.parentNode(i);return Bh(t,o,r,t.nextSibling(i),!1),r}var RV=MV,NV=()=>!1;function xV(n,e,t){return NV(n,e,t)}function MV(n,e,t,r){if(n[Si])return;let i;t.type&8?i=Sn(r):i=AV(e,t),n[Si]=i}var IC=new Set;function fa(n){IC.has(n)||(IC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Go=class{},lf=class{};var qh=class extends Go{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Hh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Oy(e);this._bootstrapComponents=aS(o.bootstrap),this._r3Injector=av(e,t,[{provide:Go,useValue:this},{provide:yu,useValue:this.componentFactoryResolver},...r],Ur(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gh=class extends lf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new qh(this.moduleType,e,[])}};var hu=class extends Go{injector;componentFactoryResolver=new Hh(this);instance=null;constructor(e){super();let t=new No([...e.providers,{provide:Go,useValue:this},{provide:yu,useValue:this.componentFactoryResolver}],e.parent||Zc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function pa(n,e,t=null){return new hu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var PV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ly(!1,t.type),i=r.length>0?pa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(Q(Ge))})}return n})();function Te(n){return ha(()=>{let e=BS(n),t=X(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===zv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(PV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||qr.Emulated,styles:n.styles||gn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&fa("NgStandalone"),$S(t);let r=n.dependencies;return t.directiveDefs=wC(r,kV),t.pipeDefs=wC(r,wT),t.id=LV(t),t})}function kV(n){return zr(n)||Fy(n)}function Gn(n){return ha(()=>({type:n.type,bootstrap:n.bootstrap||gn,declarations:n.declarations||gn,imports:n.imports||gn,exports:n.exports||gn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function OV(n,e){if(n==null)return Ti;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=rf.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function FV(n){if(n==null)return Ti;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ke(n){return ha(()=>{let e=BS(n);return $S(e),e})}function Yo(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function BS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ti,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||gn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:OV(n.inputs,e),outputs:FV(n.outputs),debugInfo:null}}function $S(n){n.features?.forEach(e=>e(n))}function wC(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function LV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function VV(n){return Object.getPrototypeOf(n.prototype).constructor}function gr(n){let e=VV(n.type),t=!0,r=[n];for(;e;){let i;if(ur(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=vv(n.inputs),s.declaredInputs=vv(n.declaredInputs),s.outputs=vv(n.outputs);let a=i.hostBindings;a&&HV(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&BV(n,u),l&&$V(n,l),jV(n,i),pT(n.outputs,i.outputs),ur(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===gr&&(t=!1)}}e=Object.getPrototypeOf(e)}UV(r)}function jV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function UV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ua(i.hostAttrs,t=ua(t,i.hostAttrs))}}function vv(n){return n===Ti?{}:n===gn?[]:n}function BV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function $V(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function HV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function zV(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ua(n.mergedAttrs,n.attrs);let h=n.tView=Xv(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),oa(n,!1);let u=GV(t,e,n,r);Dh()&&i_(t,e,u,n),la(u,e);let l=RS(u,e,u,n);e[r+gt]=l,t_(e,l),xV(l,n,e)}function qV(n,e,t,r,i,o,s,a,u,l,h){let p=t+gt,g;return e.firstCreatePass?(g=cf(e,p,4,s||null,a||null),_h()&&kS(e,n,g,Uo(e.consts,l),s_),OC(e,g)):g=e.data[p],zV(g,n,e,t,r,i,o,u),na(g)&&sf(e,n,g),l!=null&&af(n,g,h),g}function ce(n,e,t,r,i,o,s,a){let u=ye(),l=Wt(),h=Uo(l.consts,o);return qV(u,l,n,e,t,r,i,h,void 0,s,a),ce}var GV=WV;function WV(n,e,t,r){return au(!0),e[We].createComment("")}var df=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(df||{}),Jo=new $(""),HS=!1,Lv=class extends st{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ST()&&(this.destroyRef=N(lr,{optional:!0})??void 0,this.pendingTasks=N(dr,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Je&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},je=Lv;function zS(n){let e,t;function r(){n=cu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function bC(n){return queueMicrotask(()=>n()),()=>{n=cu}}var __="isAngularZone",Wh=__+"_ID",KV=0,Re=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new je(!1);onMicrotaskEmpty=new je(!1);onStable=new je(!1);onError=new je(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=HS}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,JV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(__)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,QV,cu,cu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},QV={};function E_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function YV(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){zS(()=>{n.callbackScheduled=!1,Vv(n),n.isCheckStableRunning=!0,E_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Vv(n)}function JV(n){let e=()=>{YV(n)},t=KV++;n._inner=n._inner.fork({name:"angular",properties:{[__]:!0,[Wh]:t,[Wh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(ZV(u))return r.invokeTask(o,s,a,u);try{return DC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),TC(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return DC(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!XV(u)&&e(),TC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Vv(n),E_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Vv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function DC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function TC(n){n._nesting--,E_(n)}var Kh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new je;onMicrotaskEmpty=new je;onStable=new je;onError=new je;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function ZV(n){return qS(n,"__ignore_ng_zone__")}function XV(n){return qS(n,"__scheduler_tick__")}function qS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var I_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),GS=[0,1,2,3],WS=(()=>{class n{ngZone=N(Re);scheduler=N(Br);errorHandler=N(Un,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Jo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Me(16),this.executing=!0;for(let r of GS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Me(17)}register(t){let{view:r}=t;r!==void 0?((r[Vo]??=[]).push(t),ia(r),r[ae]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(df.AFTER_NEXT_RENDER,t):t()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),Qh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Vo];e&&(this.view[Vo]=e.filter(t=>t!==this))}};function hf(n,e){let t=e?.injector??N(Ze);return fa("NgAfterNextRender"),t2(n,t,e,!0)}function e2(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function t2(n,e,t,r){let i=e.get(I_);i.impl??=e.get(WS);let o=e.get(Jo,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(lr):null,a=e.get(Sh,null,{optional:!0}),u=new Qh(i.impl,e2(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var w_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var b_=new $("");function Yr(n){return!!n&&typeof n.then=="function"}function ff(n){return!!n&&typeof n.subscribe=="function"}var D_=new $("");function pf(n){return mn([{provide:D_,multi:!0,useValue:n}])}var T_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(D_,{optional:!0})??[];injector=N(Ze);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Xe(this.injector,i);if(Yr(o))t.push(o);else if(ff(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vu=new $("");function KS(){zm(()=>{let n="";throw new U(600,n)})}function QS(n){return n.isBoundToModule}var n2=10;var ki=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Kt);afterRenderManager=N(I_);zonelessEnabled=N(Ch);rootEffectScheduler=N(hv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new st;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(dr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(J(t=>!t))}constructor(){N(Jo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(Ge);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ze.NULL){return this._injector.get(Re).run(()=>{Me(10);let s=t instanceof uf;if(!this._injector.get(T_).done){let S="";throw new U(405,S)}let u;s?u=t:u=this._injector.get(yu).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=QS(u)?void 0:this._injector.get(Go),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(b_,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),lu(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),Me(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Me(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(df.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,fe(t),this.afterTick.next(),Me(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<n2;)Me(14),this.synchronizeOnce(),Me(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!iu(i))continue;let o=r&&!this.zonelessEnabled?0:1;d_(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>iu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;lu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(vu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>lu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ga(n,e,t,r){let i=ye(),o=su();if(Gr(i,o,e)){let s=Wt(),a=bh();RL(a,i,n,e,t,r)}return ga}var C_=new $("",{providedIn:"root",factory:()=>!1}),S_=new $("",{providedIn:"root",factory:()=>r2}),r2=4e3;var oJ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function H(n,e,t){let r=ye(),i=su();if(Gr(r,i,e)){let o=Wt(),s=bh();_S(s,r,n,e,r[We],t)}return H}function CC(n,e,t,r,i){u_(e,n,t,i?"class":"style",r)}function b(n,e,t,r){let i=ye(),o=i[oe],s=n+gt,a=o.firstCreatePass?p_(s,i,2,e,s_,_h(),t,r):o.data[s];if(a_(a,i,n,e,YS),na(a)){let u=i[oe];sf(u,i,a),Kv(u,a,i)}return r!=null&&af(i,a),b}function D(){let n=Wt(),e=wt(),t=c_(e);return n.firstCreatePass&&g_(n,t),Yy(t)&&Jy(),Qy(),t.classesWithoutHost!=null&&uF(t)&&CC(n,t,ye(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&lF(t)&&CC(n,t,ye(),t.stylesWithoutHost,!1),D}function te(n,e,t,r){return b(n,e,t,r),D(),te}function sn(n,e,t,r){let i=ye(),o=i[oe],s=n+gt,a=o.firstCreatePass?fV(s,o,2,e,t,r):o.data[s];return a_(a,i,n,e,YS),r!=null&&af(i,a),sn}function Wn(){let n=wt(),e=c_(n);return Yy(e)&&Jy(),Qy(),Wn}function Zo(n,e,t,r){return sn(n,e,t,r),Wn(),Zo}var YS=(n,e,t,r,i)=>(au(!0),uS(e[We],r,JT()));function an(n,e,t){let r=ye(),i=r[oe],o=n+gt,s=i.firstCreatePass?p_(o,r,8,"ng-container",s_,_h(),e,t):i.data[o];if(a_(s,r,n,"ng-container",i2),na(s)){let a=r[oe];sf(a,r,s),Kv(a,s,r)}return t!=null&&af(r,s),an}function cn(){let n=Wt(),e=wt(),t=c_(e);return n.firstCreatePass&&g_(n,t),cn}var i2=(n,e,t,r,i)=>(au(!0),XF(e[We],""));function Qt(){return ye()}var Bo=void 0;function o2(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var s2=["en",[["a","p"],["AM","PM"],Bo],[["AM","PM"],Bo,Bo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bo,"{1} 'at' {0}",Bo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",o2],_v={};function un(n){let e=a2(n),t=SC(e);if(t)return t;let r=e.split("-")[0];if(t=SC(r),t)return t;if(r==="en")return s2;throw new U(701,!1)}function SC(n){return n in _v||(_v[n]=$r.ng&&$r.ng.common&&$r.ng.common.locales&&$r.ng.common.locales[n]),_v[n]}var tt=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(tt||{});function a2(n){return n.toLowerCase().replace(/_/g,"-")}var _u="en-US";var c2=_u;function JS(n){typeof n=="string"&&(c2=n.toLowerCase().replace(/_/g,"-"))}function Ue(n,e,t){let r=ye(),i=Wt(),o=wt();return ZS(i,r,r[We],o,n,e,t),Ue}function ZS(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=mv(r,e,o),gV(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=mv(r,e,o),vC(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=mv(r,e,o),vC(r,e,p,i,i,u)}}function le(n=1){return YT(n)}function ln(n){let e=UT();return mh(e,gt+n)}function Nh(n,e){return n<<17|e<<2}function Wo(n){return n>>17&32767}function u2(n){return(n&2)==2}function l2(n,e){return n&131071|e<<17}function jv(n){return n|2}function da(n){return(n&131068)>>2}function Ev(n,e){return n&-131069|e<<2}function d2(n){return(n&1)===1}function Uv(n){return n|1}function h2(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Wo(s),u=da(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Xs(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=Wo(n[a+1]);n[r+1]=Nh(g,a),g!==0&&(n[g+1]=Ev(n[g+1],r)),n[a+1]=l2(n[a+1],r)}else n[r+1]=Nh(a,0),a!==0&&(n[a+1]=Ev(n[a+1],r)),a=r;else n[r+1]=Nh(u,0),a===0?a=r:n[u+1]=Ev(n[u+1],r),u=r;l&&(n[r+1]=jv(n[r+1])),AC(n,h,r,!0),AC(n,h,r,!1),f2(e,h,n,r,o),s=Nh(a,u),o?e.classBindings=s:e.styleBindings=s}function f2(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Xs(o,e)>=0&&(t[r+1]=Uv(t[r+1]))}function AC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Wo(i):da(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];p2(u,e)&&(a=!0,n[s+1]=r?Uv(l):jv(l)),s=r?Wo(l):da(l)}a&&(n[t+1]=r?jv(i):Uv(i))}function p2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Xs(n,e)>=0:!1}function gf(n,e,t){return XS(n,e,t,!1),gf}function mr(n,e){return XS(n,e,null,!0),mr}function XS(n,e,t,r){let i=ye(),o=Wt(),s=rv(2);if(o.firstUpdatePass&&m2(o,n,s,r),e!==qn&&Gr(i,s,e)){let a=o.data[Ri()];I2(o,a,i,i[We],n,i[s+1]=w2(e,t),r,s)}}function g2(n,e){return e>=n.expandoStartIndex}function m2(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ri()],s=g2(n,t);b2(o,r)&&e===null&&!s&&(e=!1),e=y2(i,o,e,r),h2(i,o,e,t,s,r)}}function y2(n,e,t,r){let i=GT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Iv(null,n,e,t,r),t=fu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Iv(i,n,e,t,r),o===null){let u=v2(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Iv(null,n,e,u[1],r),u=fu(u,e.attrs,r),_2(n,e,r,u))}else o=E2(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function v2(n,e,t){let r=t?e.classBindings:e.styleBindings;if(da(r)!==0)return n[Wo(r)]}function _2(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Wo(i)]=r}function E2(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=fu(r,s,t)}return fu(r,e.attrs,t)}function Iv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=fu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function fu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),IT(n,s,t?!0:e[++o]))}return n===void 0?null:n}function I2(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=d2(l)?RC(u,e,t,i,da(l),s):void 0;if(!Yh(h)){Yh(o)||u2(l)&&(o=RC(u,null,t,i,a,s));let p=zy(Ri(),t);_L(r,s,p,i,o)}}function RC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===qn&&(g=p?gn:void 0);let y=p?fh(g,r):h===r?g:void 0;if(l&&!Yh(y)&&(y=fh(u,r)),Yh(y)&&(a=y,s))return a;let S=n[i+1];i=s?Wo(S):da(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=fh(u,r))}return a}function Yh(n){return n!==void 0}function w2(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ur(gu(n)))),n}function b2(n,e){return(n.flags&(e?8:16))!==0}function P(n,e=""){let t=ye(),r=Wt(),i=n+gt,o=r.firstCreatePass?cf(r,i,1,e,null):r.data[i],s=D2(r,t,o,e,n);t[i]=s,Dh()&&i_(r,t,s,o),oa(o,!1)}var D2=(n,e,t,r,i)=>(au(!0),JF(e[We],r));function eA(n,e,t,r=""){return Gr(n,su(),t)?e+Mo(t)+r:qn}function T2(n,e,t,r,i,o=""){let s=BT(),a=v_(n,s,t,i);return rv(2),a?e+Mo(t)+r+Mo(i)+o:qn}function Ie(n){return we("",n),Ie}function we(n,e,t){let r=ye(),i=eA(r,n,e,t);return i!==qn&&tA(r,Ri(),i),we}function Jr(n,e,t,r,i){let o=ye(),s=T2(o,n,e,t,r,i);return s!==qn&&tA(o,Ri(),s),Jr}function tA(n,e,t){let r=zy(e,n);ZF(n[We],r,t)}function Eu(n,e,t){uv(e)&&(e=e());let r=ye(),i=su();if(Gr(r,i,e)){let o=Wt(),s=bh();_S(s,r,n,e,r[We],t)}return Eu}function mf(n,e){let t=uv(n);return t&&n.set(e),t}function Iu(n,e){let t=ye(),r=Wt(),i=wt();return ZS(r,t,t[We],i,n,e),Iu}function yf(n,e,t=""){return eA(ye(),n,e,t)}function C2(n,e,t){let r=Wt();if(r.firstCreatePass){let i=ur(n);Bv(t,r.data,r.blueprint,i,!0),Bv(e,r.data,r.blueprint,i,!1)}}function Bv(n,e,t,r,i){if(n=Rt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Bv(n[o],e,t,r,i);else{let o=Wt(),s=ye(),a=wt(),u=Ro(n)?n:Rt(n.provide),l=jy(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Ro(n)||!n.multi){let y=new Ho(l,i,ie,null),S=bv(u,e,i?h:h+g,p);S===-1?(Tv(Vh(a,s),o,u),wv(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[S]=y,s[S]=y)}else{let y=bv(u,e,h+g,p),S=bv(u,e,h,h+g),k=y>=0&&t[y],x=S>=0&&t[S];if(i&&!x||!i&&!k){Tv(Vh(a,s),o,u);let L=R2(i?A2:S2,t.length,i,r,l,n);!i&&x&&(t[S].providerFactory=L),wv(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(L),s.push(L)}else{let L=nA(t[i?S:y],l,!i&&r);wv(o,n,y>-1?y:S,L)}!i&&r&&x&&t[S].componentProviders++}}}function wv(n,e,t,r){let i=Ro(e),o=CT(e);if(i||o){let u=(o?Rt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function nA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function bv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function S2(n,e,t,r,i){return $v(this.multi,[])}function A2(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=jh(r,r[oe],this.providerFactory.index,i);s=u.slice(0,a),$v(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],$v(o,s);return s}function $v(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function R2(n,e,t,r,i,o){let s=new Ho(n,t,ie,null);return s.multi=[],s.index=e,s.componentProviders=0,nA(s,i,r&&!t),s}function ma(n,e=[]){return t=>{t.providersResolver=(r,i)=>C2(r,i?i(n):n,e)}}function wu(n,e,t,r){return rA(ye(),sa(),n,e,t,r)}function bu(n,e,t,r,i){return iA(ye(),sa(),n,e,t,r,i)}function A_(n,e,t,r,i,o){return N2(ye(),sa(),n,e,t,r,i,o)}function R_(n,e){let t=n[e];return t===qn?void 0:t}function rA(n,e,t,r,i,o){let s=e+t;return Gr(n,s,i)?y_(n,s+1,o?r.call(o,i):r(i)):R_(n,s+1)}function iA(n,e,t,r,i,o,s){let a=e+t;return v_(n,a,i,o)?y_(n,a+2,s?r.call(s,i,o):r(i,o)):R_(n,a+2)}function N2(n,e,t,r,i,o,s,a){let u=e+t;return pV(n,u,i,o,s)?y_(n,u+3,a?r.call(a,i,o,s):r(i,o,s)):R_(n,u+3)}function Yt(n,e){let t=Wt(),r,i=n+gt;t.firstCreatePass?(r=x2(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=wi(r.type,!0)),s,a=Gt(ie);try{let u=Lh(!1),l=o();return Lh(u),qy(t,ye(),i,l),l}finally{Gt(a)}}function x2(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function yr(n,e,t){let r=n+gt,i=ye(),o=mh(i,r);return oA(i,r)?rA(i,sa(),e,o.transform,t,o):o.transform(t)}function Oi(n,e,t,r){let i=n+gt,o=ye(),s=mh(o,i);return oA(o,i)?iA(o,sa(),e,s.transform,t,r,s):s.transform(t,r)}function oA(n,e){return n[oe].data[e].pure}function Rn(n,e){return xS(n,e)}var Jh=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},N_=(()=>{class n{compileModuleSync(t){return new Gh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Oy(t),o=aS(i.declarations).reduce((s,a)=>{let u=zr(a);return u&&s.push(new qo(u)),s},[]);return new Jh(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var M2=(()=>{class n{zone=N(Re);changeDetectionScheduler=N(Br);applicationRef=N(ki);applicationErrorHandler=N(Kt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sA({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Re(X(F({},aA()),{scheduleInRootZone:t})),[{provide:Re,useFactory:n},{provide:Ci,multi:!0,useFactory:()=>{let r=N(M2,{optional:!0});return()=>r.initialize()}},{provide:Ci,multi:!0,useFactory:()=>{let r=N(P2);return()=>{r.initialize()}}},e===!0?{provide:lv,useValue:!0}:[],{provide:dv,useValue:t??HS},{provide:Kt,useFactory:()=>{let r=N(Re),i=N(Ge),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Un),o.handleError(s))})}}}]}function aA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var P2=(()=>{class n{subscription=new Je;initialized=!1;zone=N(Re);pendingTasks=N(dr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var cA=(()=>{class n{applicationErrorHandler=N(Kt);appRef=N(ki);taskService=N(dr);ngZone=N(Re);zonelessEnabled=N(Ch);tracing=N(Jo,{optional:!0});disableScheduling=N(lv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(dv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Kh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?bC:zS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function k2(){return typeof $localize<"u"&&$localize.locale||_u}var ya=new $("",{providedIn:"root",factory:()=>N(ya,{optional:!0,skipSelf:!0})||k2()});function ut(n){return dT(n)}function va(n,e){return Nd(n,e?.equal)}var uA=class{[Lt];constructor(e){this[Lt]=e}destroy(){this[Lt].destroy()}};var pA=Symbol("InputSignalNode#UNSET"),Q2=X(F({},xd),{transformFn:void 0,applyValueToInputSignal(n,e){Ls(n,e)}});function gA(n,e){let t=Object.create(Q2);t.value=n,t.transformFn=e?.transform;function r(){if(ks(t),t.value===pA){let i=null;throw new U(-950,i)}return t.value}return r[Lt]=t,r}var _f=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>pu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Y2=new $("");Y2.__NG_ELEMENT_ID__=n=>{let e=wt();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new U(204,!1)};function lA(n,e){return gA(n,e)}function J2(n){return gA(pA,n)}var mA=(lA.required=J2,lA);var Xo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},yA=new Xo("20.3.0");var x_=new $(""),Z2=new $("");function Du(n){return!n.moduleRef}function X2(n){let e=Du(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Re);return t.run(()=>{Du(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Kt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Du(n)){let o=()=>e.destroy(),s=n.platformInjector.get(x_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(x_);s.add(o),n.moduleRef.onDestroy(()=>{lu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return tj(r,t,()=>{let o=e.get(dr),s=o.add(),a=e.get(T_);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(ya,_u);if(JS(u||_u),!e.get(Z2,!0))return Du(n)?e.get(ki):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Du(n)){let h=e.get(ki);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return ej?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var ej;function tj(n,e,t){try{let r=t();return Yr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var vf=null;function nj(n=[],e){return Ze.create({name:e,providers:[{provide:Jc,useValue:"platform"},{provide:x_,useValue:new Set([()=>vf=null])},...n]})}function rj(n=[]){if(vf)return vf;let e=nj(n);return vf=e,KS(),ij(e),e}function ij(n){let e=n.get(ef,null);Xe(n,()=>{e?.forEach(t=>t())})}function F_(){return!1}var Fi=(()=>{class n{static __NG_ELEMENT_ID__=oj}return n})();function oj(n){return sj(wt(),ye(),(n&16)===16)}function sj(n,e,t){if(Ai(n)&&!t){let r=An(n.index,e);return new Mi(r,r)}else if(n.type&175){let r=e[Cn];return new Mi(r,e)}return null}var M_=class{constructor(){}supports(e){return m_(e)}create(e){return new P_(e)}},aj=(n,e)=>e,P_=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||aj}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<dA(r,i,o)?t:r,a=dA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,S=y+g;h<=S&&S<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!m_(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,FS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new k_(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ef),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ef),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},k_=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},O_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ef=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new O_,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function dA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function hA(){return new L_([new M_])}var L_=(()=>{class n{factories;static \u0275prov=z({token:n,providedIn:"root",factory:hA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=N(n,{optional:!0,skipSelf:!0});return n.create(t,r||hA())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new U(901,!1)}}return n})();function vA(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Me(8);try{let o=i?.injector??rj(r),s=[sA({}),{provide:Br,useExisting:cA},XT,...t||[]],a=new hu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return X2({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Me(9)}}function Li(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function _A(n){let e=zr(n);if(!e)return null;let t=new qo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var wA=null;function Nn(){return wA}function V_(n){wA??=n}var Tu=class{},Cu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(bA),providedIn:"platform"})}return n})(),j_=new $(""),bA=(()=>{class n extends Cu{_location;_history;_doc=N(et);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nn().getBaseHref(this._doc)}onPopState(t){let r=Nn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Nn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function If(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function EA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Kn(n){return n&&n[0]!=="?"?`?${n}`:n}var Qn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(bf),providedIn:"root"})}return n})(),wf=new $(""),bf=(()=>{class n extends Qn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return If(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Kn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(Cu),Q(wf,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vi=(()=>{class n{_subject=new st;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=lj(EA(IA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Kn(r))}normalize(t){return n.stripTrailingSlash(uj(this._basePath,IA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Kn;static joinWithSlash=If;static stripTrailingSlash=EA;static \u0275fac=function(r){return new(r||n)(Q(Qn))};static \u0275prov=z({token:n,factory:()=>cj(),providedIn:"root"})}return n})();function cj(){return new Vi(Q(Qn))}function uj(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function IA(n){return n.replace(/\/index.html$/,"")}function lj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var K_=(()=>{class n extends Qn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=If(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Kn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Kn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(Cu),Q(wf,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var Q_=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(Q_||{});var jt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(jt||{}),Fe=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Fe||{}),dn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(dn||{}),hn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function RA(n){return un(n)[tt.LocaleId]}function NA(n,e,t){let r=un(n),i=[r[tt.DayPeriodsFormat],r[tt.DayPeriodsStandalone]],o=xn(i,e);return xn(o,t)}function xA(n,e,t){let r=un(n),i=[r[tt.DaysFormat],r[tt.DaysStandalone]],o=xn(i,e);return xn(o,t)}function MA(n,e,t){let r=un(n),i=[r[tt.MonthsFormat],r[tt.MonthsStandalone]],o=xn(i,e);return xn(o,t)}function PA(n,e){let r=un(n)[tt.Eras];return xn(r,e)}function Su(n,e){let t=un(n);return xn(t[tt.DateFormat],e)}function Au(n,e){let t=un(n);return xn(t[tt.TimeFormat],e)}function Ru(n,e){let r=un(n)[tt.DateTimeFormat];return xn(r,e)}function vr(n,e){let t=un(n),r=t[tt.NumberSymbols][e];if(typeof r>"u"){if(e===hn.CurrencyDecimal)return t[tt.NumberSymbols][hn.Decimal];if(e===hn.CurrencyGroup)return t[tt.NumberSymbols][hn.Group]}return r}function kA(n,e){return un(n)[tt.NumberFormats][e]}function OA(n){if(!n[tt.ExtraData])throw new U(2303,!1)}function FA(n){let e=un(n);return OA(e),(e[tt.ExtraData][2]||[]).map(r=>typeof r=="string"?U_(r):[U_(r[0]),U_(r[1])])}function LA(n,e,t){let r=un(n);OA(r);let i=[r[tt.ExtraData][0],r[tt.ExtraData][1]],o=xn(i,e)||[];return xn(o,t)||[]}function xn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new U(2304,!1)}function U_(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var dj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Df={},hj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function VA(n,e,t,r){let i=Ij(n);e=Zr(t,e)||e;let s=[],a;for(;e;)if(a=hj.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=UA(r,u),i=Ej(i,r));let l="";return s.forEach(h=>{let p=vj(h);l+=p?p(i,t,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Rf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Zr(n,e){let t=RA(n);if(Df[t]??={},Df[t][e])return Df[t][e];let r="";switch(e){case"shortDate":r=Su(n,dn.Short);break;case"mediumDate":r=Su(n,dn.Medium);break;case"longDate":r=Su(n,dn.Long);break;case"fullDate":r=Su(n,dn.Full);break;case"shortTime":r=Au(n,dn.Short);break;case"mediumTime":r=Au(n,dn.Medium);break;case"longTime":r=Au(n,dn.Long);break;case"fullTime":r=Au(n,dn.Full);break;case"short":let i=Zr(n,"shortTime"),o=Zr(n,"shortDate");r=Tf(Ru(n,dn.Short),[i,o]);break;case"medium":let s=Zr(n,"mediumTime"),a=Zr(n,"mediumDate");r=Tf(Ru(n,dn.Medium),[s,a]);break;case"long":let u=Zr(n,"longTime"),l=Zr(n,"longDate");r=Tf(Ru(n,dn.Long),[u,l]);break;case"full":let h=Zr(n,"fullTime"),p=Zr(n,"fullDate");r=Tf(Ru(n,dn.Full),[h,p]);break}return r&&(Df[t][e]=r),r}function Tf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Yn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function fj(n,e){return Yn(n,3).substring(0,e)}function lt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=pj(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return fj(a,e);let u=vr(s,hn.MinusSign);return Yn(a,e,u,r,i)}}function pj(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new U(2301,!1)}}function Be(n,e,t=jt.Format,r=!1){return function(i,o){return gj(i,o,n,e,t,r)}}function gj(n,e,t,r,i,o){switch(t){case 2:return MA(e,i,r)[n.getMonth()];case 1:return xA(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=FA(e),h=LA(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,S]=g,k=s>=y.hours&&a>=y.minutes,x=s<S.hours||s===S.hours&&a<S.minutes;if(y.hours<S.hours){if(k&&x)return!0}else if(k||x)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return NA(e,i,r)[s<12?0:1];case 3:return PA(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new U(2302,!1)}}function Cf(n){return function(e,t,r){let i=-1*r,o=vr(t,hn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Yn(s,2,o)+Yn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Yn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Yn(s,2,o)+":"+Yn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Yn(s,2,o)+":"+Yn(Math.abs(i%60),2,o);default:throw new U(2302,!1)}}}var mj=0,Af=4;function yj(n){let e=Rf(n,mj,1).getDay();return Rf(n,0,1+(e<=Af?Af:Af+7)-e)}function jA(n){let e=n.getDay(),t=e===0?-3:Af-e;return Rf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function B_(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=jA(t),s=yj(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Yn(i,n,vr(r,hn.MinusSign))}}function Sf(n,e=!1){return function(t,r){let o=jA(t).getFullYear();return Yn(o,n,vr(r,hn.MinusSign),e)}}var $_={};function vj(n){if($_[n])return $_[n];let e;switch(n){case"G":case"GG":case"GGG":e=Be(3,Fe.Abbreviated);break;case"GGGG":e=Be(3,Fe.Wide);break;case"GGGGG":e=Be(3,Fe.Narrow);break;case"y":e=lt(0,1,0,!1,!0);break;case"yy":e=lt(0,2,0,!0,!0);break;case"yyy":e=lt(0,3,0,!1,!0);break;case"yyyy":e=lt(0,4,0,!1,!0);break;case"Y":e=Sf(1);break;case"YY":e=Sf(2,!0);break;case"YYY":e=Sf(3);break;case"YYYY":e=Sf(4);break;case"M":case"L":e=lt(1,1,1);break;case"MM":case"LL":e=lt(1,2,1);break;case"MMM":e=Be(2,Fe.Abbreviated);break;case"MMMM":e=Be(2,Fe.Wide);break;case"MMMMM":e=Be(2,Fe.Narrow);break;case"LLL":e=Be(2,Fe.Abbreviated,jt.Standalone);break;case"LLLL":e=Be(2,Fe.Wide,jt.Standalone);break;case"LLLLL":e=Be(2,Fe.Narrow,jt.Standalone);break;case"w":e=B_(1);break;case"ww":e=B_(2);break;case"W":e=B_(1,!0);break;case"d":e=lt(2,1);break;case"dd":e=lt(2,2);break;case"c":case"cc":e=lt(7,1);break;case"ccc":e=Be(1,Fe.Abbreviated,jt.Standalone);break;case"cccc":e=Be(1,Fe.Wide,jt.Standalone);break;case"ccccc":e=Be(1,Fe.Narrow,jt.Standalone);break;case"cccccc":e=Be(1,Fe.Short,jt.Standalone);break;case"E":case"EE":case"EEE":e=Be(1,Fe.Abbreviated);break;case"EEEE":e=Be(1,Fe.Wide);break;case"EEEEE":e=Be(1,Fe.Narrow);break;case"EEEEEE":e=Be(1,Fe.Short);break;case"a":case"aa":case"aaa":e=Be(0,Fe.Abbreviated);break;case"aaaa":e=Be(0,Fe.Wide);break;case"aaaaa":e=Be(0,Fe.Narrow);break;case"b":case"bb":case"bbb":e=Be(0,Fe.Abbreviated,jt.Standalone,!0);break;case"bbbb":e=Be(0,Fe.Wide,jt.Standalone,!0);break;case"bbbbb":e=Be(0,Fe.Narrow,jt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Be(0,Fe.Abbreviated,jt.Format,!0);break;case"BBBB":e=Be(0,Fe.Wide,jt.Format,!0);break;case"BBBBB":e=Be(0,Fe.Narrow,jt.Format,!0);break;case"h":e=lt(3,1,-12);break;case"hh":e=lt(3,2,-12);break;case"H":e=lt(3,1);break;case"HH":e=lt(3,2);break;case"m":e=lt(4,1);break;case"mm":e=lt(4,2);break;case"s":e=lt(5,1);break;case"ss":e=lt(5,2);break;case"S":e=lt(6,1);break;case"SS":e=lt(6,2);break;case"SSS":e=lt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Cf(0);break;case"ZZZZZ":e=Cf(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Cf(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Cf(2);break;default:return null}return $_[n]=e,e}function UA(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function _j(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function Ej(n,e,t){let i=n.getTimezoneOffset(),o=UA(e,i);return _j(n,-1*(o-i))}function Ij(n){if(DA(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Rf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(dj))return wj(r)}let e=new Date(n);if(!DA(e))throw new U(2302,!1);return e}function wj(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,u,l),e}function DA(n){return n instanceof Date&&!isNaN(n.valueOf())}var bj=/^(\d+)?\.((\d+)(-(\d+))?)?$/,TA=22,Nf=".",Nu="0",Dj=";",Tj=",",H_="#";function Cj(n,e,t,r,i,o,s=!1){let a="",u=!1;if(!isFinite(n))a=vr(t,hn.Infinity);else{let l=Rj(n);s&&(l=Aj(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let W=o.match(bj);if(W===null)throw new U(2306,!1);let ee=W[1],ne=W[3],Ve=W[5];ee!=null&&(h=z_(ee)),ne!=null&&(p=z_(ne)),Ve!=null?g=z_(Ve):ne!=null&&p>g&&(g=p)}Nj(l,p,g);let y=l.digits,S=l.integerLen,k=l.exponent,x=[];for(u=y.every(W=>!W);S<h;S++)y.unshift(0);for(;S<0;S++)y.unshift(0);S>0?x=y.splice(S,y.length):(x=y,y=[0]);let L=[];for(y.length>=e.lgSize&&L.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)L.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&L.unshift(y.join("")),a=L.join(vr(t,r)),x.length&&(a+=vr(t,i)+x.join("")),k&&(a+=vr(t,hn.Exponential)+"+"+k)}return n<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function BA(n,e,t){let r=kA(e,Q_.Decimal),i=Sj(r,vr(e,hn.MinusSign));return Cj(n,i,e,hn.Group,hn.Decimal,t)}function Sj(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Dj),i=r[0],o=r[1],s=i.indexOf(Nf)!==-1?i.split(Nf):[i.substring(0,i.lastIndexOf(Nu)+1),i.substring(i.lastIndexOf(Nu)+1)],a=s[0],u=s[1]||"";t.posPre=a.substring(0,a.indexOf(H_));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Nu?t.minFrac=t.maxFrac=h+1:p===H_?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(Tj);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(H_);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function Aj(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function Rj(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Nf))>-1&&(e=e.replace(Nf,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Nu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Nu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>TA&&(r=r.splice(0,TA-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function Nj(n,e,t){if(e>t)throw new U(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,g,y,S){return g=g+p,S[y]=g<10?g:g-10,u&&(S[y]===0&&y>=l?S.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function z_(n){let e=parseInt(n);if(isNaN(e))throw new U(2305,!1);return e}var q_=/\s+/,CA=[],_n=(()=>{class n{_ngEl;_renderer;initialClasses=CA;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(q_):CA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(q_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(q_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ie(pr),ie(Kr))};static \u0275dir=Ke({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var xf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ut=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new xf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),SA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);SA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ie(Qr),ie(Qo),ie(L_))};static \u0275dir=Ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function SA(n,e){n.context.$implicit=e.item}var vt=(()=>{class n{_viewContainer;_context=new Mf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){AA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){AA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ie(Qr),ie(Qo))};static \u0275dir=Ke({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Mf=class{$implicit=null;ngIf=null};function AA(n,e){if(n&&!n.createEmbeddedView)throw new U(2020,!1)}var Pf=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,t){this._viewContainerRef=e,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},xu=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let r of this._defaultViews)r.enforceState(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ke({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),Y_=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Pf(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||n)(ie(Qr),ie(Qo),ie(xu,9))};static \u0275dir=Ke({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})(),J_=(()=>{class n{constructor(t,r,i){i._addDefault(new Pf(t,r))}static \u0275fac=function(r){return new(r||n)(ie(Qr),ie(Qo),ie(xu,9))};static \u0275dir=Ke({type:n,selectors:[["","ngSwitchDefault",""]]})}return n})();function Z_(n,e){return new U(2100,!1)}var G_=class{createSubscription(e,t,r){return ut(()=>e.subscribe({next:t,error:r}))}dispose(e){ut(()=>e.unsubscribe())}},W_=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},xj=new W_,Mj=new G_,es=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=N(Kt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Yr(t))return xj;if(ff(t))return Mj;throw Z_(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(ie(Fi,16))};static \u0275pipe=Yo({name:"async",type:n,pure:!1})}return n})();var Pj="mediumDate",$A=new $(""),HA=new $(""),Mu=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??Pj,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return VA(t,s,o||this.locale,a)}catch(s){throw Z_(n,s.message)}}static \u0275fac=function(r){return new(r||n)(ie(ya,16),ie($A,24),ie(HA,24))};static \u0275pipe=Yo({name:"date",type:n,pure:!0})}return n})();var X_=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!kj(t))return null;i||=this._locale;try{let o=Oj(t);return BA(o,i,r)}catch(o){throw Z_(n,o.message)}}static \u0275fac=function(r){return new(r||n)(ie(ya,16))};static \u0275pipe=Yo({name:"number",type:n,pure:!0})}return n})();function kj(n){return!(n==null||n===""||n!==n)}function Oj(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new U(2309,!1);return n}var Ae=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gn({type:n});static \u0275inj=bn({})}return n})();function Pu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ts=class{};var zA="browser";var qA=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new eE(N(et),window)})}return n})(),eE=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(X(F({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=Fj(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Di(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(X(F({},t),{left:i-s[0],top:o-s[1]}))}};function Fj(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Of=new $(""),oE=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Q(Of),Q(Re))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),ku=class{_doc;constructor(e){this._doc=e}manager},tE="ng-app-id";function GA(n){for(let e of n)e.remove()}function WA(n,e){let t=e.createElement("style");return t.textContent=n,t}function Lj(n,e,t,r){let i=n.head?.querySelectorAll(`style[${tE}="${e}"],link[${tE}="${e}"]`);if(i)for(let o of i)o.removeAttribute(tE),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function rE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var sE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,Lj(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,WA);r?.forEach(i=>this.addUsage(i,this.external,rE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(GA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])GA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,WA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,rE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Q(et),Q(Xh),Q(tf,8),Q(Pi))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),nE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},aE=/%COMP%/g;var QA="%COMP%",Vj=`_nghost-${QA}`,jj=`_ngcontent-${QA}`,Uj=!0,Bj=new $("",{providedIn:"root",factory:()=>Uj});function $j(n){return jj.replace(aE,n)}function Hj(n){return Vj.replace(aE,n)}function YA(n,e){return e.map(t=>t.replace(aE,n))}var cE=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(t,r,i,o,s,a,u,l=null,h,p,g=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.animationDisabled=h,this.maxAnimationTimeout=p,this.tracingService=g,this.platformIsServer=!1,this.defaultRenderer=new Ou(t,s,u,this.platformIsServer,this.tracingService,this.registry=Th(),this.maxAnimationTimeout)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof kf?i.applyToHost(t):i instanceof Fu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case qr.Emulated:o=new kf(u,l,r,this.appId,h,s,a,p,g,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case qr.ShadowDom:return new iE(u,l,t,r,s,a,this.nonce,p,g,this.registry,this.maxAnimationTimeout);default:o=new Fu(u,l,r,h,s,a,p,g,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Q(oE),Q(sE),Q(Xh),Q(Bj),Q(et),Q(Pi),Q(Re),Q(tf),Q(C_),Q(S_),Q(Jo,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Ou=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o,s,a){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(nE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(KA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(KA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){let{elements:r}=this.registry;if(r){r.animate(t,()=>t.remove(),this.maxAnimationTimeout);return}t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=nE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=nE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(fr.DashCase|fr.Important)?e.style.setProperty(t,r,i&fr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&fr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Nn().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function KA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var iE=class extends Ou{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l,h,p){super(e,o,s,u,l,h,p),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=i.styles;g=YA(i.id,g);for(let S of g){let k=document.createElement("style");a&&k.setAttribute("nonce",a),k.textContent=S,this.shadowRoot.appendChild(k)}let y=i.getExternalStyles?.();if(y)for(let S of y){let k=rE(S,o);a&&k.setAttribute("nonce",a),this.shadowRoot.appendChild(k)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fu=class extends Ou{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,t,r,i,o,s,a,u,l,h,p,g){super(e,o,s,a,u,l,p),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this._animationDisabled=h;let y=r.styles;this.styles=g?YA(g,y):y,this.styleUrls=r.getExternalStyles?.(g)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},kf=class extends Fu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l,h,p,g){let y=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h,p,g,y),this.contentAttr=$j(y),this.hostAttr=Hj(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ff=class n extends Tu{supportsDOMEvents=!0;static makeCurrent(){V_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=zj();return t==null?null:qj(t)}resetBaseElement(){Lu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Pu(document.cookie,e)}},Lu=null;function zj(){return Lu=Lu||document.head.querySelector("base"),Lu?Lu.getAttribute("href"):null}function qj(n){return new URL(n,document.baseURI).pathname}var Gj=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),ZA=(()=>{class n extends ku{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Q(et))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),JA=["alt","control","meta","shift"],Wj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},XA=(()=>{class n extends ku{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),JA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=Wj[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),JA.forEach(s=>{if(s!==i){let a=Kj[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Q(et))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function uE(n,e,t){let r=F({rootComponent:n,platformRef:t?.platformRef},Qj(e));return vA(r)}function Qj(n){return{appProviders:[...eU,...n?.providers??[]],platformProviders:Xj}}function Yj(){Ff.makeCurrent()}function Jj(){return new Un}function Zj(){return qv(document),document}var Xj=[{provide:Pi,useValue:zA},{provide:ef,useValue:Yj,multi:!0},{provide:et,useFactory:Zj}];var eU=[{provide:Jc,useValue:"root"},{provide:Un,useFactory:Jj},{provide:Of,useClass:ZA,multi:!0,deps:[et]},{provide:Of,useClass:XA,multi:!0,deps:[et]},cE,sE,oE,{provide:zo,useExisting:cE},{provide:ts,useClass:Gj},[]];var Ea=class{},Uu=class{},ns=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Vf=class{encodeKey(e){return eR(e)}encodeValue(e){return eR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function tU(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var nU=/%(\d[a-f0-9])/gi,rU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eR(n){return encodeURIComponent(n).replace(nU,(e,t)=>rU[t]??e)}function Lf(n){return`${n}`}var ji=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Vf,e.fromString){if(e.fromObject)throw new U(2805,!1);this.map=tU(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Lf):[Lf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Lf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Lf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var jf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function iU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function tR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function nR(n){return typeof Blob<"u"&&n instanceof Blob}function rR(n){return typeof FormData<"u"&&n instanceof FormData}function oU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var iR="Content-Type",oR="Accept",sR="X-Request-URL",aR="text/plain",cR="application/json",sU=`${cR}, ${aR}, */*`,Vu=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(iU(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new U(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new ns,this.context??=new jf,!this.params)this.params=new ji,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||tR(this.body)||nR(this.body)||rR(this.body)||oU(this.body)?this.body:this.body instanceof ji?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||rR(this.body)?null:nR(this.body)?this.body.type||null:tR(this.body)?null:typeof this.body=="string"?aR:this.body instanceof ji?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?cR:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,u=e.mode||this.mode,l=e.redirect||this.redirect,h=e.credentials||this.credentials,p=e.referrer||this.referrer,g=e.integrity||this.integrity,y=e.transferCache??this.transferCache,S=e.timeout??this.timeout,k=e.body!==void 0?e.body:this.body,x=e.withCredentials??this.withCredentials,L=e.reportProgress??this.reportProgress,W=e.headers||this.headers,ee=e.params||this.params,ne=e.context??this.context;return e.setHeaders!==void 0&&(W=Object.keys(e.setHeaders).reduce((Ve,me)=>Ve.set(me,e.setHeaders[me]),W)),e.setParams&&(ee=Object.keys(e.setParams).reduce((Ve,me)=>Ve.set(me,e.setParams[me]),ee)),new n(t,r,k,{params:ee,headers:W,context:ne,reportProgress:L,responseType:i,withCredentials:x,transferCache:y,keepalive:o,cache:a,priority:s,timeout:S,mode:u,redirect:l,credentials:h,referrer:p,integrity:g})}},_a=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(_a||{}),Ia=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new ns,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Uf=class n extends Ia{constructor(e={}){super(e)}type=_a.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Bf=class n extends Ia{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=_a.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},ju=class extends Ia{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},aU=200,cU=204;function lE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var uU=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Vu)o=t;else{let u;i.headers instanceof ns?u=i.headers:u=new ns(i.headers);let l;i.params&&(i.params instanceof ji?l=i.params:l=new ji({fromObject:i.params})),o=new Vu(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=K(o).pipe(sr(u=>this.handler.handle(u)));if(t instanceof Vu||i.observe==="events")return s;let a=s.pipe(At(u=>u instanceof Bf));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new U(2806,!1);return u.body}));case"blob":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new U(2807,!1);return u.body}));case"text":return a.pipe(J(u=>{if(u.body!==null&&typeof u.body!="string")throw new U(2808,!1);return u.body}));case"json":default:return a.pipe(J(u=>u.body))}case"response":return a;default:throw new U(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ji().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,lE(i,r))}post(t,r,i={}){return this.request("POST",t,lE(i,r))}put(t,r,i={}){return this.request("PUT",t,lE(i,r))}static \u0275fac=function(r){return new(r||n)(Q(Ea))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var lU=new $("");function dU(n,e){return e(n)}function hU(n,e,t){return(r,i)=>Xe(t,()=>e(r,o=>n(o,i)))}var hE=new $(""),fU=new $(""),uR=new $("",{providedIn:"root",factory:()=>!0});var $f=(()=>{class n extends Ea{backend;injector;chain=null;pendingTasks=N(xi);contributeToStability=N(uR);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(hE),...this.injector.get(fU,[])]));this.chain=r.reduceRight((i,o)=>hU(i,o,this.injector),dU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Co(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Q(Uu),Q(Ge))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var pU=/^\)\]\}',?\n/,gU=RegExp(`^${sR}:`,"m");function mU(n){return"responseURL"in n&&n.responseURL?n.responseURL:gU.test(n.getAllResponseHeaders())?n.getResponseHeader(sR):null}var dE=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new U(-2800,!1);let r=this.xhrFactory;return K(null).pipe(qe(()=>new Y(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((x,L)=>s.setRequestHeader(x,L.join(","))),t.headers.has(oR)||s.setRequestHeader(oR,sU),!t.headers.has(iR)){let x=t.detectContentTypeHeader();x!==null&&s.setRequestHeader(iR,x)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let x=t.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let x=s.statusText||"OK",L=new ns(s.getAllResponseHeaders()),W=mU(s)||t.url;return u=new Uf({headers:L,status:s.status,statusText:x,url:W}),u},h=()=>{let{headers:x,status:L,statusText:W,url:ee}=l(),ne=null;L!==cU&&(ne=typeof s.response>"u"?s.responseText:s.response),L===0&&(L=ne?aU:0);let Ve=L>=200&&L<300;if(t.responseType==="json"&&typeof ne=="string"){let me=ne;ne=ne.replace(pU,"");try{ne=ne!==""?JSON.parse(ne):null}catch(T){ne=me,Ve&&(Ve=!1,ne={error:T,text:ne})}}Ve?(o.next(new Bf({body:ne,headers:x,status:L,statusText:W,url:ee||void 0})),o.complete()):o.error(new ju({error:ne,headers:x,status:L,statusText:W,url:ee||void 0}))},p=x=>{let{url:L}=l(),W=new ju({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:L||void 0});o.error(W)},g=p;t.timeout&&(g=x=>{let{url:L}=l(),W=new ju({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:L||void 0});o.error(W)});let y=!1,S=x=>{y||(o.next(l()),y=!0);let L={type:_a.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(L.total=x.total),t.responseType==="text"&&s.responseText&&(L.partialText=s.responseText),o.next(L)},k=x=>{let L={type:_a.UploadProgress,loaded:x.loaded};x.lengthComputable&&(L.total=x.total),o.next(L)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",g),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",S),a!==null&&s.upload&&s.upload.addEventListener("progress",k)),s.send(a),o.next({type:_a.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",S),a!==null&&s.upload&&s.upload.removeEventListener("progress",k)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Q(ts))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),lR=new $(""),yU="XSRF-TOKEN",vU=new $("",{providedIn:"root",factory:()=>yU}),_U="X-XSRF-TOKEN",EU=new $("",{providedIn:"root",factory:()=>_U}),Bu=class{},IU=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Pu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Q(et),Q(vU))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function wU(n,e){let t=n.url.toLowerCase();if(!N(lR)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=N(Bu).getToken(),i=N(EU);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var fE=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(fE||{});function bU(n,e){return{\u0275kind:n,\u0275providers:e}}function pE(...n){let e=[uU,dE,$f,{provide:Ea,useExisting:$f},{provide:Uu,useFactory:()=>N(lU,{optional:!0})??N(dE)},{provide:hE,useValue:wU,multi:!0},{provide:lR,useValue:!0},{provide:Bu,useClass:IU}];for(let t of n)e.push(...t.\u0275providers);return mn(e)}function gE(n){return bU(fE.Interceptors,n.map(e=>({provide:hE,useValue:e,multi:!0})))}var dR=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Q(et))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var de="primary",el=Symbol("RouteTitle"),EE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function os(n){return new EE(n)}function _R(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function TU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_r(n[t],e[t]))return!1;return!0}function _r(n,e){let t=n?IE(n):void 0,r=e?IE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!ER(n[i],e[i]))return!1;return!0}function IE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ER(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function IR(n){return n.length>0?n[n.length-1]:null}function Xr(n){return oy(n)?n:Yr(n)?ke(Promise.resolve(n)):K(n)}var CU={exact:bR,subset:DR},wR={exact:SU,subset:AU,ignored:()=>!0};function hR(n,e,t){return CU[t.paths](n.root,e.root,t.matrixParams)&&wR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function SU(n,e){return _r(n,e)}function bR(n,e,t){if(!rs(n.segments,e.segments)||!qf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!bR(n.children[r],e.children[r],t))return!1;return!0}function AU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ER(n[t],e[t]))}function DR(n,e,t){return TR(n,e,e.segments,t)}function TR(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!rs(i,t)||e.hasChildren()||!qf(i,t,r))}else if(n.segments.length===t.length){if(!rs(n.segments,t)||!qf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!DR(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!rs(n.segments,i)||!qf(n.segments,i,r)||!n.children[de]?!1:TR(n.children[de],e,o,r)}}function qf(n,e,t){return e.every((r,i)=>wR[t](n[i].parameters,r.parameters))}var Ir=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ne([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=os(this.queryParams),this._queryParamMap}toString(){return xU.serialize(this)}},Ne=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gf(this)}},Ui=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=os(this.parameters),this._parameterMap}toString(){return SR(this)}};function RU(n,e){return rs(n,e)&&n.every((t,r)=>_r(t.parameters,e[r].parameters))}function rs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function NU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===de&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==de&&(t=t.concat(e(i,r)))}),t}var ss=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new Bi,providedIn:"root"})}return n})(),Bi=class{parse(e){let t=new bE(e);return new Ir(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${$u(e.root,!0)}`,r=kU(e.queryParams),i=typeof e.fragment=="string"?`#${MU(e.fragment)}`:"";return`${t}${r}${i}`}},xU=new Bi;function Gf(n){return n.segments.map(e=>SR(e)).join("/")}function $u(n,e){if(!n.hasChildren())return Gf(n);if(e){let t=n.children[de]?$u(n.children[de],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==de&&r.push(`${i}:${$u(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=NU(n,(r,i)=>i===de?[$u(n.children[de],!1)]:[`${i}:${$u(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[de]!=null?`${Gf(n)}/${t[0]}`:`${Gf(n)}/(${t.join("//")})`}}function CR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hf(n){return CR(n).replace(/%3B/gi,";")}function MU(n){return encodeURI(n)}function wE(n){return CR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wf(n){return decodeURIComponent(n)}function fR(n){return Wf(n.replace(/\+/g,"%20"))}function SR(n){return`${wE(n.path)}${PU(n.parameters)}`}function PU(n){return Object.entries(n).map(([e,t])=>`;${wE(e)}=${wE(t)}`).join("")}function kU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Hf(t)}=${Hf(i)}`).join("&"):`${Hf(t)}=${Hf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var OU=/^[^\/()?;#]+/;function mE(n){let e=n.match(OU);return e?e[0]:""}var FU=/^[^\/()?;=#]+/;function LU(n){let e=n.match(FU);return e?e[0]:""}var VU=/^[^=?&#]+/;function jU(n){let e=n.match(VU);return e?e[0]:""}var UU=/^[^&#]+/;function BU(n){let e=n.match(UU);return e?e[0]:""}var bE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[de]=new Ne(e,t)),r}parseSegment(){let e=mE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Ui(Wf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=LU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=mE(this.remaining);i&&(r=i,this.capture(r))}e[Wf(t)]=Wf(r)}parseQueryParam(e){let t=jU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=BU(this.remaining);s&&(r=s,this.capture(r))}let i=fR(t),o=fR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=mE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=de);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[de]:new Ne([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function AR(n){return n.segments.length>0?new Ne([],{[de]:n}):n}function RR(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=RR(i);if(r===de&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ne(n.segments,e);return $U(t)}function $U(n){if(n.numberOfChildren===1&&n.children[de]){let e=n.children[de];return new Ne(n.segments.concat(e.segments),e.children)}return n}function $i(n){return n instanceof Ir}function NR(n,e,t=null,r=null){let i=xR(n);return MR(i,e,t,r)}function xR(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ne(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=AR(r);return e??i}function MR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return yE(i,i,i,t,r);let o=HU(e);if(o.toRoot())return yE(i,i,new Ne([],{}),t,r);let s=zU(o,i,n),a=s.processChildren?zu(s.segmentGroup,s.index,o.commands):kR(s.segmentGroup,s.index,o.commands);return yE(i,s.segmentGroup,a,t,r)}function Kf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Gu(n){return typeof n=="object"&&n!=null&&n.outlets}function yE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=PR(n,e,t);let a=AR(RR(s));return new Ir(a,o,i)}function PR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=PR(o,e,t)}),new Ne(n.segments,r)}var Qf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Kf(r[0]))throw new U(4003,!1);let i=r.find(Gu);if(i&&i!==IR(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function HU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Qf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Qf(t,e,r)}var Da=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function zU(n,e,t){if(n.isAbsolute)return new Da(e,!0,0);if(!t)return new Da(e,!1,NaN);if(t.parent===null)return new Da(t,!0,0);let r=Kf(n.commands[0])?0:1,i=t.segments.length-1+r;return qU(t,i,n.numberOfDoubleDots)}function qU(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new Da(r,!1,i-o)}function GU(n){return Gu(n[0])?n[0].outlets:{[de]:n}}function kR(n,e,t){if(n??=new Ne([],{}),n.segments.length===0&&n.hasChildren())return zu(n,e,t);let r=WU(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ne(n.segments.slice(0,r.pathIndex),{});return o.children[de]=new Ne(n.segments.slice(r.pathIndex),n.children),zu(o,0,i)}else return r.match&&i.length===0?new Ne(n.segments,{}):r.match&&!n.hasChildren()?DE(n,e,t):r.match?zu(n,0,i):DE(n,e,t)}function zu(n,e,t){if(t.length===0)return new Ne(n.segments,{});{let r=GU(t),i={};if(Object.keys(r).some(o=>o!==de)&&n.children[de]&&n.numberOfChildren===1&&n.children[de].segments.length===0){let o=zu(n.children[de],e,t);return new Ne(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=kR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ne(n.segments,i)}}function WU(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Gu(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!gR(u,l,s))return o;r+=2}else{if(!gR(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function DE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Gu(o)){let u=KU(o.outlets);return new Ne(r,u)}if(i===0&&Kf(t[0])){let u=n.segments[e];r.push(new Ui(u.path,pR(t[0]))),i++;continue}let s=Gu(o)?o.outlets[de]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Kf(a)?(r.push(new Ui(s,pR(a))),i+=2):(r.push(new Ui(s,{})),i++)}return new Ne(r,{})}function KU(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=DE(new Ne([],{}),0,r))}),e}function pR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function gR(n,e,t){return n==t.path&&_r(e,t.parameters)}var Ta="imperative",_t=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(_t||{}),In=class{id;url;constructor(e,t){this.id=e,this.url=t}},Hi=class extends In{type=_t.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Pn=class extends In{urlAfterRedirects;type=_t.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Zt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Zt||{}),Sa=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Sa||{}),Er=class extends In{reason;code;type=_t.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wr=class extends In{reason;code;type=_t.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Aa=class extends In{error;target;type=_t.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wu=class extends In{urlAfterRedirects;state;type=_t.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yf=class extends In{urlAfterRedirects;state;type=_t.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jf=class extends In{urlAfterRedirects;state;shouldActivate;type=_t.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zf=class extends In{urlAfterRedirects;state;type=_t.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xf=class extends In{urlAfterRedirects;state;type=_t.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class{route;type=_t.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tp=class{route;type=_t.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},np=class{snapshot;type=_t.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rp=class{snapshot;type=_t.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ip=class{snapshot;type=_t.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},op=class{snapshot;type=_t.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ra=class{routerEvent;position;anchor;type=_t.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ku=class{},Na=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function QU(n){return!(n instanceof Ku)&&!(n instanceof Na)}function YU(n,e){return n.providers&&!n._injector&&(n._injector=pa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Jn(n){return n.outlet||de}function JU(n,e){let t=n.filter(r=>Jn(r)===e);return t.push(...n.filter(r=>Jn(r)!==e)),t}function Pa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var sp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Pa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new as(this.rootInjector)}},as=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new sp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Q(Ge))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ap=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=TE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=TE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=CE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return CE(e,this._root).map(t=>t.value)}};function TE(n,e){if(n===e.value)return e;for(let t of e.children){let r=TE(n,t);if(r)return r}return null}function CE(n,e){if(n===e.value)return[e];for(let t of e.children){let r=CE(n,t);if(r.length)return r.unshift(e),r}return[]}var En=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ba(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Qu=class extends ap{snapshot;constructor(e,t){super(e),this.snapshot=t,kE(this,e)}toString(){return this.snapshot.toString()}};function OR(n){let e=ZU(n),t=new St([new Ui("",{})]),r=new St({}),i=new St({}),o=new St({}),s=new St(""),a=new br(t,r,o,s,i,de,n,e.root);return a.snapshot=e.root,new Qu(new En(a,[]),e)}function ZU(n){let e={},t={},r={},o=new is([],e,r,"",t,de,n,null,{});return new Yu("",new En(o,[]))}var br=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(J(l=>l[el]))??K(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>os(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>os(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&LR(i)&&(r.resolve[el]=i.title),r}var is=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[el]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=os(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=os(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Yu=class extends ap{url;constructor(e,t){super(t),this.url=e,kE(this,t)}toString(){return FR(this._root)}};function kE(n,e){e.value._routerState=n,e.children.forEach(t=>kE(n,t))}function FR(n){let e=n.children.length>0?` { ${n.children.map(FR).join(", ")} } `:"";return`${n.value}${e}`}function vE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_r(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),_r(e.params,t.params)||n.paramsSubject.next(t.params),TU(e.url,t.url)||n.urlSubject.next(t.url),_r(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function SE(n,e){let t=_r(n.params,e.params)&&RU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||SE(n.parent,e.parent))}function LR(n){return typeof n.title=="string"||n.title===null}var VR=new $(""),tl=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=de;activateEvents=new je;deactivateEvents=new je;attachEvents=new je;detachEvents=new je;routerOutletData=mA(void 0);parentContexts=N(as);location=N(Qr);changeDetector=N(Fi);inputBinder=N(nl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new AE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ke({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Wr]})}return n})(),AE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===br?this.route:e===as?this.childContexts:e===VR?this.outletData:this.parent.get(e,t)}},nl=new $(""),OE=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=To([r.queryParams,r.params,r.data]).pipe(qe(([o,s,a],u)=>(a=F(F(F({},o),s),a),u===0?K(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=_A(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),FE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&te(0,"router-outlet")},dependencies:[tl],encapsulation:2})}return n})();function LE(n){let e=n.children&&n.children.map(LE),t=e?X(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=FE),t}function XU(n,e,t){let r=Ju(n,e._root,t?t._root:void 0);return new Qu(r,e)}function Ju(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=eB(n,e,t);return new En(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ju(n,a)),s}}let r=tB(e.value),i=e.children.map(o=>Ju(n,o));return new En(r,i)}}function eB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ju(n,r,i);return Ju(n,r)})}function tB(n){return new br(new St(n.url),new St(n.params),new St(n.queryParams),new St(n.fragment),new St(n.data),n.outlet,n.component,n)}var xa=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},jR="ngNavigationCancelingError";function up(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=$i(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=UR(!1,Zt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function UR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[jR]=!0,t.cancellationCode=e,t}function nB(n){return BR(n)&&$i(n.url)}function BR(n){return!!n&&n[jR]}var rB=(n,e,t,r)=>J(i=>(new RE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),RE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ba(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ba(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ba(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ba(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new op(o.value.snapshot))}),e.children.length&&this.forwardEvent(new rp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(vE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},lp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ca=class{component;route;constructor(e,t){this.component=e,this.route=t}};function iB(n,e,t){let r=n._root,i=e?e._root:null;return Hu(r,i,t,[r.value])}function oB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ka(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!by(n)?n:e.get(n):r}function Hu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ba(e);return n.children.forEach(s=>{sB(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qu(a,t.getContext(s),i)),i}function sB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=aB(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new lp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Hu(n,e,a?a.children:null,r,i):Hu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ca(a.outlet.component,s))}else s&&qu(e,a,i),i.canActivateChecks.push(new lp(r)),o.component?Hu(n,null,a?a.children:null,r,i):Hu(n,null,t,r,i);return i}function aB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!rs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rs(n.url,e.url)||!_r(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SE(n,e)||!_r(n.queryParams,e.queryParams);case"paramsChange":default:return!SE(n,e)}}function qu(n,e,t){let r=ba(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?qu(s,e.children.getContext(o),t):qu(s,null,t):qu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ca(e.outlet.component,i)):t.canDeactivateChecks.push(new Ca(null,i)):t.canDeactivateChecks.push(new Ca(null,i))}function rl(n){return typeof n=="function"}function cB(n){return typeof n=="boolean"}function uB(n){return n&&rl(n.canLoad)}function lB(n){return n&&rl(n.canActivate)}function dB(n){return n&&rl(n.canActivateChild)}function hB(n){return n&&rl(n.canDeactivate)}function fB(n){return n&&rl(n.canMatch)}function $R(n){return n instanceof Fr||n?.name==="EmptyError"}var zf=Symbol("INITIAL_VALUE");function Ma(){return qe(n=>To(n.map(e=>e.pipe(Lr(1),rh(zf)))).pipe(J(e=>{for(let t of e)if(t!==!0){if(t===zf)return zf;if(t===!1||pB(t))return t}return!0}),At(e=>e!==zf),Lr(1)))}function pB(n){return $i(n)||n instanceof xa}function gB(n,e){return rt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?K(X(F({},t),{guardsResult:!0})):mB(s,r,i,n).pipe(rt(a=>a&&cB(a)?yB(r,o,n,e):K(a)),J(a=>X(F({},t),{guardsResult:a})))})}function mB(n,e,t,r){return ke(n).pipe(rt(i=>wB(i.component,i.route,t,e,r)),Vr(i=>i!==!0,!0))}function yB(n,e,t,r){return ke(e).pipe(sr(i=>Ys(_B(i.route.parent,r),vB(i.route,r),IB(n,i.path,t),EB(n,i.route,t))),Vr(i=>i!==!0,!0))}function vB(n,e){return n!==null&&e&&e(new ip(n)),K(!0)}function _B(n,e){return n!==null&&e&&e(new np(n)),K(!0)}function EB(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>zc(()=>{let s=Pa(e)??t,a=ka(o,s),u=lB(a)?a.canActivate(e,n):Xe(s,()=>a(e,n));return Xr(u).pipe(Vr())}));return K(i).pipe(Ma())}function IB(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>oB(s)).filter(s=>s!==null).map(s=>zc(()=>{let a=s.guards.map(u=>{let l=Pa(s.node)??t,h=ka(u,l),p=dB(h)?h.canActivateChild(r,n):Xe(l,()=>h(r,n));return Xr(p).pipe(Vr())});return K(a).pipe(Ma())}));return K(o).pipe(Ma())}function wB(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let u=Pa(e)??i,l=ka(a,u),h=hB(l)?l.canDeactivate(n,e,t,r):Xe(u,()=>l(n,e,t,r));return Xr(h).pipe(Vr())});return K(s).pipe(Ma())}function bB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=ka(s,n),u=uB(a)?a.canLoad(e,t):Xe(n,()=>a(e,t));return Xr(u)});return K(o).pipe(Ma(),HR(r))}function HR(n){return Fd(ct(e=>{if(typeof e!="boolean")throw up(n,e)}),J(e=>e===!0))}function DB(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=ka(s,n),u=fB(a)?a.canMatch(e,t):Xe(n,()=>a(e,t));return Xr(u)});return K(o).pipe(Ma(),HR(r))}var Zu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Xu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function wa(n){return Ks(new Zu(n))}function TB(n){return Ks(new U(4e3,!1))}function CB(n){return Ks(UR(!1,Zt.GuardRejected))}var NE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[de])return TB(`${e.redirectTo}`);i=i.children[de]}}applyRedirectCommands(e,t,r,i,o){return SB(t,i,o).pipe(J(s=>{if(s instanceof Ir)throw new Xu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Xu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ir(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ne(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function SB(n,e,t){if(typeof n=="string")return K(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Xr(Xe(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var xE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AB(n,e,t,r,i){let o=zR(n,e,t);return o.matched?(r=YU(e,r),DB(r,e,t,i).pipe(J(s=>s===!0?o:F({},xE)))):K(o)}function zR(n,e,t){if(e.path==="**")return RB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},xE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_R)(t,n,e);if(!i)return F({},xE);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function RB(n){return{matched:!0,parameters:n.length>0?IR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function mR(n,e,t,r){return t.length>0&&MB(n,t,r)?{segmentGroup:new Ne(e,xB(r,new Ne(t,n.children))),slicedSegments:[]}:t.length===0&&PB(n,t,r)?{segmentGroup:new Ne(n.segments,NB(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ne(n.segments,n.children),slicedSegments:t}}function NB(n,e,t,r){let i={};for(let o of t)if(hp(n,e,o)&&!r[Jn(o)]){let s=new Ne([],{});i[Jn(o)]=s}return F(F({},r),i)}function xB(n,e){let t={};t[de]=e;for(let r of n)if(r.path===""&&Jn(r)!==de){let i=new Ne([],{});t[Jn(r)]=i}return t}function MB(n,e,t){return t.some(r=>hp(n,e,r)&&Jn(r)!==de)}function PB(n,e,t){return t.some(r=>hp(n,e,r))}function hp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function kB(n,e,t){return e.length===0&&!n.children[t]}var ME=class{};function OB(n,e,t,r,i,o,s="emptyOnly"){return new PE(n,e,t,r,i,s,o).recognize()}var FB=31,PE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new NE(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=mR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:t,rootSnapshot:r})=>{let i=new En(r,t),o=new Yu("",i),s=NR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new is([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),de,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,de,t).pipe(J(r=>({children:r,rootSnapshot:t})),jn(r=>{if(r instanceof Xu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(J(s=>s instanceof En?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(sr(s=>{let a=r.children[s],u=JU(t,s);return this.processSegmentGroup(e,u,a,s,i)}),nh((s,a)=>(s.push(...a),s)),Ii(null),ay(),rt(s=>{if(s===null)return wa(r);let a=qR(s);return LB(a),K(a)}))}processSegment(e,t,r,i,o,s,a){return ke(t).pipe(sr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(jn(l=>{if(l instanceof Zu)return K(null);throw l}))),Vr(u=>!!u),jn(u=>{if($R(u))return kB(r,i,o)?K(new ME):wa(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Jn(r)!==s&&(s===de||!hp(i,o,r))?wa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):wa(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=zR(t,i,o);if(!u)return wa(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FB&&(this.allowRedirects=!1));let y=new is(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,yR(i),Jn(i),i.component??i._loadedComponent??null,i,vR(i)),S=cp(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(qe(x=>this.applyRedirects.lineralizeSegments(i,x)),rt(x=>this.processSegment(e,r,t,x.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=AB(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(qe(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qe(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,S=new is(g,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,yR(r),Jn(r),r.component??r._loadedComponent??null,r,vR(r)),k=cp(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(k.params),S.data=Object.freeze(k.data);let{segmentGroup:x,slicedSegments:L}=mR(t,g,y,l);if(L.length===0&&x.hasChildren())return this.processChildren(h,l,x,S).pipe(J(ee=>new En(S,ee)));if(l.length===0&&L.length===0)return K(new En(S,[]));let W=Jn(r)===o;return this.processSegment(h,l,x,L,W?de:o,!0,S).pipe(J(ee=>new En(S,ee instanceof En?[ee]:[])))}))):wa(t)))}getChildConfig(e,t,r){return t.children?K({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?K({routes:t._loadedRoutes,injector:t._loadedInjector}):bB(e,t,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(e,t).pipe(ct(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):CB(t))):K({routes:[],injector:e})}};function LB(n){n.sort((e,t)=>e.value.outlet===de?-1:t.value.outlet===de?1:e.value.outlet.localeCompare(t.value.outlet))}function VB(n){let e=n.value.routeConfig;return e&&e.path===""}function qR(n){let e=[],t=new Set;for(let r of n){if(!VB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=qR(r.children);e.push(new En(r.value,i))}return e.filter(r=>!t.has(r))}function yR(n){return n.data||{}}function vR(n){return n.resolve||{}}function jB(n,e,t,r,i,o){return rt(s=>OB(n,e,t,r,s.extractedUrl,i,o).pipe(J(({state:a,tree:u})=>X(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function UB(n,e){return rt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of GR(u))s.add(l);let a=0;return ke(s).pipe(sr(u=>o.has(u)?BB(u,r,n,e):(u.data=cp(u,u.parent,n).resolve,K(void 0))),ct(()=>a++),Js(1),rt(u=>a===s.size?K(t):tn))})}function GR(n){let e=n.children.map(t=>GR(t)).flat();return[n,...e]}function BB(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!LR(i)&&(o[el]=i.title),zc(()=>(n.data=cp(n,n.parent,t).resolve,$B(o,n,e,r).pipe(J(s=>(n._resolvedData=s,n.data=F(F({},n.data),s),null)))))}function $B(n,e,t,r){let i=IE(n);if(i.length===0)return K({});let o={};return ke(i).pipe(rt(s=>HB(n[s],e,t,r).pipe(Vr(),ct(a=>{if(a instanceof xa)throw up(new Bi,a);o[s]=a}))),Js(1),J(()=>o),jn(s=>$R(s)?tn:Ks(s)))}function HB(n,e,t,r){let i=Pa(e)??r,o=ka(n,i),s=o.resolve?o.resolve(e,t):Xe(i,()=>o(e,t));return Xr(s)}function _E(n){return qe(e=>{let t=n(e);return t?ke(t).pipe(J(()=>e)):K(e)})}var VE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===de);return r}getResolvedTitleForRoute(t){return t.data[el]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(WR),providedIn:"root"})}return n})(),WR=(()=>{class n extends VE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Q(dR))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zi=new $("",{providedIn:"root",factory:()=>({})}),cs=new $(""),fp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(N_);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Xr(Xe(t,()=>r.loadComponent())).pipe(J(QR),qe(YR),ct(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Co(()=>{this.componentLoaders.delete(r)})),o=new zs(i,()=>new st).pipe(Hs());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=KR(r,this.compiler,t,this.onLoadEndListener).pipe(Co(()=>{this.childrenLoaders.delete(r)})),s=new zs(o,()=>new st).pipe(Hs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KR(n,e,t,r){return Xr(Xe(t,()=>n.loadChildren())).pipe(J(QR),qe(YR),rt(i=>i instanceof lf||Array.isArray(i)?K(i):ke(e.compileModuleAsync(i))),J(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(cs,[],{optional:!0,self:!0}).flat()),{routes:s.map(LE),injector:o}}))}function zB(n){return n&&typeof n=="object"&&"default"in n}function QR(n){return zB(n)?n.default:n}function YR(n){return K(n)}var pp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(qB),providedIn:"root"})}return n})(),qB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jE=new $(""),UE=new $("");function JR(n,e,t){let r=n.get(UE),i=n.get(et);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),GB(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&Xe(n,()=>u({transition:a,from:e,to:t})),s}function GB(n){return new Promise(e=>{hf({read:()=>setTimeout(e)},{injector:n})})}var BE=new $(""),gp=(()=>{class n{currentNavigation=on(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new st;transitionAbortWithErrorSubject=new st;configLoader=N(fp);environmentInjector=N(Ge);destroyRef=N(lr);urlSerializer=N(ss);rootContexts=N(as);location=N(Vi);inputBindingEnabled=N(nl,{optional:!0})!==null;titleStrategy=N(VE);options=N(zi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(pp);createViewTransition=N(jE,{optional:!0});navigationErrorHandler=N(BE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ep(i)),r=i=>this.events.next(new tp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ut(()=>{this.transitions?.next(X(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new St(null),this.transitions.pipe(At(r=>r!==null),qe(r=>{let i=!1;return K(r).pipe(qe(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Zt.SupersededByNewNavigation),tn;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?X(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new wr(o.id,this.urlSerializer.serialize(o.rawUrl),"",Sa.IgnoredSameUrlNavigation)),o.resolve(!1),tn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return K(o).pipe(qe(u=>(this.events.next(new Hi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?tn:Promise.resolve(u))),jB(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ct(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Wu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new Hi(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let S=OR(this.rootComponentType).snapshot;return this.currentTransition=r=X(F({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:X(F({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(k=>(k.finalUrl=l,k)),K(r)}else return this.events.next(new wr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Sa.IgnoredByUrlHandlingStrategy)),o.resolve(!1),tn}),ct(o=>{let s=new Yf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),J(o=>(this.currentTransition=r=X(F({},o),{guards:iB(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),gB(this.environmentInjector,o=>this.events.next(o)),ct(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw up(this.urlSerializer,o.guardsResult);let s=new Jf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),At(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Zt.GuardRejected),!1)),_E(o=>{if(o.guards.canActivateChecks.length!==0)return K(o).pipe(ct(s=>{let a=new Zf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),qe(s=>{let a=!1;return K(s).pipe(UB(this.paramsInheritanceStrategy,this.environmentInjector),ct({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Zt.NoDataFromResolver)}}))}),ct(s=>{let a=new Xf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),_E(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Pa(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(ct(h=>{a.component=h}),J(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return To(s(o.targetSnapshot.root)).pipe(Ii(null),Lr(1))}),_E(()=>this.afterPreactivation()),qe(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ke(a).pipe(J(()=>r)):K(r)}),J(o=>{let s=XU(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=X(F({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),ct(()=>{this.events.next(new Ku)}),rB(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Lr(1),ih(new Y(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(At(()=>!i&&!r.targetRouterState),ct(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Zt.Aborted)}))),ct({next:o=>{i=!0,this.lastSuccessfulNavigation=ut(this.currentNavigation),this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ih(this.transitionAbortWithErrorSubject.pipe(ct(o=>{throw o}))),Co(()=>{i||this.cancelNavigationTransition(r,"",Zt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),jn(o=>{if(this.destroyed)return r.resolve(!1),tn;if(i=!0,BR(o))this.events.next(new Er(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),nB(o)?this.events.next(new Na(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Aa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Xe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof xa){let{message:u,cancellationCode:l}=up(this.urlSerializer,a);this.events.next(new Er(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Na(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return tn}))}))}cancelNavigationTransition(t,r,i){let o=new Er(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ut(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WB(n){return n!==Ta}var ZR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(KB),providedIn:"root"})}return n})(),dp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},KB=(()=>{class n extends dp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ko(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XR=(()=>{class n{urlSerializer=N(ss);options=N(zi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Vi);urlHandlingStrategy=N(pp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ir;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Ir?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=OR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(QB),providedIn:"root"})}return n})(),QB=(()=>{class n extends XR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Hi?this.updateStateMemento():t instanceof wr?this.commitTransition(r):t instanceof Wu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ku?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Er&&t.code!==Zt.SupersededByNewNavigation&&t.code!==Zt.Redirect?this.restoreHistory(r):t instanceof Aa?this.restoreHistory(r,!0):t instanceof Pn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ko(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mp(n,e){n.events.pipe(At(t=>t instanceof Pn||t instanceof Er||t instanceof Aa||t instanceof wr),J(t=>t instanceof Pn||t instanceof wr?0:(t instanceof Er?t.code===Zt.Redirect||t.code===Zt.SupersededByNewNavigation:!1)?2:1),At(t=>t!==2),Lr(1)).subscribe(()=>{e()})}var YB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(w_);stateManager=N(XR);options=N(zi,{optional:!0})||{};pendingTasks=N(dr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(gp);urlSerializer=N(ss);location=N(Vi);urlHandlingStrategy=N(pp);injector=N(Ge);_events=new st;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(ZR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(cs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(nl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Je;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ut(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Er&&r.code!==Zt.Redirect&&r.code!==Zt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Pn)this.navigated=!0;else if(r instanceof Na){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||WB(i.source)},s);this.scheduleNavigation(a,Ta,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}QU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ta,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Kt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ut(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(LE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=xR(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return MR(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=$i(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ta,null,r)}navigate(t,r={skipLocationChange:!1}){return ZB(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},YB):r===!1?i=F({},JB):i=r,$i(t))return hR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return hR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return mp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZB(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new U(4008,!1)}var yp=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=on(null);get href(){return ut(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new st;applicationErrorHandler=N(Kt);options=N(zi,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new _f("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Pn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):($i(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:$i(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ie(kn),ie(br),pu("tabindex"),ie(Kr),ie(pr),ie(Qn))};static \u0275dir=Ke({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ue("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ga("href",i.reactiveHref(),Yv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Li],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Li],replaceUrl:[2,"replaceUrl","replaceUrl",Li],routerLink:"routerLink"},features:[Wr]})}return n})();var il=class{};var eN=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(At(t=>t instanceof Pn),sr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=pa(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ke(i).pipe(Qs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=K(null);let o=i.pipe(rt(s=>s===null?K(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return ke([o,s]).pipe(Qs())}else return o})}static \u0275fac=function(r){return new(r||n)(Q(kn),Q(Ge),Q(il),Q(fp))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tN=new $(""),XB=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ta;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Hi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Pn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof wr&&t.code===Sa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ra&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Ra(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){f_()};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function HE(n,...e){return mn([{provide:cs,multi:!0,useValue:n},[],{provide:br,useFactory:nN,deps:[kn]},{provide:vu,multi:!0,useFactory:rN},e.map(t=>t.\u0275providers)])}function nN(n){return n.routerState.root}function ol(n,e){return{\u0275kind:n,\u0275providers:e}}function rN(){let n=N(Ze);return e=>{let t=n.get(ki);if(e!==t.components[0])return;let r=n.get(kn),i=n.get(iN);n.get(zE)===1&&r.initialNavigation(),n.get(aN,null,{optional:!0})?.setUpPreloading(),n.get(tN,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var iN=new $("",{factory:()=>new st}),zE=new $("",{providedIn:"root",factory:()=>1});function oN(){let n=[{provide:Gv,useValue:!0},{provide:zE,useValue:0},pf(()=>{let e=N(Ze);return e.get(j_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(kn),o=e.get(iN);mp(i,()=>{r(!0)}),e.get(gp).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))})];return ol(2,n)}function sN(){let n=[pf(()=>{N(kn).setUpLocationChangeListener()}),{provide:zE,useValue:2}];return ol(3,n)}var aN=new $("");function cN(n){return ol(0,[{provide:aN,useExisting:eN},{provide:il,useExisting:n}])}function uN(){return ol(8,[OE,{provide:nl,useExisting:OE}])}function lN(n){fa("NgRouterViewTransitions");let e=[{provide:jE,useValue:JR},{provide:UE,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return ol(9,e)}var dN=[Vi,{provide:ss,useClass:Bi},kn,as,{provide:br,useFactory:nN,deps:[kn]},fp,[]],sl=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[dN,[],{provide:cs,multi:!0,useValue:t},[],r?.errorHandler?{provide:BE,useValue:r.errorHandler}:[],{provide:zi,useValue:r||{}},r?.useHash?t$():n$(),e$(),r?.preloadingStrategy?cN(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?r$(r):[],r?.bindToComponentInputs?uN().\u0275providers:[],r?.enableViewTransitions?lN().\u0275providers:[],i$()]}}static forChild(t){return{ngModule:n,providers:[{provide:cs,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gn({type:n});static \u0275inj=bn({})}return n})();function e$(){return{provide:tN,useFactory:()=>{let n=N(qA),e=N(Re),t=N(zi),r=N(gp),i=N(ss);return t.scrollOffset&&n.setOffset(t.scrollOffset),new XB(i,r,n,e,t)}}}function t$(){return{provide:Qn,useClass:K_}}function n$(){return{provide:Qn,useClass:bf}}function r$(n){return[n.initialNavigation==="disabled"?sN().\u0275providers:[],n.initialNavigation==="enabledBlocking"?oN().\u0275providers:[]]}var $E=new $("");function i$(){return[{provide:$E,useFactory:rN},{provide:vu,multi:!0,useExisting:$E}]}var hN=()=>{};var gN=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},s$=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):s$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new GE;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},GE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},a$=function(n){let e=gN(n);return vp.encodeByteArray(e,!0)},cl=function(n){return a$(n).replace(/\./g,"")},_p=function(n){try{return vp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var c$=()=>KE().__FIREBASE_DEFAULTS__,u$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},l$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&_p(n[1]);return e&&JSON.parse(e)},Ep=()=>{try{return hN()||c$()||u$()||l$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},QE=n=>{var e,t;return(t=(e=Ep())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},mN=n=>{let e=QE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},YE=()=>{var n;return(n=Ep())===null||n===void 0?void 0:n.config},JE=n=>{var e;return(e=Ep())===null||e===void 0?void 0:e[`_${n}`]};var us=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function qi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Ip(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function yN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cl(JSON.stringify(t)),cl(JSON.stringify(s)),""].join(".")}var al={};function d$(){let n={prod:[],emulator:[]};for(let e of Object.keys(al))al[e]?n.emulator.push(e):n.prod.push(e);return n}function h$(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var fN=!1;function wp(n,e){if(typeof window>"u"||typeof document>"u"||!qi(window.location.host)||al[n]===e||al[n]||fN)return;al[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=d$().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{fN=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=h$(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),k=t("learnmore"),x=document.getElementById(k)||document.createElement("a"),L=t("preprendIcon"),W=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let ee=g.element;a(ee),h(x,k);let ne=l();u(W,L),ee.append(W,S,x,ne),document.body.appendChild(ee)}o?(S.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function f$(){var n;let e=(n=Ep())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _N(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EN(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function IN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wN(){let n=bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bN(){return!f$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ul(){try{return typeof indexedDB=="object"}catch{return!1}}function DN(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var p$="FirebaseError",wn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=p$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zn.prototype.create)}},Zn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?g$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new wn(i,a,r)}};function g$(n,e){return n.replace(m$,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var m$=/\{\$([^}]+)}/g;function TN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(pN(o)&&pN(s)){if(!Dr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function pN(n){return n!==null&&typeof n=="object"}function ll(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Oa(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Fa(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function CN(n,e){let t=new WE(n,e);return t.subscribe.bind(t)}var WE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");y$(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=qE),i.error===void 0&&(i.error=qE),i.complete===void 0&&(i.complete=qE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function y$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function qE(){}var Tse=14400*1e3;function xt(n){return n&&n._delegate?n._delegate:n}var Xt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ls="[DEFAULT]";var ZE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new us;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_$(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:v$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function v$(n){return n===ls?void 0:n}function _$(n){return n.instantiationMode==="EAGER"}var bp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ZE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var E$=[],ve=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ve||{}),I$={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},w$=ve.INFO,b$={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},D$=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=b$[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Tr=class{constructor(e){this.name=e,this._logLevel=w$,this._logHandler=D$,this._userLogHandler=null,E$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var T$=(n,e)=>e.some(t=>n instanceof t),SN,AN;function C$(){return SN||(SN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S$(){return AN||(AN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var RN=new WeakMap,eI=new WeakMap,NN=new WeakMap,XE=new WeakMap,nI=new WeakMap;function A$(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Cr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&RN.set(t,n)}).catch(()=>{}),nI.set(e,n),e}function R$(n){if(eI.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});eI.set(n,e)}var tI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return eI.get(n);if(e==="objectStoreNames")return n.objectStoreNames||NN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function xN(n){tI=n(tI)}function N$(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Dp(this),e,...t);return NN.set(r,e.sort?e.sort():[e]),Cr(r)}:S$().includes(n)?function(...e){return n.apply(Dp(this),e),Cr(RN.get(this))}:function(...e){return Cr(n.apply(Dp(this),e))}}function x$(n){return typeof n=="function"?N$(n):(n instanceof IDBTransaction&&R$(n),T$(n,C$())?new Proxy(n,tI):n)}function Cr(n){if(n instanceof IDBRequest)return A$(n);if(XE.has(n))return XE.get(n);let e=x$(n);return e!==n&&(XE.set(n,e),nI.set(e,n)),e}var Dp=n=>nI.get(n);function PN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Cr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Cr(s.result),u.oldVersion,u.newVersion,Cr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var M$=["get","getKey","getAll","getAllKeys","count"],P$=["put","add","delete","clear"],rI=new Map;function MN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rI.get(e))return rI.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=P$.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||M$.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return rI.set(e,o),o}xN(n=>X(F({},n),{get:(e,t,r)=>MN(e,t)||n.get(e,t,r),has:(e,t)=>!!MN(e,t)||n.has(e,t)}));var oI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(k$(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function k$(n){let e=n.getComponent();return e?.type==="VERSION"}var sI="@firebase/app",kN="0.13.2";var ei=new Tr("@firebase/app"),O$="@firebase/app-compat",F$="@firebase/analytics-compat",L$="@firebase/analytics",V$="@firebase/app-check-compat",j$="@firebase/app-check",U$="@firebase/auth",B$="@firebase/auth-compat",$$="@firebase/database",H$="@firebase/data-connect",z$="@firebase/database-compat",q$="@firebase/functions",G$="@firebase/functions-compat",W$="@firebase/installations",K$="@firebase/installations-compat",Q$="@firebase/messaging",Y$="@firebase/messaging-compat",J$="@firebase/performance",Z$="@firebase/performance-compat",X$="@firebase/remote-config",e4="@firebase/remote-config-compat",t4="@firebase/storage",n4="@firebase/storage-compat",r4="@firebase/firestore",i4="@firebase/ai",o4="@firebase/firestore-compat",s4="firebase",a4="11.10.0";var aI="[DEFAULT]",c4={[sI]:"fire-core",[O$]:"fire-core-compat",[L$]:"fire-analytics",[F$]:"fire-analytics-compat",[j$]:"fire-app-check",[V$]:"fire-app-check-compat",[U$]:"fire-auth",[B$]:"fire-auth-compat",[$$]:"fire-rtdb",[H$]:"fire-data-connect",[z$]:"fire-rtdb-compat",[q$]:"fire-fn",[G$]:"fire-fn-compat",[W$]:"fire-iid",[K$]:"fire-iid-compat",[Q$]:"fire-fcm",[Y$]:"fire-fcm-compat",[J$]:"fire-perf",[Z$]:"fire-perf-compat",[X$]:"fire-rc",[e4]:"fire-rc-compat",[t4]:"fire-gcs",[n4]:"fire-gcs-compat",[r4]:"fire-fst",[o4]:"fire-fst-compat",[i4]:"fire-vertex","fire-js":"fire-js",[s4]:"fire-js-all"};var dl=new Map,u4=new Map,cI=new Map;function ON(n,e){try{n.container.addComponent(e)}catch(t){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xn(n){let e=n.name;if(cI.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;cI.set(e,n);for(let t of dl.values())ON(t,n);for(let t of u4.values())ON(t,n);return!0}function La(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function en(n){return n==null?!1:n.settings!==void 0}var l4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new Zn("app","Firebase",l4);var uI=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}};var Wi=a4;function hI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:aI,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Gi.create("bad-app-name",{appName:String(i)});if(t||(t=YE()),!t)throw Gi.create("no-options");let o=dl.get(i);if(o){if(Dr(t,o.options)&&Dr(r,o.config))return o;throw Gi.create("duplicate-app",{appName:i})}let s=new bp(i);for(let u of cI.values())s.addComponent(u);let a=new uI(t,r,s);return dl.set(i,a),a}function ds(n=aI){let e=dl.get(n);if(!e&&n===aI&&YE())return hI();if(!e)throw Gi.create("no-app",{appName:n});return e}function Tp(){return Array.from(dl.values())}function nt(n,e,t){var r;let i=(r=c4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}Xn(new Xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var d4="firebase-heartbeat-database",h4=1,hl="firebase-heartbeat-store",iI=null;function jN(){return iI||(iI=PN(d4,h4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gi.create("idb-open",{originalErrorMessage:n.message})})),iI}function f4(n){return _(this,null,function*(){try{let t=(yield jN()).transaction(hl),r=yield t.objectStore(hl).get(UN(n));return yield t.done,r}catch(e){if(e instanceof wn)ei.warn(e.message);else{let t=Gi.create("idb-get",{originalErrorMessage:e?.message});ei.warn(t.message)}}})}function FN(n,e){return _(this,null,function*(){try{let r=(yield jN()).transaction(hl,"readwrite");yield r.objectStore(hl).put(e,UN(n)),yield r.done}catch(t){if(t instanceof wn)ei.warn(t.message);else{let r=Gi.create("idb-set",{originalErrorMessage:t?.message});ei.warn(r.message)}}})}function UN(n){return`${n.name}!${n.options.appId}`}var p4=1024,g4=30,lI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new dI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=LN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>g4){let s=y4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ei.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=LN(),{heartbeatsToSend:r,unsentEntries:i}=m4(this._heartbeatsCache.heartbeats),o=cl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ei.warn(t),""}})}};function LN(){return new Date().toISOString().substring(0,10)}function m4(n,e=p4){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),VN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),VN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var dI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return ul()?DN().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield f4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return FN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return FN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function VN(n){return cl(JSON.stringify({version:2,heartbeats:n})).length}function y4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function v4(n){Xn(new Xt("platform-logger",e=>new oI(e),"PRIVATE")),Xn(new Xt("heartbeat",e=>new lI(e),"PRIVATE")),nt(sI,kN,n),nt(sI,kN,"esm2017"),nt("fire-js","")}v4("");var _4="firebase",E4="11.10.0";nt(_4,E4,"app");function BN(n){n===void 0&&(n=N(Ze));let e=n.get(xi);return t=>new Y(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ki=new Xo("ANGULARFIRE2_VERSION");function fl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ja=(n,e)=>{let t=e?[e]:Tp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Va=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Va||{}),$N=F_()&&typeof Zone<"u"?Va.WARN:Va.SILENT;var Cp=class{zone;delegate;constructor(e,t=ry){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Qi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(Re);this.outsideAngular=t.runOutsideAngular(()=>new Cp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Cp(typeof Zone>"u"?void 0:Zone.current,ny))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HN=!1;function I4(n,e){!HN&&($N>Va.SILENT||F_())&&(HN=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),$N>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function w4(n){let e=N(Re,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function hs(n){let e=N(Re,{optional:!0});return e?e.run(()=>n()):n()}var b4=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Xe(t,()=>hs(()=>n.apply(void 0,r)))),Et=(n,e,t)=>(t||=e?Va.WARN:Va.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(Qi),s=N(xi),a=N(Ge)}catch{return I4(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=hs(()=>s.add())),i[l]=b4(i[l],r,a));let u=w4(()=>n.apply(this,i));return e?u instanceof Y?u.pipe(Ei(o.outsideAngular),_i(o.insideAngular),BN(a)):u instanceof Promise?hs(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>Xe(a,()=>hs(()=>h(g))),g=>Xe(a,()=>hs(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:hs(()=>u):u instanceof Y?u.pipe(Ei(o.outsideAngular),_i(o.insideAngular)):hs(()=>u)});var ti=class{constructor(e){return e}},fs=class{constructor(){return Tp()}};function D4(n){return n&&n.length===1?n[0]:new ti(ds())}var fI=new $("angularfire2._apps"),T4={provide:ti,useFactory:D4,deps:[[new vn,fI]]},C4={provide:fs,deps:[[new vn,fI]]};function S4(n){return(e,t)=>{let r=t.get(Pi);nt("angularfire",Ki.full,"core"),nt("angularfire",Ki.full,"app"),nt("angular",yA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ti(i)}}function zN(n,...e){return mn([T4,C4,{provide:fI,useFactory:S4(n),multi:!0,deps:[Re,Ze,Qi,...e]}])}var qN=Et(hI,!0);var A4=new Map,R4={activated:!1,tokenObservers:[]},N4={initialized:!1,enabled:!1};function er(n){return A4.get(n)||Object.assign({},R4)}function QN(){return N4}var x4="https://content-firebaseappcheck.googleapis.com/v1";var M4="exchangeDebugToken",GN={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Aae=1440*60*1e3;var mI=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new us,this.pending.promise.catch(t=>{}),yield P4(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new us,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function P4(n){return new Promise(e=>{setTimeout(e,n)})}var k4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Yi=new Zn("appCheck","AppCheck",k4);function YN(n){if(!er(n).activated)throw Yi.create("use-before-activation",{appName:n.name})}function JN(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Yi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Yi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Yi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function ZN(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${x4}/projects/${t}/apps/${r}:${M4}?key=${i}`,body:{debug_token:e}}}var O4="firebase-app-check-database",F4=1,yI="firebase-app-check-store";var Sp=null;function L4(){return Sp||(Sp=new Promise((n,e)=>{try{let t=indexedDB.open(O4,F4);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Yi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(yI,{keyPath:"compositeKey"})}}}catch(t){e(Yi.create("storage-open",{originalErrorMessage:t?.message}))}}),Sp)}function V4(n,e){return j4(U4(n),e)}function j4(n,e){return _(this,null,function*(){let r=(yield L4()).transaction(yI,"readwrite"),o=r.objectStore(yI).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Yi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function U4(n){return`${n.options.appId}-${n.name}`}var pl=new Tr("@firebase/app-check");function pI(n,e){return ul()?V4(n,e).catch(t=>{pl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function XN(){return QN().enabled}function ex(){return _(this,null,function*(){let n=QN();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var B4={error:"UNKNOWN_ERROR"};function $4(n){return vp.encodeString(JSON.stringify(n),!1)}function vI(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;YN(r);let i=er(r),o=i.token,s;if(o&&!gl(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(gl(l)?o=l:yield pI(r,void 0))}if(!e&&o&&gl(o))return{token:o.token};let a=!1;if(XN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=JN(ZN(r,yield ex()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield pI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?pl.warn(l.message):t&&pl.error(l),gI(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield er(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?pl.warn(l.message):t&&pl.error(l),s=l}let u;return o?s?gl(o)?u={token:o.token,internalError:s}:u=gI(s):(u={token:o.token},i.token=o,yield pI(r,o)):u=gI(s),a&&G4(r,u),u})}function H4(n){return _(this,null,function*(){let e=n.app;YN(e);let{provider:t}=er(e);if(XN()){let r=yield ex(),{token:i}=yield JN(ZN(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function z4(n,e,t,r){let{app:i}=n,o=er(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&gl(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),WN(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>WN(n))}function tx(n,e){let t=er(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function WN(n){let{app:e}=n,t=er(e),r=t.tokenRefresher;r||(r=q4(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function q4(n){let{app:e}=n;return new mI(()=>_(null,null,function*(){let t=er(e),r;if(t.token?r=yield vI(n,!0):r=yield vI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=er(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},GN.RETRIAL_MIN_WAIT,GN.RETRIAL_MAX_WAIT)}function G4(n,e){let t=er(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function gl(n){return n.expireTimeMillis-Date.now()>0}function gI(n){return{token:$4(B4),error:n}}var _I=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=er(this.app);for(let t of e)tx(this.app,t.next);return Promise.resolve()}};function W4(n,e){return new _I(n,e)}function K4(n){return{getToken:e=>vI(n,e),getLimitedUseToken:()=>H4(n),addTokenListener:e=>z4(n,"INTERNAL",e),removeTokenListener:e=>tx(n.app,e)}}var Q4="@firebase/app-check",Y4="0.10.1";var J4="app-check",KN="app-check-internal";function Z4(){Xn(new Xt(J4,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return W4(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(KN).initialize()})),Xn(new Xt(KN,n=>{let e=n.getProvider("app-check").getImmediate();return K4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),nt(Q4,Y4)}Z4();var X4="app-check";var Ua=class{constructor(){return ja(X4)}};var eH=["localhost","0.0.0.0","127.0.0.1"],Bae=typeof window<"u"&&eH.includes(window.location.hostname);function yx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var vx=yx,_x=new Zn("auth","Firebase",yx());var Pp=new Tr("@firebase/auth");function tH(n,...e){Pp.logLevel<=ve.WARN&&Pp.warn(`Auth (${Wi}): ${n}`,...e)}function Rp(n,...e){Pp.logLevel<=ve.ERROR&&Pp.error(`Auth (${Wi}): ${n}`,...e)}function Rr(n,...e){throw zI(n,...e)}function ps(n,...e){return zI(n,...e)}function Ex(n,e,t){let r=Object.assign(Object.assign({},vx()),{[e]:t});return new Zn("auth","Firebase",r).create(e,{appName:n.name})}function Sr(n){return Ex(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _x.create(n,...e)}function re(n,e,...t){if(!n)throw zI(e,...t)}function ni(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Rp(e),new Error(e)}function Xi(n,e){n||ni(e)}function bI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nH(){return nx()==="http:"||nx()==="https:"}function nx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function rH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nH()||EN()||"connection"in navigator)?navigator.onLine:!0}function iH(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var gs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xi(t>e,"Short delay should be less than long delay!"),this.isMobile=vN()||IN()}get(){return rH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function qI(n,e){Xi(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var kp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var oH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var sH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aH=new gs(3e4,6e4);function to(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function no(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return Ix(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ll(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return _N()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&qi(n.emulatorConfig.host)&&(y.credentials="include"),kp.fetch()(yield wx(n,n.config.apiHost,t,p),y)}))})}function Ix(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},oH),e);try{let i=new DI(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ap(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ap(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ap(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ap(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Ex(n,h,l);Rr(n,h)}}catch(i){if(i instanceof wn)throw i;Rr(n,"network-request-failed",{message:String(i)})}})}function Dl(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield no(n,e,t,r,i);return"mfaPendingCredential"in l&&Rr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function wx(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?qI(n.config,i):`${n.config.apiScheme}://${i}`;return sH.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function cH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var DI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ps(this.auth,"network-request-failed")),aH.get())})}};function Ap(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ps(n,e,r);return i.customData._tokenResponse=t,i}function rx(n){return n!==void 0&&n.enterprise!==void 0}var TI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return cH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function uH(n,e){return _(this,null,function*(){return no(n,"GET","/v2/recaptchaConfig",to(n,e))})}function lH(n,e){return _(this,null,function*(){return no(n,"POST","/v1/accounts:delete",e)})}function Op(n,e){return _(this,null,function*(){return no(n,"POST","/v1/accounts:lookup",e)})}function yl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function GI(n,e=!1){return _(this,null,function*(){let t=xt(n),r=yield t.getIdToken(e),i=WI(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:yl(EI(i.auth_time)),issuedAtTime:yl(EI(i.iat)),expirationTime:yl(EI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function EI(n){return Number(n)*1e3}function WI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Rp("JWT malformed, contained fewer than 3 sections"),null;try{let i=_p(t);return i?JSON.parse(i):(Rp("Failed to decode base64 JWT payload"),null)}catch(i){return Rp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ix(n){let e=WI(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function _l(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof wn&&dH(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function dH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var CI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var El=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Fp(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield _l(n,Op(t,{idToken:r}));re(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?bx(o.providerUserInfo):[],a=hH(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new El(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function KI(n){return _(this,null,function*(){let e=xt(n);yield Fp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function hH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bx(n){return n.map(e=>{var{providerId:t}=e,r=iy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function fH(n,e){return _(this,null,function*(){let t=yield Ix(n,{},()=>_(null,null,function*(){let r=ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield wx(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&qi(n.emulatorConfig.host)&&(u.credentials="include"),kp.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function pH(n,e){return _(this,null,function*(){return no(n,"POST","/v2/accounts:revokeToken",to(n,e))})}var vl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ix(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");let t=ix(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield fH(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ni("not implemented")}};function Ji(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Zi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=iy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new El(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield _l(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return GI(this,e)}reload(){return KI(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Fp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(en(this.auth.app))return Promise.reject(Sr(this.auth));let e=yield this.getIdToken();return yield _l(this,lH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,k=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ee,emailVerified:ne,isAnonymous:Ve,providerData:me,stsTokenManager:T}=t;re(ee&&T,e,"internal-error");let v=vl.fromJSON(this.name,T);re(typeof ee=="string",e,"internal-error"),Ji(p,e.name),Ji(g,e.name),re(typeof ne=="boolean",e,"internal-error"),re(typeof Ve=="boolean",e,"internal-error"),Ji(y,e.name),Ji(S,e.name),Ji(k,e.name),Ji(x,e.name),Ji(L,e.name),Ji(W,e.name);let I=new n({uid:ee,auth:e,email:g,emailVerified:ne,displayName:p,isAnonymous:Ve,photoURL:S,phoneNumber:y,tenantId:k,stsTokenManager:v,createdAt:L,lastLoginAt:W});return me&&Array.isArray(me)&&(I.providerData=me.map(w=>Object.assign({},w))),x&&(I._redirectEventId=x),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new vl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Fp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];re(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?bx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new vl;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new El(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var ox=new Map;function ri(n){Xi(n instanceof Function,"Expected a class definition");let e=ox.get(n);return e?(Xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ox.set(n,e),e)}var gH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),SI=gH;function Np(n,e,t){return`firebase:${n}:${e}:${t}`}var Lp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Np(this.userKey,i.apiKey,o),this.fullPersistenceKey=Np("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Op(this.auth,{idToken:e}).catch(()=>{});return t?Zi._fromGetAccountInfoResponse(this.auth,t,e):null}return Zi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(ri(SI),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ri(SI),s=Np(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Op(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Zi._fromGetAccountInfoResponse(e,g,h)}else p=Zi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function sx(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rx(e))return"Blackberry";if(Nx(e))return"Webos";if(Tx(e))return"Safari";if((e.includes("chrome/")||Cx(e))&&!e.includes("edge/"))return"Chrome";if(Ax(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Dx(n=bt()){return/firefox\//i.test(n)}function Tx(n=bt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cx(n=bt()){return/crios\//i.test(n)}function Sx(n=bt()){return/iemobile/i.test(n)}function Ax(n=bt()){return/android/i.test(n)}function Rx(n=bt()){return/blackberry/i.test(n)}function Nx(n=bt()){return/webos/i.test(n)}function QI(n=bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mH(n=bt()){var e;return QI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yH(){return wN()&&document.documentMode===10}function xx(n=bt()){return QI(n)||Ax(n)||Nx(n)||Rx(n)||/windows phone/i.test(n)||Sx(n)}function Mx(n,e=[]){let t;switch(n){case"Browser":t=sx(bt());break;case"Worker":t=`${sx(bt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wi}/${r}`}var AI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function vH(t){return _(this,arguments,function*(n,e={}){return no(n,"GET","/v2/passwordPolicy",to(n,e))})}var _H=6,RI=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:_H,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var NI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vp(this),this.idTokenSubscription=new Vp(this),this.beforeStateQueue=new AI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_x,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Lp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Op(this,{idToken:e}),r=yield Zi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(en(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Fp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=iH()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(en(this.app))return Promise.reject(Sr(this));let t=e?xt(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return en(this.app)?Promise.reject(Sr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return en(this.app)?Promise.reject(Sr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(ri(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield vH(this),t=new RI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield pH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ri(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=yield Lp.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&tH(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ro(n){return xt(n)}var Vp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=CN(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qp={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EH(n){qp=n}function Px(n){return qp.loadJS(n)}function IH(){return qp.recaptchaEnterpriseScript}function wH(){return qp.gapiScript}function kx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var xI=class{constructor(){this.enterprise=new MI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},MI=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var bH="recaptcha-enterprise",Ox="NO_RECAPTCHA",PI=class{constructor(e){this.type=bH,this.auth=ro(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){uH(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new TI(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;rx(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(Ox)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&rx(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=IH();u.length!==0&&(u+=a),Px(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function ml(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new PI(n),s;if(i)s=Ox;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function kI(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield ml(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield ml(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield ml(n,e,t);return r(n,a).catch(u=>_(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield ml(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield ml(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function YI(n,e){let t=La(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Dr(o,e??{}))return i;Rr(i,"already-initialized")}return t.initialize({options:e})}function DH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ri);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function JI(n,e,t){let r=ro(n);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=Fx(e),{host:s,port:a}=TH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Dr(l,r.config.emulator)&&Dr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,qi(s)?(Ip(`${o}//${s}${u}`),wp("Auth",!0)):i||CH()}function Fx(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TH(n){let e=Fx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:ax(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:ax(s)}}}function ax(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function CH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Il=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}};function SH(n,e){return _(this,null,function*(){return no(n,"POST","/v1/accounts:signUp",e)})}function AH(n,e){return _(this,null,function*(){return Dl(n,"POST","/v1/accounts:signInWithPassword",to(n,e))})}function RH(n,e){return _(this,null,function*(){return Dl(n,"POST","/v1/accounts:signInWithEmailLink",to(n,e))})}function NH(n,e){return _(this,null,function*(){return Dl(n,"POST","/v1/accounts:signInWithEmailLink",to(n,e))})}var wl=class n extends Il{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kI(e,t,"signInWithPassword",AH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return RH(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kI(e,r,"signUpPassword",SH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return NH(e,{idToken:t,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function II(n,e){return _(this,null,function*(){return Dl(n,"POST","/v1/accounts:signInWithIdp",to(n,e))})}function xH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MH(n){let e=Oa(Fa(n)).link,t=e?Oa(Fa(e)).deep_link_id:null,r=Oa(Fa(n)).deep_link_id;return(r?Oa(Fa(r)).link:null)||r||t||e||n}var jp=class n{constructor(e){var t,r,i,o,s,a;let u=Oa(Fa(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=xH((i=u.mode)!==null&&i!==void 0?i:null);re(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=MH(e);try{return new n(t)}catch{return null}}};var Lx=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return wl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=jp.parseLink(r);return re(i,"argument-error"),wl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Up=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var OI=class extends Up{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Vx(n,e){return _(this,null,function*(){return Dl(n,"POST","/v1/accounts:signUp",to(n,e))})}var eo=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield Zi._fromIdTokenResponse(e,r,i),s=cx(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=cx(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function cx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function ZI(n){return _(this,null,function*(){var e;if(en(n.app))return Promise.reject(Sr(n));let t=ro(n);if(yield t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new eo({user:t.currentUser,providerId:null,operationType:"signIn"});let r=yield Vx(t,{returnSecureToken:!0}),i=yield eo._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})}var FI=class n extends wn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function jx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?FI._fromErrorAndOperation(n,o,e,r):o})}function PH(n,e,t=!1){return _(this,null,function*(){let r=yield _l(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return eo._forOperation(n,"link",r)})}function kH(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(en(r.app))return Promise.reject(Sr(r));let i="reauthenticate";try{let o=yield _l(n,jx(r,i,e,n),t);re(o.idToken,r,"internal-error");let s=WI(o.idToken);re(s,r,"internal-error");let{sub:a}=s;return re(n.uid===a,r,"user-mismatch"),eo._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Rr(r,"user-mismatch"),o}})}function Ux(n,e,t=!1){return _(this,null,function*(){if(en(n.app))return Promise.reject(Sr(n));let r="signIn",i=yield jx(n,r,e),o=yield eo._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function XI(n,e){return _(this,null,function*(){return Ux(ro(n),e)})}function Bx(n){return _(this,null,function*(){let e=ro(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ew(n,e,t){return _(this,null,function*(){if(en(n.app))return Promise.reject(Sr(n));let r=ro(n),s=yield kI(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vx,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Bx(n),u}),a=yield eo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function tw(n,e,t){return en(n.app)?Promise.reject(Sr(n)):XI(xt(n),Lx.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Bx(n),r}))}function Tl(n,e,t,r){return xt(n).onIdTokenChanged(e,t,r)}function nw(n,e,t){return xt(n).beforeAuthStateChanged(e,t)}function rw(n){return xt(n).signOut()}var Bp="__sak";var $p=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bp,"1"),this.storage.removeItem(Bp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var OH=1e3,FH=10,LH=(()=>{class n extends $p{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);yH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,FH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},OH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield yi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield yi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield yi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),$x=LH;var VH=(()=>{class n extends $p{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),iw=VH;function jH(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var UH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield jH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Hx(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var LI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=Hx("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ar(){return window}function BH(n){Ar().location.href=n}function zx(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}function $H(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function HH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function zH(){return zx()?self:null}var qx="firebaseLocalStorageDb",qH=1,Hp="firebaseLocalStorage",Gx="fbase_key",ms=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Gp(n,e){return n.transaction([Hp],e?"readwrite":"readonly").objectStore(Hp)}function GH(){let n=indexedDB.deleteDatabase(qx);return new ms(n).toPromise()}function VI(){let n=indexedDB.open(qx,qH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Hp,{keyPath:Gx})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Hp)?e(r):(r.close(),yield GH(),e(yield VI()))}))})}function ux(n,e,t){return _(this,null,function*(){let r=Gp(n,!0).put({[Gx]:e,value:t});return new ms(r).toPromise()})}function WH(n,e){return _(this,null,function*(){let t=Gp(n,!1).get(e),r=yield new ms(t).toPromise();return r===void 0?null:r.value})}function lx(n,e){let t=Gp(n,!0).delete(e);return new ms(t).toPromise()}var KH=800,QH=3,YH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield VI(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>QH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return zx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=UH._getInstance(zH()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield $H(),!this.activeServiceWorker)return;this.sender=new LI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||HH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield VI();return yield ux(t,Bp,"1"),yield lx(t,Bp),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>ux(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>WH(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>lx(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=Gp(o,!1).getAll();return new ms(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),KH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Wx=YH;var Qae=kx("rcb"),Yae=new gs(3e4,6e4);function JH(n,e){return e?ri(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var bl=class extends Il{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return II(e,this._buildIdpRequest())}_linkToIdToken(e,t){return II(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return II(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function ZH(n){return Ux(n.auth,new bl(n),n.bypassAuthState)}function XH(n){let{auth:e,user:t}=n;return re(t,e,"internal-error"),kH(t,new bl(n),n.bypassAuthState)}function e3(n){return _(this,null,function*(){let{auth:e,user:t}=n;return re(t,e,"internal-error"),PH(t,new bl(n),n.bypassAuthState)})}var jI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZH;case"linkViaPopup":case"linkViaRedirect":return e3;case"reauthViaPopup":case"reauthViaRedirect":return XH;default:Rr(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Jae=new gs(2e3,1e4);var t3="pendingRedirect",xp=new Map,UI=class n extends jI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=xp.get(this.auth._key());if(!e){try{let r=(yield n3(this.resolver,this.auth))?yield yi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}xp.set(this.auth._key(),e)}return this.bypassAuthState||xp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return yi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,yi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function n3(n,e){return _(this,null,function*(){let t=o3(e),r=i3(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function r3(n,e){xp.set(n._key(),e)}function i3(n){return ri(n._redirectPersistence)}function o3(n){return Np(t3,n.config.apiKey,n.name)}function s3(n,e,t=!1){return _(this,null,function*(){if(en(n.app))return Promise.reject(Sr(n));let r=ro(n),i=JH(r,e),s=yield new UI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var a3=600*1e3,BI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Kx(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ps(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a3&&this.cachedEventUids.clear(),this.cachedEventUids.has(dx(e))}saveEventToCache(e){this.cachedEventUids.add(dx(e)),this.lastProcessedEventTime=Date.now()}};function dx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Kx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function c3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kx(n);default:return!1}}function u3(t){return _(this,arguments,function*(n,e={}){return no(n,"GET","/v1/projects",e)})}var l3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d3=/^https?/;function h3(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield u3(n);for(let t of e)try{if(f3(t))return}catch{}Rr(n,"unauthorized-domain")})}function f3(n){let e=bI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!d3.test(t))return!1;if(l3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var p3=new gs(3e4,6e4);function hx(){let n=Ar().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function g3(n){return new Promise((e,t)=>{var r,i,o;function s(){hx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hx(),t(ps(n,"network-request-failed"))},timeout:p3.get()})}if(!((i=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ar().gapi)===null||o===void 0)&&o.load)s();else{let a=kx("iframefcb");return Ar()[a]=()=>{gapi.load?s():t(ps(n,"network-request-failed"))},Px(`${wH()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Mp=null,e})}var Mp=null;function m3(n){return Mp=Mp||g3(n),Mp}var y3=new gs(5e3,15e3),v3="__/auth/iframe",_3="emulator/auth/iframe",E3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w3(n){let e=n.config;re(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?qI(e,_3):`https://${n.config.authDomain}/${v3}`,r={apiKey:e.apiKey,appName:n.name,v:Wi},i=I3.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ll(r).slice(1)}`}function b3(n){return _(this,null,function*(){let e=yield m3(n),t=Ar().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:w3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E3,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ps(n,"network-request-failed"),a=Ar().setTimeout(()=>{o(s)},y3.get());function u(){Ar().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var D3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T3=500,C3=600,S3="_blank",A3="http://localhost",zp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function R3(n,e,t,r=T3,i=C3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},D3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=bt().toLowerCase();t&&(a=Cx(l)?S3:t),Dx(l)&&(e=e||A3,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,S])=>`${g}${y}=${S},`,"");if(mH(l)&&a!=="_self")return N3(e||"",a),new zp(null);let p=window.open(e||"",a,h);re(p,n,"popup-blocked");try{p.focus()}catch{}return new zp(p)}function N3(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var x3="__/auth/handler",M3="emulator/auth/handler",P3=encodeURIComponent("fac");function fx(n,e,t,r,i,o){return _(this,null,function*(){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Wi,eventId:i};if(e instanceof Up){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",TN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof OI){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${P3}=${encodeURIComponent(u)}`:"";return`${k3(n)}?${ll(a).slice(1)}${l}`})}function k3({config:n}){return n.emulator?qI(n,M3):`https://${n.authDomain}/${x3}`}var wI="webStorageSupport",$I=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iw,this._completeRedirectFn=s3,this._overrideRedirectResult=r3}_openPopup(e,t,r,i){return _(this,null,function*(){var o;Xi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield fx(e,t,r,bI(),i);return R3(e,s,Hx())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield fx(e,t,r,bI(),i);return BH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Xi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield b3(e),r=new BI(e);return t.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wI,{type:wI},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[wI];s!==void 0&&t(!!s),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=h3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xx()||Tx()||QI()}},Qx=$I;var px="@firebase/auth",gx="1.10.8";var HI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function O3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F3(n){Xn(new Xt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mx(n)},l=new NI(r,i,o,u);return DH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xn(new Xt("auth-internal",e=>{let t=ro(e.getProvider("auth").getImmediate());return(r=>new HI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nt(px,gx,O3(n)),nt(px,gx,"esm2017")}var L3=300,V3=JE("authIdTokenMaxAge")||L3,mx=null,j3=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>V3)return;let i=t?.token;mx!==i&&(mx=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ow(n=ds()){let e=La(n,"auth");if(e.isInitialized())return e.getImmediate();let t=YI(n,{popupRedirectResolver:Qx,persistence:[Wx,$x,iw]}),r=JE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=j3(o.toString());nw(t,s,()=>s(t.currentUser)),Tl(t,a=>s(a))}}let i=QE("auth");return i&&JI(t,`http://${i}`),t}function U3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}EH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ps("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",U3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F3("Browser");function Zx(n){return new Y(function(e){var t=Tl(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var Xx="auth",tr=class{constructor(e){return e}},Cl=class{constructor(){return ja(Xx)}};var sw=new $("angularfire2.auth-instances");function C6(n,e){let t=fl(Xx,n,e);return t&&new tr(t)}function S6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new tr(r)}}var A6={provide:Cl,deps:[[new vn,sw]]},R6={provide:tr,useFactory:C6,deps:[[new vn,sw],ti]};function eM(n,...e){return nt("angularfire",Ki.full,"auth"),mn([R6,A6,{provide:sw,useFactory:S6(n),multi:!0,deps:[Re,Ze,Qi,fs,[new vn,Ua],...e]}])}var Wp=Et(Zx,!0);var tM=Et(ew,!0,2);var nM=Et(ow,!0);var rM=Et(ZI,!0,2);var iM=Et(tw,!0,2);var oM=Et(rw,!0,2);var sM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aM={};var ii,aw;(function(){var n;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(w,C,R){for(var E=Array(arguments.length-2),Pr=2;Pr<arguments.length;Pr++)E[Pr-2]=arguments[Pr];return v.prototype[C].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)w[C]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(C=0;16>C;++C)w[C]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],C=T.g[2];var R=T.g[3],E=v+(R^I&(C^R))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=R+(C^v&(I^C))+w[1]+3905402710&4294967295,R=v+(E<<12&4294967295|E>>>20),E=C+(I^R&(v^I))+w[2]+606105819&4294967295,C=R+(E<<17&4294967295|E>>>15),E=I+(v^C&(R^v))+w[3]+3250441966&4294967295,I=C+(E<<22&4294967295|E>>>10),E=v+(R^I&(C^R))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=R+(C^v&(I^C))+w[5]+1200080426&4294967295,R=v+(E<<12&4294967295|E>>>20),E=C+(I^R&(v^I))+w[6]+2821735955&4294967295,C=R+(E<<17&4294967295|E>>>15),E=I+(v^C&(R^v))+w[7]+4249261313&4294967295,I=C+(E<<22&4294967295|E>>>10),E=v+(R^I&(C^R))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=R+(C^v&(I^C))+w[9]+2336552879&4294967295,R=v+(E<<12&4294967295|E>>>20),E=C+(I^R&(v^I))+w[10]+4294925233&4294967295,C=R+(E<<17&4294967295|E>>>15),E=I+(v^C&(R^v))+w[11]+2304563134&4294967295,I=C+(E<<22&4294967295|E>>>10),E=v+(R^I&(C^R))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=R+(C^v&(I^C))+w[13]+4254626195&4294967295,R=v+(E<<12&4294967295|E>>>20),E=C+(I^R&(v^I))+w[14]+2792965006&4294967295,C=R+(E<<17&4294967295|E>>>15),E=I+(v^C&(R^v))+w[15]+1236535329&4294967295,I=C+(E<<22&4294967295|E>>>10),E=v+(C^R&(I^C))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=R+(I^C&(v^I))+w[6]+3225465664&4294967295,R=v+(E<<9&4294967295|E>>>23),E=C+(v^I&(R^v))+w[11]+643717713&4294967295,C=R+(E<<14&4294967295|E>>>18),E=I+(R^v&(C^R))+w[0]+3921069994&4294967295,I=C+(E<<20&4294967295|E>>>12),E=v+(C^R&(I^C))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=R+(I^C&(v^I))+w[10]+38016083&4294967295,R=v+(E<<9&4294967295|E>>>23),E=C+(v^I&(R^v))+w[15]+3634488961&4294967295,C=R+(E<<14&4294967295|E>>>18),E=I+(R^v&(C^R))+w[4]+3889429448&4294967295,I=C+(E<<20&4294967295|E>>>12),E=v+(C^R&(I^C))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=R+(I^C&(v^I))+w[14]+3275163606&4294967295,R=v+(E<<9&4294967295|E>>>23),E=C+(v^I&(R^v))+w[3]+4107603335&4294967295,C=R+(E<<14&4294967295|E>>>18),E=I+(R^v&(C^R))+w[8]+1163531501&4294967295,I=C+(E<<20&4294967295|E>>>12),E=v+(C^R&(I^C))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=R+(I^C&(v^I))+w[2]+4243563512&4294967295,R=v+(E<<9&4294967295|E>>>23),E=C+(v^I&(R^v))+w[7]+1735328473&4294967295,C=R+(E<<14&4294967295|E>>>18),E=I+(R^v&(C^R))+w[12]+2368359562&4294967295,I=C+(E<<20&4294967295|E>>>12),E=v+(I^C^R)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=R+(v^I^C)+w[8]+2272392833&4294967295,R=v+(E<<11&4294967295|E>>>21),E=C+(R^v^I)+w[11]+1839030562&4294967295,C=R+(E<<16&4294967295|E>>>16),E=I+(C^R^v)+w[14]+4259657740&4294967295,I=C+(E<<23&4294967295|E>>>9),E=v+(I^C^R)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=R+(v^I^C)+w[4]+1272893353&4294967295,R=v+(E<<11&4294967295|E>>>21),E=C+(R^v^I)+w[7]+4139469664&4294967295,C=R+(E<<16&4294967295|E>>>16),E=I+(C^R^v)+w[10]+3200236656&4294967295,I=C+(E<<23&4294967295|E>>>9),E=v+(I^C^R)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=R+(v^I^C)+w[0]+3936430074&4294967295,R=v+(E<<11&4294967295|E>>>21),E=C+(R^v^I)+w[3]+3572445317&4294967295,C=R+(E<<16&4294967295|E>>>16),E=I+(C^R^v)+w[6]+76029189&4294967295,I=C+(E<<23&4294967295|E>>>9),E=v+(I^C^R)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=R+(v^I^C)+w[12]+3873151461&4294967295,R=v+(E<<11&4294967295|E>>>21),E=C+(R^v^I)+w[15]+530742520&4294967295,C=R+(E<<16&4294967295|E>>>16),E=I+(C^R^v)+w[2]+3299628645&4294967295,I=C+(E<<23&4294967295|E>>>9),E=v+(C^(I|~R))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=R+(I^(v|~C))+w[7]+1126891415&4294967295,R=v+(E<<10&4294967295|E>>>22),E=C+(v^(R|~I))+w[14]+2878612391&4294967295,C=R+(E<<15&4294967295|E>>>17),E=I+(R^(C|~v))+w[5]+4237533241&4294967295,I=C+(E<<21&4294967295|E>>>11),E=v+(C^(I|~R))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=R+(I^(v|~C))+w[3]+2399980690&4294967295,R=v+(E<<10&4294967295|E>>>22),E=C+(v^(R|~I))+w[10]+4293915773&4294967295,C=R+(E<<15&4294967295|E>>>17),E=I+(R^(C|~v))+w[1]+2240044497&4294967295,I=C+(E<<21&4294967295|E>>>11),E=v+(C^(I|~R))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=R+(I^(v|~C))+w[15]+4264355552&4294967295,R=v+(E<<10&4294967295|E>>>22),E=C+(v^(R|~I))+w[6]+2734768916&4294967295,C=R+(E<<15&4294967295|E>>>17),E=I+(R^(C|~v))+w[13]+1309151649&4294967295,I=C+(E<<21&4294967295|E>>>11),E=v+(C^(I|~R))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=R+(I^(v|~C))+w[11]+3174756917&4294967295,R=v+(E<<10&4294967295|E>>>22),E=C+(v^(R|~I))+w[2]+718787259&4294967295,C=R+(E<<15&4294967295|E>>>17),E=I+(R^(C|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(C+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,w=this.B,C=this.h,R=0;R<v;){if(C==0)for(;R<=I;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<v;)if(w[C++]=T.charCodeAt(R++),C==this.blockSize){i(this,w),C=0;break}}else for(;R<v;)if(w[C++]=T[R++],C==this.blockSize){i(this,w),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)T[I++]=this.g[v]>>>w&255;return T};function o(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],w=!0,C=T.length-1;0<=C;C--){var R=T[C]|0;w&&R==v||(I[C]=R,w=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return x(l(-T));for(var v=[],I=1,w=0;T>=I;w++)v[w]=T/I|0,I*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return x(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,C=0;C<T.length;C+=8){var R=Math.min(8,T.length-C),E=parseInt(T.substring(C,C+R),v);8>R?(R=l(Math.pow(v,R)),w=w.j(R).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(k(this))return-x(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(k(this))return"-"+x(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,w="";;){var C=ne(I,v).g;I=L(I,C.j(v));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=C,S(I))return R+w;for(;6>R.length;)R="0"+R;w=R+w}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function k(T){return T.h==-1}n.l=function(T){return T=L(this,T),k(T)?-1:S(T)?0:1};function x(T){for(var v=T.g.length,I=[],w=0;w<v;w++)I[w]=~T.g[w];return new s(I,~T.h).add(g)}n.abs=function(){return k(this)?x(this):this},n.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0,C=0;C<=v;C++){var R=w+(this.i(C)&65535)+(T.i(C)&65535),E=(R>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);w=E>>>16,R&=65535,E&=65535,I[C]=E<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function L(T,v){return T.add(x(v))}n.j=function(T){if(S(this)||S(T))return p;if(k(this))return k(T)?x(this).j(x(T)):x(x(this).j(T));if(k(T))return x(this.j(x(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var C=0;C<T.g.length;C++){var R=this.i(w)>>>16,E=this.i(w)&65535,Pr=T.i(C)>>>16,_c=T.i(C)&65535;I[2*w+2*C]+=E*_c,W(I,2*w+2*C),I[2*w+2*C+1]+=R*_c,W(I,2*w+2*C+1),I[2*w+2*C+1]+=E*Pr,W(I,2*w+2*C+1),I[2*w+2*C+2]+=R*Pr,W(I,2*w+2*C+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function W(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function ee(T,v){this.g=T,this.h=v}function ne(T,v){if(S(v))throw Error("division by zero");if(S(T))return new ee(p,p);if(k(T))return v=ne(x(T),v),new ee(x(v.g),x(v.h));if(k(v))return v=ne(T,x(v)),new ee(x(v.g),v.h);if(30<T.g.length){if(k(T)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,w=v;0>=w.l(T);)I=Ve(I),w=Ve(w);var C=me(I,1),R=me(w,1);for(w=me(w,2),I=me(I,2);!S(w);){var E=R.add(w);0>=E.l(T)&&(C=C.add(I),R=E),w=me(w,1),I=me(I,1)}return v=L(T,C.j(v)),new ee(C,v)}for(C=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),R=l(I),E=R.j(v);k(E)||0<E.l(T);)I-=w,R=l(I),E=R.j(v);S(R)&&(R=g),C=C.add(R),T=L(T,E)}return new ee(C,T)}n.A=function(T){return ne(this,T).h},n.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&T.i(w);return new s(I,this.h&T.h)},n.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|T.i(w);return new s(I,this.h|T.h)},n.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^T.i(w);return new s(I,this.h^T.h)};function Ve(T){for(var v=T.g.length+1,I=[],w=0;w<v;w++)I[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(I,T.h)}function me(T,v){var I=v>>5;v%=32;for(var w=T.g.length-I,C=[],R=0;R<w;R++)C[R]=0<v?T.i(R+I)>>>v|T.i(R+I+1)<<32-v:T.i(R+I);return new s(C,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aw=aM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ii=aM.Integer=s}).apply(typeof sM<"u"?sM:typeof self<"u"?self:typeof window<"u"?window:{});var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oi={};var cw,N6,Ba,uw,Sl,Qp,lw,dw,hw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kp=="object"&&Kp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var A=c[m];if(!(A in f))break e;f=f[A]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,A={next:function(){if(!m&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,m),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,A,M){for(var B=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)B[Le-2]=arguments[Le];return d.prototype[A].apply(m,B)}}function k(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let A=c.length||0,M=m.length||0;c.length=A+M;for(let B=0;B<M;B++)c[A+B]=m[B]}else c.push(m)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var Ve=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function me(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,m;for(let A=1;A<arguments.length;A++){m=arguments[A];for(f in m)c[f]=m[f];for(let M=0;M<I.length;M++)f=I[M],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function R(c){a.setTimeout(()=>{throw c},0)}function E(){var c=pm;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Pr{constructor(){this.h=this.g=null}add(d,f){let m=_c.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var _c=new L(()=>new ck,c=>c.reset());class ck{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ec,Ic=!1,pm=new Pr,Mb=()=>{let c=a.Promise.resolve(void 0);Ec=()=>{c.then(uk)}};var uk=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){R(f)}var d=_c;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ic=!1};function fi(){this.s=this.s,this.C=this.C}fi.prototype.s=!1,fi.prototype.ma=function(){this.s||(this.s=!0,this.N())},fi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Mt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var lk=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function wc(c,d){if(Mt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ve){e:{try{ne(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:dk[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wc.aa.h.call(this)}}S(wc,Mt);var dk={2:"touch",3:"pen",4:"mouse"};wc.prototype.h=function(){wc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bc="closure_listenable_"+(1e6*Math.random()|0),hk=0;function fk(c,d,f,m,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=A,this.key=++hk,this.da=this.fa=!1}function id(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function od(c){this.src=c,this.g={},this.h=0}od.prototype.add=function(c,d,f,m,A){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var B=mm(c,d,m,A);return-1<B?(d=c[B],f||(d.fa=!1)):(d=new fk(d,this.src,M,!!m,A),d.fa=f,c.push(d)),d};function gm(c,d){var f=d.type;if(f in c.g){var m=c.g[f],A=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=A)&&Array.prototype.splice.call(m,A,1),M&&(id(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function mm(c,d,f,m){for(var A=0;A<c.length;++A){var M=c[A];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==m)return A}return-1}var ym="closure_lm_"+(1e6*Math.random()|0),vm={};function Pb(c,d,f,m,A){if(m&&m.once)return Ob(c,d,f,m,A);if(Array.isArray(d)){for(var M=0;M<d.length;M++)Pb(c,d[M],f,m,A);return null}return f=wm(f),c&&c[bc]?c.K(d,f,l(m)?!!m.capture:!!m,A):kb(c,d,f,!1,m,A)}function kb(c,d,f,m,A,M){if(!d)throw Error("Invalid event type");var B=l(A)?!!A.capture:!!A,Le=Em(c);if(Le||(c[ym]=Le=new od(c)),f=Le.add(d,f,m,B,M),f.proxy)return f;if(m=pk(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)lk||(A=B),A===void 0&&(A=!1),c.addEventListener(d.toString(),m,A);else if(c.attachEvent)c.attachEvent(Lb(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function pk(){function c(f){return d.call(c.src,c.listener,f)}let d=gk;return c}function Ob(c,d,f,m,A){if(Array.isArray(d)){for(var M=0;M<d.length;M++)Ob(c,d[M],f,m,A);return null}return f=wm(f),c&&c[bc]?c.L(d,f,l(m)?!!m.capture:!!m,A):kb(c,d,f,!0,m,A)}function Fb(c,d,f,m,A){if(Array.isArray(d))for(var M=0;M<d.length;M++)Fb(c,d[M],f,m,A);else m=l(m)?!!m.capture:!!m,f=wm(f),c&&c[bc]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=mm(M,f,m,A),-1<f&&(id(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=Em(c))&&(d=c.g[d.toString()],c=-1,d&&(c=mm(d,f,m,A)),(f=-1<c?d[c]:null)&&_m(f))}function _m(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[bc])gm(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Lb(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Em(d))?(gm(f,c),f.h==0&&(f.src=null,d[ym]=null)):id(c)}}}function Lb(c){return c in vm?vm[c]:vm[c]="on"+c}function gk(c,d){if(c.da)c=!0;else{d=new wc(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&_m(c),c=f.call(m,d)}return c}function Em(c){return c=c[ym],c instanceof od?c:null}var Im="__closure_events_fn_"+(1e9*Math.random()>>>0);function wm(c){return typeof c=="function"?c:(c[Im]||(c[Im]=function(d){return c.handleEvent(d)}),c[Im])}function Pt(){fi.call(this),this.i=new od(this),this.M=this,this.F=null}S(Pt,fi),Pt.prototype[bc]=!0,Pt.prototype.removeEventListener=function(c,d,f,m){Fb(this,c,d,f,m)};function zt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Mt(d,c);else if(d instanceof Mt)d.target=d.target||c;else{var A=d;d=new Mt(m,c),w(d,A)}if(A=!0,f)for(var M=f.length-1;0<=M;M--){var B=d.g=f[M];A=sd(B,m,!0,d)&&A}if(B=d.g=c,A=sd(B,m,!0,d)&&A,A=sd(B,m,!1,d)&&A,f)for(M=0;M<f.length;M++)B=d.g=f[M],A=sd(B,m,!1,d)&&A}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)id(f[m]);delete c.g[d],c.h--}}this.F=null},Pt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Pt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function sd(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,M=0;M<d.length;++M){var B=d[M];if(B&&!B.da&&B.capture==f){var Le=B.listener,Ct=B.ha||B.src;B.fa&&gm(c.i,B),A=Le.call(Ct,m)!==!1&&A}}return A&&!m.defaultPrevented}function Vb(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function jb(c){c.g=Vb(()=>{c.g=null,c.i&&(c.i=!1,jb(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class mk extends fi{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:jb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dc(c){fi.call(this),this.h=c,this.g={}}S(Dc,fi);var Ub=[];function Bb(c){me(c.g,function(d,f){this.g.hasOwnProperty(f)&&_m(d)},c),c.g={}}Dc.prototype.N=function(){Dc.aa.N.call(this),Bb(this)},Dc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bm=a.JSON.stringify,yk=a.JSON.parse,vk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Dm(){}Dm.prototype.h=null;function $b(c){return c.h||(c.h=c.i())}function Hb(){}var Tc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tm(){Mt.call(this,"d")}S(Tm,Mt);function Cm(){Mt.call(this,"c")}S(Cm,Mt);var yo={},zb=null;function ad(){return zb=zb||new Pt}yo.La="serverreachability";function qb(c){Mt.call(this,yo.La,c)}S(qb,Mt);function Cc(c){let d=ad();zt(d,new qb(d))}yo.STAT_EVENT="statevent";function Gb(c,d){Mt.call(this,yo.STAT_EVENT,c),this.stat=d}S(Gb,Mt);function qt(c){let d=ad();zt(d,new Gb(d,c))}yo.Ma="timingevent";function Wb(c,d){Mt.call(this,yo.Ma,c),this.size=d}S(Wb,Mt);function Sc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ac(){this.g=!0}Ac.prototype.xa=function(){this.g=!1};function _k(c,d,f,m,A,M){c.info(function(){if(c.g)if(M)for(var B="",Le=M.split("&"),Ct=0;Ct<Le.length;Ct++){var Se=Le[Ct].split("=");if(1<Se.length){var kt=Se[0];Se=Se[1];var Ot=kt.split("_");B=2<=Ot.length&&Ot[1]=="type"?B+(kt+"="+Se+"&"):B+(kt+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+m+") [attempt "+A+"]: "+d+`
`+f+`
`+B})}function Ek(c,d,f,m,A,M,B){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+A+"]: "+d+`
`+f+`
`+M+" "+B})}function As(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+wk(c,f)+(m?" "+m:"")})}function Ik(c,d){c.info(function(){return"TIMEOUT: "+d})}Ac.prototype.info=function(){};function wk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var A=m[1];if(Array.isArray(A)&&!(1>A.length)){var M=A[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<A.length;B++)A[B]=""}}}}return bm(f)}catch{return d}}var cd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sm;function ud(){}S(ud,Dm),ud.prototype.g=function(){return new XMLHttpRequest},ud.prototype.i=function(){return{}},Sm=new ud;function pi(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Dc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qb}function Qb(){this.i=null,this.g="",this.h=!1}var Yb={},Am={};function Rm(c,d,f){c.L=1,c.v=fd(kr(d)),c.m=f,c.P=!0,Jb(c,null)}function Jb(c,d){c.F=Date.now(),ld(c),c.A=kr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),dD(f.i,"t",m),c.C=0,f=c.j.J,c.h=new Qb,c.g=RD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new mk(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(Ub[0]=A.toString()),A=Ub);for(var M=0;M<A.length;M++){var B=Pb(f,A[M],m||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Cc(),_k(c.i,c.u,c.A,c.l,c.R,c.m)}pi.prototype.ca=function(c){c=c.target;let d=this.M;d&&Or(c)==3?d.j():this.Y(c)},pi.prototype.Y=function(c){try{if(c==this.g)e:{let Ot=Or(this.g);var d=this.g.Ba();let xs=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||vD(this.g)))){this.J||Ot!=4||d==7||(d==8||0>=xs?Cc(3):Cc(2)),Nm(this);var f=this.g.Z();this.X=f;t:if(Zb(this)){var m=vD(this.g);c="";var A=m.length,M=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vo(this),Rc(this);var B="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(M&&d==A-1)});m.length=0,this.h.g+=c,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,Ek(this.i,this.u,this.A,this.l,this.R,Ot,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Ct=this.g;if((Le=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Le)){var Se=Le;break t}}Se=null}if(f=Se)As(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xm(this,f);else{this.o=!1,this.s=3,qt(12),vo(this),Rc(this);break e}}if(this.P){f=!0;let Ln;for(;!this.J&&this.C<B.length;)if(Ln=bk(this,B),Ln==Am){Ot==4&&(this.s=4,qt(14),f=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==Yb){this.s=4,qt(15),As(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else As(this.i,this.l,Ln,null),xm(this,Ln);if(Zb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||B.length!=0||this.h.h||(this.s=1,qt(16),f=!1),this.o=this.o&&f,!f)As(this.i,this.l,B,"[Invalid Chunked Response]"),vo(this),Rc(this);else if(0<B.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Lm(kt),kt.M=!0,qt(11))}}else As(this.i,this.l,B,null),xm(this,B);Ot==4&&vo(this),this.o&&!this.J&&(Ot==4?TD(this.j,this):(this.o=!1,ld(this)))}else Uk(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),vo(this),Rc(this)}}}catch{}finally{}};function Zb(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bk(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Am:(f=Number(d.substring(f,m)),isNaN(f)?Yb:(m+=1,m+f>d.length?Am:(d=d.slice(m,m+f),c.C=m+f,d)))}pi.prototype.cancel=function(){this.J=!0,vo(this)};function ld(c){c.S=Date.now()+c.I,Xb(c,c.I)}function Xb(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Sc(g(c.ba,c),d)}function Nm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}pi.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Ik(this.i,this.A),this.L!=2&&(Cc(),qt(17)),vo(this),this.s=2,Rc(this)):Xb(this,this.S-c)};function Rc(c){c.j.G==0||c.J||TD(c.j,c)}function vo(c){Nm(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Bb(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function xm(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Mm(f.h,c))){if(!c.K&&Mm(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var A=m;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)vd(f),md(f);else break e;Fm(f),qt(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=Sc(g(f.Za,f),6e3));if(1>=nD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Eo(f,11)}else if((c.K||f.g==c)&&vd(f),!W(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Se=A[d];if(f.T=Se[0],Se=Se[1],f.G==2)if(Se[0]=="c"){f.K=Se[1],f.ia=Se[2];let kt=Se[3];kt!=null&&(f.la=kt,f.j.info("VER="+f.la));let Ot=Se[4];Ot!=null&&(f.Aa=Ot,f.j.info("SVER="+f.Aa));let xs=Se[5];xs!=null&&typeof xs=="number"&&0<xs&&(m=1.5*xs,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Ln=c.g;if(Ln){let Ed=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ed){var M=m.h;M.g||Ed.indexOf("spdy")==-1&&Ed.indexOf("quic")==-1&&Ed.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Pm(M,M.h),M.h=null))}if(m.D){let Vm=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Vm&&(m.ya=Vm,$e(m.I,m.D,Vm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var B=c;if(m.qa=AD(m,m.J?m.ia:null,m.W),B.K){rD(m.h,B);var Le=B,Ct=m.L;Ct&&(Le.I=Ct),Le.B&&(Nm(Le),ld(Le)),m.g=B}else bD(m);0<f.i.length&&yd(f)}else Se[0]!="stop"&&Se[0]!="close"||Eo(f,7);else f.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Eo(f,7):Om(f):Se[0]!="noop"&&f.l&&f.l.ta(Se),f.v=0)}}Cc(4)}catch{}}var Dk=class{constructor(c,d){this.g=c,this.map=d}};function eD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function nD(c){return c.h?1:c.g?c.g.size:0}function Mm(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Pm(c,d){c.g?c.g.add(d):c.h=d}function rD(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}eD.prototype.cancel=function(){if(this.i=iD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function iD(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return k(c.i)}function Tk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function Ck(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function oD(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Ck(c),m=Tk(c),A=m.length,M=0;M<A;M++)d.call(void 0,m[M],f&&f[M],c)}var sD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sk(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),A=null;if(0<=m){var M=c[f].substring(0,m);A=c[f].substring(m+1)}else M=c[f];d(M,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function _o(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _o){this.h=c.h,dd(this,c.j),this.o=c.o,this.g=c.g,hd(this,c.s),this.l=c.l;var d=c.i,f=new Mc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),aD(this,f),this.m=c.m}else c&&(d=String(c).match(sD))?(this.h=!1,dd(this,d[1]||"",!0),this.o=Nc(d[2]||""),this.g=Nc(d[3]||"",!0),hd(this,d[4]),this.l=Nc(d[5]||"",!0),aD(this,d[6]||"",!0),this.m=Nc(d[7]||"")):(this.h=!1,this.i=new Mc(null,this.h))}_o.prototype.toString=function(){var c=[],d=this.j;d&&c.push(xc(d,cD,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(xc(d,cD,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(xc(f,f.charAt(0)=="/"?Nk:Rk,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",xc(f,Mk)),c.join("")};function kr(c){return new _o(c)}function dd(c,d,f){c.j=f?Nc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function hd(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function aD(c,d,f){d instanceof Mc?(c.i=d,Pk(c.i,c.h)):(f||(d=xc(d,xk)),c.i=new Mc(d,c.h))}function $e(c,d,f){c.i.set(d,f)}function fd(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Ak),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ak(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var cD=/[#\/\?@]/g,Rk=/[#\?:]/g,Nk=/[#\?]/g,xk=/[#\?@]/g,Mk=/#/g;function Mc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function gi(c){c.g||(c.g=new Map,c.h=0,c.i&&Sk(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Mc.prototype,n.add=function(c,d){gi(this),this.i=null,c=Rs(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function uD(c,d){gi(c),d=Rs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function lD(c,d){return gi(c),d=Rs(c,d),c.g.has(d)}n.forEach=function(c,d){gi(this),this.g.forEach(function(f,m){f.forEach(function(A){c.call(d,A,m,this)},this)},this)},n.na=function(){gi(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let A=c[m];for(let M=0;M<A.length;M++)f.push(d[m])}return f},n.V=function(c){gi(this);let d=[];if(typeof c=="string")lD(this,c)&&(d=d.concat(this.g.get(Rs(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return gi(this),this.i=null,c=Rs(this,c),lD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function dD(c,d,f){uD(c,d),0<f.length&&(c.i=null,c.g.set(Rs(c,d),k(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let M=encodeURIComponent(String(m)),B=this.V(m);for(m=0;m<B.length;m++){var A=M;B[m]!==""&&(A+="="+encodeURIComponent(String(B[m]))),c.push(A)}}return this.i=c.join("&")};function Rs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Pk(c,d){d&&!c.j&&(gi(c),c.i=null,c.g.forEach(function(f,m){var A=m.toLowerCase();m!=A&&(uD(this,m),dD(this,A,f))},c)),c.j=d}function kk(c,d){let f=new Ac;if(a.Image){let m=new Image;m.onload=y(mi,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(mi,f,"TestLoadImage: error",!1,d,m),m.onabort=y(mi,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(mi,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function Ok(c,d){let f=new Ac,m=new AbortController,A=setTimeout(()=>{m.abort(),mi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(A),M.ok?mi(f,"TestPingServer: ok",!0,d):mi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),mi(f,"TestPingServer: error",!1,d)})}function mi(c,d,f,m,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),m(f)}catch{}}function Fk(){this.g=new vk}function Lk(c,d,f){let m=f||"";try{oD(c,function(A,M){let B=A;l(A)&&(B=bm(A)),d.push(m+M+"="+encodeURIComponent(B))})}catch(A){throw d.push(m+"type="+encodeURIComponent("_badmap")),A}}function Pc(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Pc,Dm),Pc.prototype.g=function(){return new pd(this.l,this.j)},Pc.prototype.i=(function(c){return function(){return c}})({});function pd(c,d){Pt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(pd,Pt),n=pd.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Oc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Oc(this)),this.g&&(this.readyState=3,Oc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hD(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function hD(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?kc(this):Oc(this),this.readyState==3&&hD(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,kc(this))},n.Qa=function(c){this.g&&(this.response=c,kc(this))},n.ga=function(){this.g&&kc(this)};function kc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Oc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Oc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fD(c){let d="";return me(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function km(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=fD(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):$e(c,d,f))}function Ye(c){Pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ye,Pt);var Vk=/^https?$/i,jk=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sm.g(),this.v=this.o?$b(this.o):$b(Sm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){pD(this,M);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var A in m)f.set(A,m[A]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())f.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jk,d,void 0))||m||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,B]of f)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yD(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){pD(this,M)}};function pD(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,gD(c),gd(c)}function gD(c){c.A||(c.A=!0,zt(c,"complete"),zt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,zt(this,"complete"),zt(this,"abort"),gd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gd(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?mD(this):this.bb())},n.bb=function(){mD(this)};function mD(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Or(c)!=4||c.Z()!=2)){if(c.u&&Or(c)==4)Vb(c.Ea,0,c);else if(zt(c,"readystatechange"),Or(c)==4){c.h=!1;try{let B=c.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=B===0){var A=String(c.D).match(sD)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),m=!Vk.test(A?A.toLowerCase():"")}f=m}if(f)zt(c,"complete"),zt(c,"success");else{c.m=6;try{var M=2<Or(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",gD(c)}}finally{gd(c)}}}}function gd(c,d){if(c.g){yD(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||zt(c,"ready");try{f.onreadystatechange=m}catch{}}}function yD(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Or(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),yk(d)}};function vD(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Uk(c){let d={};c=(c.g&&2<=Or(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(W(c[m]))continue;var f=C(c[m]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[A]||[];d[A]=M,M.push(f)}T(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function _D(c){this.Aa=0,this.i=[],this.j=new Ac,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fc("baseRetryDelayMs",5e3,c),this.cb=Fc("retryDelaySeedMs",1e4,c),this.Wa=Fc("forwardChannelMaxRetries",2,c),this.wa=Fc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new eD(c&&c.concurrentRequestLimit),this.Da=new Fk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_D.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){qt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=AD(this,null,this.W),yd(this)};function Om(c){if(ED(c),c.G==3){var d=c.U++,f=kr(c.I);if($e(f,"SID",c.K),$e(f,"RID",d),$e(f,"TYPE","terminate"),Lc(c,f),d=new pi(c,c.j,d),d.L=2,d.v=fd(kr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=RD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ld(d)}SD(c)}function md(c){c.g&&(Lm(c),c.g.cancel(),c.g=null)}function ED(c){md(c),c.u&&(a.clearTimeout(c.u),c.u=null),vd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function yd(c){if(!tD(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ec||Mb(),Ic||(Ec(),Ic=!0),pm.add(d,c),c.B=0}}function Bk(c,d){return nD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Sc(g(c.Ga,c,d),CD(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new pi(this,this.j,c),M=this.o;if(this.S&&(M?(M=v(M),w(M,this.S)):M=this.S),this.m!==null||this.O||(A.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=wD(this,A,d),f=kr(this.I),$e(f,"RID",c),$e(f,"CVER",22),this.D&&$e(f,"X-HTTP-Session-Id",this.D),Lc(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(fD(M)))+"&"+d:this.m&&km(f,this.m,M)),Pm(this.h,A),this.Ua&&$e(f,"TYPE","init"),this.P?($e(f,"$req",d),$e(f,"SID","null"),A.T=!0,Rm(A,f,null)):Rm(A,f,d),this.G=2}}else this.G==3&&(c?ID(this,c):this.i.length==0||tD(this.h)||ID(this))};function ID(c,d){var f;d?f=d.l:f=c.U++;let m=kr(c.I);$e(m,"SID",c.K),$e(m,"RID",f),$e(m,"AID",c.T),Lc(c,m),c.m&&c.o&&km(m,c.m,c.o),f=new pi(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=wD(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pm(c.h,f),Rm(f,m,d)}function Lc(c,d){c.H&&me(c.H,function(f,m){$e(d,m,f)}),c.l&&oD({},function(f,m){$e(d,m,f)})}function wD(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var A=c.i;let M=-1;for(;;){let B=["count="+f];M==-1?0<f?(M=A[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let Le=!0;for(let Ct=0;Ct<f;Ct++){let Se=A[Ct].g,kt=A[Ct].map;if(Se-=M,0>Se)M=Math.max(0,A[Ct].g-100),Le=!1;else try{Lk(kt,B,"req"+Se+"_")}catch{m&&m(kt)}}if(Le){m=B.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function bD(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ec||Mb(),Ic||(Ec(),Ic=!0),pm.add(d,c),c.v=0}}function Fm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Sc(g(c.Fa,c),CD(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,DD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Sc(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),md(this),DD(this))};function Lm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function DD(c){c.g=new pi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=kr(c.qa);$e(d,"RID","rpc"),$e(d,"SID",c.K),$e(d,"AID",c.T),$e(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(d,"TO",c.ja),$e(d,"TYPE","xmlhttp"),Lc(c,d),c.m&&c.o&&km(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=fd(kr(d)),f.m=null,f.P=!0,Jb(f,c)}n.Za=function(){this.C!=null&&(this.C=null,md(this),Fm(this),qt(19))};function vd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function TD(c,d){var f=null;if(c.g==d){vd(c),Lm(c),c.g=null;var m=2}else if(Mm(c.h,d))f=d.D,rD(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;m=ad(),zt(m,new Wb(m,f)),yd(c)}else bD(c);else if(A=d.s,A==3||A==0&&0<d.X||!(m==1&&Bk(c,d)||m==2&&Fm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:Eo(c,5);break;case 4:Eo(c,10);break;case 3:Eo(c,6);break;default:Eo(c,2)}}}function CD(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Eo(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let A=!m;m=new _o(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dd(m,"https"),fd(m),A?kk(m.toString(),f):Ok(m.toString(),f)}else qt(2);c.G=0,c.l&&c.l.sa(d),SD(c),ED(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function SD(c){if(c.G=0,c.ka=[],c.l){let d=iD(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function AD(c,d,f){var m=f instanceof _o?kr(f):new _o(f);if(m.g!="")d&&(m.g=d+"."+m.g),hd(m,m.s);else{var A=a.location;m=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var M=new _o(null);m&&dd(M,m),d&&(M.g=d),A&&hd(M,A),f&&(M.l=f),m=M}return f=c.D,d=c.ya,f&&d&&$e(m,f,d),$e(m,"VER",c.la),Lc(c,m),m}function RD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ye(new Pc({eb:f})):new Ye(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ND(){}n=ND.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _d(){}_d.prototype.g=function(c,d){return new fn(c,d)};function fn(c,d){Pt.call(this),this.g=new _D(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ns(this)}S(fn,Pt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Om(this.g)},fn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=bm(c),c=f);d.i.push(new Dk(d.Ya++,c)),d.G==3&&yd(d)},fn.prototype.N=function(){this.g.l=null,delete this.j,Om(this.g),delete this.g,fn.aa.N.call(this)};function xD(c){Tm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(xD,Tm);function MD(){Cm.call(this),this.status=1}S(MD,Cm);function Ns(c){this.g=c}S(Ns,ND),Ns.prototype.ua=function(){zt(this.g,"a")},Ns.prototype.ta=function(c){zt(this.g,new xD(c))},Ns.prototype.sa=function(c){zt(this.g,new MD)},Ns.prototype.ra=function(){zt(this.g,"b")},_d.prototype.createWebChannel=_d.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,hw=oi.createWebChannelTransport=function(){return new _d},dw=oi.getStatEventTarget=function(){return ad()},lw=oi.Event=yo,Qp=oi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cd.NO_ERROR=0,cd.TIMEOUT=8,cd.HTTP_ERROR=6,Sl=oi.ErrorCode=cd,Kb.COMPLETE="complete",uw=oi.EventType=Kb,Hb.EventType=Tc,Tc.OPEN="a",Tc.CLOSE="b",Tc.ERROR="c",Tc.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,Ba=oi.WebChannel=Hb,N6=oi.FetchXmlHttpFactory=Pc,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,cw=oi.XhrIo=Ye}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});var cM="@firebase/firestore",uM="4.8.0";var Dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");var uc="11.10.0";var ws=new Tr("@firebase/firestore");function $a(){return ws.logLevel}function G(n,...e){if(ws.logLevel<=ve.DEBUG){let t=e.map(X0);ws.debug(`Firestore (${uc}): ${n}`,...t)}}function ai(n,...e){if(ws.logLevel<=ve.ERROR){let t=e.map(X0);ws.error(`Firestore (${uc}): ${n}`,...t)}}function uo(n,...e){if(ws.logLevel<=ve.WARN){let t=e.map(X0);ws.warn(`Firestore (${uc}): ${n}`,...t)}}function X0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,r1(n,r,t)}function r1(n,e,t){let r=`FIRESTORE (${uc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ai(r),new Error(r)}function Qe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||r1(e,i,r)}function De(n,e){return n}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var io=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ng=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dt.UNAUTHENTICATED))}shutdown(){}},_w=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Ew=class{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new io;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new io,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new io)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new ng(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}},Iw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},ww=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Iw(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},bw=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new rg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function x6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function i1(){return new TextEncoder}var kl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=x6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ge(n,e){return n<e?-1:n>e?1:0}function Dw(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ge(r,i);{let o=i1(),s=M6(o.encode(lM(n,t)),o.encode(lM(e,t)));return s!==0?s:ge(r,i)}}t+=r>65535?2:1}return ge(n.length,e.length)}function lM(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function M6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ge(n[t],e[t]);return ge(n.length,e.length)}function Ja(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var dM="__name__",ig=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ge(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Dw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ii.fromString(e.substring(4,e.length-2))}},ze=class n extends ig{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},P6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fn=class n extends ig{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return P6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dM}static keyField(){return new n([dM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new q(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new q(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Z=class n{constructor(e){this.path=e}static fromPath(e){return new n(ze.fromString(e))}static fromName(e){return new n(ze.fromString(e).popFirst(5))}static empty(){return new n(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ze(e.slice()))}};function o1(n,e,t){if(!t)throw new q(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function k6(n,e,t,r){if(e===!0&&r===!0)throw new q(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hM(n){if(!Z.isDocumentKey(n))throw new q(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fM(n){if(Z.isDocumentKey(n))throw new q(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function s1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Mg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":se(12329,{type:typeof n})}function Xp(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Mg(n);throw new q(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function pt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Ql(n,e){if(!s1(n))throw new q(j.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new q(j.INVALID_ARGUMENT,t);return!0}var pM=-62135596800,gM=1e6,It=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*gM);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pM)throw new q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gM}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ql(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-pM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:pt("string",It._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};var he=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new It(0,0))}static max(){return new n(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ol=-1,Tw=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Tw.UNKNOWN_ID=-1;function O6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new bs(i,Z.empty(),e)}function F6(n){return new bs(n.readTime,n.key,Ol)}var bs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(he.min(),Z.empty(),Ol)}static max(){return new n(he.max(),Z.empty(),Ol)}};function L6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Z.comparator(n.documentKey,e.documentKey),t!==0?t:ge(n.largestBatchId,e.largestBatchId))}var V6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Pg(n){return _(this,null,function*(){if(n.code!==j.FAILED_PRECONDITION||n.message!==V6)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function j6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function lc(n){return n.name==="IndexedDbTransactionError"}var eb=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),U6=-1;function kg(n){return n==null}function Fl(n){return n===0&&1/n==-1/0}function B6(n){return typeof n=="number"&&Number.isInteger(n)&&!Fl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var a1="";function $6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mM(e)),e=H6(n.get(t),e);return mM(e)}function H6(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case a1:t+="";break;default:t+=o}}return t}function mM(n){return n+a1+""}var z6="remoteDocuments",c1="owner";var u1="mutationQueues";var l1="mutations";var d1="documentMutations",q6="remoteDocumentsV14";var h1="remoteDocumentGlobal";var f1="targets";var p1="targetDocuments";var g1="targetGlobal",m1="collectionParents";var y1="clientMetadata";var v1="bundles";var _1="namedQueries";var G6="indexConfiguration";var W6="indexState";var K6="indexEntries";var E1="documentOverlays";var Q6="globals";var Y6=[u1,l1,d1,z6,f1,c1,g1,p1,y1,h1,m1,v1,_1],rue=[...Y6,E1],J6=[u1,l1,d1,q6,f1,c1,g1,p1,y1,h1,m1,v1,_1,E1],Z6=J6,X6=[...Z6,G6,W6,K6];var iue=[...X6,Q6];function yM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function dc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function I1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ot=class n{constructor(e,t){this.comparator=e,this.root=t||Nr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ga(this.root,e,this.comparator,!0)}},Ga=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Nr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}};Nr.EMPTY=null,Nr.RED=!0,Nr.BLACK=!1;Nr.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Nr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Tt=class n{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new og(this.data.getIterator())}getIteratorFrom(e){return new og(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},og=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ys=class n{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Tt(Fn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var sg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ht=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sg("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ht.EMPTY_BYTE_STRING=new Ht("");var ez=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(n){if(Qe(!!n,39018),typeof n=="string"){let e=0,t=ez.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(n.seconds),nanos:He(n.nanos)}}function He(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ui(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}var w1="server_timestamp",b1="__type__",D1="__previous_value__",T1="__local_write_time__";function tb(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[b1])===null||t===void 0?void 0:t.stringValue)===w1}function Og(n){let e=n.mapValue.fields[D1];return tb(e)?Og(e):e}function Ll(n){let e=ci(n.mapValue.fields[T1].timestampValue);return new It(e.seconds,e.nanos)}var Sw=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},ag="(default)",cg=class n{constructor(e,t){this.projectId=e,this.database=t||ag}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ag}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var nb="__type__",C1="__max__",Yp={mapValue:{fields:{__type__:{stringValue:C1}}}},rb="__vector__",Za="value";function lo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tb(n)?4:A1(n)?9007199254740991:S1(n)?10:11:se(28295,{value:n})}function Mr(n,e){if(n===e)return!0;let t=lo(n);if(t!==lo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ll(n).isEqual(Ll(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ci(i.timestampValue),a=ci(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return ui(i.bytesValue).isEqual(ui(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return He(i.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return He(i.integerValue)===He(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=He(i.doubleValue),a=He(o.doubleValue);return s===a?Fl(s)===Fl(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Ja(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(yM(s)!==yM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Mr(s[u],a[u])))return!1;return!0})(n,e);default:return se(52216,{left:n})}}function Vl(n,e){return(n.values||[]).find(t=>Mr(t,e))!==void 0}function Xa(n,e){if(n===e)return 0;let t=lo(n),r=lo(e);if(t!==r)return ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ge(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=He(o.integerValue||o.doubleValue),u=He(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return vM(n.timestampValue,e.timestampValue);case 4:return vM(Ll(n),Ll(e));case 5:return Dw(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=ui(o),u=ui(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ge(a[l],u[l]);if(h!==0)return h}return ge(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ge(He(o.latitude),He(s.latitude));return a!==0?a:ge(He(o.longitude),He(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return _M(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[Za])===null||a===void 0?void 0:a.arrayValue,S=(u=g[Za])===null||u===void 0?void 0:u.arrayValue,k=ge(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:_M(y,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Yp.mapValue&&s===Yp.mapValue)return 0;if(o===Yp.mapValue)return 1;if(s===Yp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Dw(u[p],h[p]);if(g!==0)return g;let y=Xa(a[u[p]],l[h[p]]);if(y!==0)return y}return ge(u.length,h.length)})(n.mapValue,e.mapValue);default:throw se(23264,{le:t})}}function vM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ge(n,e);let t=ci(n),r=ci(e),i=ge(t.seconds,r.seconds);return i!==0?i:ge(t.nanos,r.nanos)}function _M(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Xa(t[i],r[i]);if(o)return o}return ge(t.length,r.length)}function ec(n){return Aw(n)}function Aw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=ci(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ui(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Z.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Aw(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Aw(t.fields[s])}`;return i+"}"})(n.mapValue):se(61005,{value:n})}function eg(n){switch(lo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Og(n);return e?16+eg(e):16;case 5:return 2*n.stringValue.length;case 6:return ui(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+eg(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return dc(r.fields,(o,s)=>{i+=o.length+eg(s)}),i})(n.mapValue);default:throw se(13486,{value:n})}}function EM(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Rw(n){return!!n&&"integerValue"in n}function ib(n){return!!n&&"arrayValue"in n}function IM(n){return!!n&&"nullValue"in n}function wM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fw(n){return!!n&&"mapValue"in n}function S1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[nb])===null||t===void 0?void 0:t.stringValue)===rb}function Rl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return dc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function A1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===C1}var sue={mapValue:{fields:{[nb]:{stringValue:rb},[Za]:{arrayValue:{}}}}};var si=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!fw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(t)}setAll(e){let t=Fn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Rl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());fw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];fw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){dc(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Rl(this.value))}};var nr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,he.min(),he.min(),he.min(),si.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,he.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,he.min(),he.min(),si.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,he.min(),he.min(),si.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var tc=class{constructor(e,t){this.position=e,this.inclusive=t}};function bM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Z.comparator(Z.fromName(s.referenceValue),t.key):r=Xa(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function DM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}var Ds=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function tz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ug=class{},ft=class n extends ug{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xw(e,t,r):t==="array-contains"?new kw(e,r):t==="in"?new Ow(e,r):t==="not-in"?new Fw(e,r):t==="array-contains-any"?new Lw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Mw(e,r):new Pw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xa(t,this.value)):t!==null&&lo(this.value)===lo(t)&&this.matchesComparison(Xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},rr=class n extends ug{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return R1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function R1(n){return n.op==="and"}function N1(n){return nz(n)&&R1(n)}function nz(n){for(let e of n.filters)if(e instanceof rr)return!1;return!0}function Nw(n){if(n instanceof ft)return n.field.canonicalString()+n.op.toString()+ec(n.value);if(N1(n))return n.filters.map(e=>Nw(e)).join(",");{let e=n.filters.map(t=>Nw(t)).join(",");return`${n.op}(${e})`}}function x1(n,e){return n instanceof ft?(function(r,i){return i instanceof ft&&r.op===i.op&&r.field.isEqual(i.field)&&Mr(r.value,i.value)})(n,e):n instanceof rr?(function(r,i){return i instanceof rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&x1(s,i.filters[a]),!0):!1})(n,e):void se(19439)}function M1(n){return n instanceof ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${ec(t.value)}`})(n):n instanceof rr?(function(t){return t.op.toString()+" {"+t.getFilters().map(M1).join(" ,")+"}"})(n):"Filter"}var xw=class extends ft{constructor(e,t,r){super(e,t,r),this.key=Z.fromName(r.referenceValue)}matches(e){let t=Z.comparator(e.key,this.key);return this.matchesComparison(t)}},Mw=class extends ft{constructor(e,t){super(e,"in",t),this.keys=P1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Pw=class extends ft{constructor(e,t){super(e,"not-in",t),this.keys=P1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function P1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Z.fromName(r.referenceValue))}var kw=class extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ib(t)&&Vl(t.arrayValue,this.value)}},Ow=class extends ft{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Vl(this.value.arrayValue,t)}},Fw=class extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Vl(this.value.arrayValue,t)}},Lw=class extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ib(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vl(this.value.arrayValue,r))}};var Vw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function TM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Vw(n,e,t,r,i,o,s)}function ob(n){let e=De(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Nw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),kg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ec(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ec(r)).join(",")),e.Pe=t}return e.Pe}function sb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!x1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DM(n.startAt,e.startAt)&&DM(n.endAt,e.endAt)}function jw(n){return Z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ho=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function rz(n,e,t,r,i,o,s,a){return new ho(n,e,t,r,i,o,s,a)}function ab(n){return new ho(n)}function CM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function k1(n){return n.collectionGroup!==null}function Nl(n){let e=De(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Tt(Fn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ds(o,r))}),t.has(Fn.keyField().canonicalString())||e.Te.push(new Ds(Fn.keyField(),r))}return e.Te}function xr(n){let e=De(n);return e.Ie||(e.Ie=iz(e,Nl(n))),e.Ie}function iz(n,e){if(n.limitType==="F")return TM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ds(i.field,o)});let t=n.endAt?new tc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new tc(n.startAt.position,n.startAt.inclusive):null;return TM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Uw(n,e){let t=n.filters.concat([e]);return new ho(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Bw(n,e,t){return new ho(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fg(n,e){return sb(xr(n),xr(e))&&n.limitType===e.limitType}function O1(n){return`${ob(xr(n))}|lt:${n.limitType}`}function Ha(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>M1(i)).join(", ")}]`),kg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ec(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ec(i)).join(",")),`Target(${r})`})(xr(n))}; limitType=${n.limitType})`}function Lg(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Nl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=bM(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Nl(r),i)||r.endAt&&!(function(s,a,u){let l=bM(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Nl(r),i))})(n,e)}function oz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function F1(n){return(e,t)=>{let r=!1;for(let i of Nl(n)){let o=sz(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function sz(n,e,t){let r=n.field.isKeyField()?Z.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Xa(u,l):se(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:n.dir})}}var li=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dc(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return I1(this.inner)}size(){return this.innerSize}};var az=new ot(Z.comparator);function fo(){return az}var L1=new ot(Z.comparator);function Al(...n){let e=L1;for(let t of n)e=e.insert(t.key,t);return e}function cz(n){let e=L1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vs(){return xl()}function V1(){return xl()}function xl(){return new li(n=>n.toString(),(n,e)=>n.isEqual(e))}var aue=new ot(Z.comparator),uz=new Tt(Z.comparator);function Ce(...n){let e=uz;for(let t of n)e=e.add(t);return e}var lz=new Tt(ge);function dz(){return lz}function cb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fl(e)?"-0":e}}function j1(n){return{integerValue:""+n}}function hz(n,e){return B6(e)?j1(e):cb(n,e)}var nc=class{constructor(){this._=void 0}};function fz(n,e,t){return n instanceof jl?(function(i,o){let s={fields:{[b1]:{stringValue:w1},[T1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&tb(o)&&(o=Og(o)),o&&(s.fields[D1]=o),{mapValue:s}})(t,e):n instanceof rc?U1(n,e):n instanceof ic?B1(n,e):(function(i,o){let s=gz(i,o),a=SM(s)+SM(i.Ee);return Rw(s)&&Rw(i.Ee)?j1(a):cb(i.serializer,a)})(n,e)}function pz(n,e,t){return n instanceof rc?U1(n,e):n instanceof ic?B1(n,e):t}function gz(n,e){return n instanceof Ul?(function(r){return Rw(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var jl=class extends nc{},rc=class extends nc{constructor(e){super(),this.elements=e}};function U1(n,e){let t=$1(e);for(let r of n.elements)t.some(i=>Mr(i,r))||t.push(r);return{arrayValue:{values:t}}}var ic=class extends nc{constructor(e){super(),this.elements=e}};function B1(n,e){let t=$1(e);for(let r of n.elements)t=t.filter(i=>!Mr(i,r));return{arrayValue:{values:t}}}var Ul=class extends nc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function SM(n){return He(n.integerValue||n.doubleValue)}function $1(n){return ib(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function mz(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof rc&&i instanceof rc||r instanceof ic&&i instanceof ic?Ja(r.elements,i.elements,Mr):r instanceof Ul&&i instanceof Ul?Mr(r.Ee,i.Ee):r instanceof jl&&i instanceof jl})(n.transform,e.transform)}var Ml=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function tg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Bl=class{};function H1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $w(n.key,Ml.none()):new $l(n.key,n.data,Ml.none());{let t=n.data,r=si.empty(),i=new Tt(Fn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new oc(n.key,r,new ys(i.toArray()),Ml.none())}}function yz(n,e,t){n instanceof $l?(function(i,o,s){let a=i.value.clone(),u=RM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof oc?(function(i,o,s){if(!tg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=RM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(z1(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Pl(n,e,t,r){return n instanceof $l?(function(o,s,a,u){if(!tg(o.precondition,s))return a;let l=o.value.clone(),h=NM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof oc?(function(o,s,a,u){if(!tg(o.precondition,s))return a;let l=NM(o.fieldTransforms,u,s),h=s.data;return h.setAll(z1(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return tg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function AM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ja(r,i,(o,s)=>mz(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var $l=class extends Bl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},oc=class extends Bl{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function z1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function RM(n,e,t){let r=new Map;Qe(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,pz(s,a,t[i]))}return r}function NM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,fz(o,s,e))}return r}var $w=class extends Bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Hw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&yz(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Pl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=V1();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=H1(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(t,r)=>AM(t,r))&&Ja(this.baseMutations,e.baseMutations,(t,r)=>AM(t,r))}};var zw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var qw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var dt,be;function q1(n){if(n===void 0)return ai("GRPC error has no .code"),j.UNKNOWN;switch(n){case dt.OK:return j.OK;case dt.CANCELLED:return j.CANCELLED;case dt.UNKNOWN:return j.UNKNOWN;case dt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case dt.INTERNAL:return j.INTERNAL;case dt.UNAVAILABLE:return j.UNAVAILABLE;case dt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case dt.NOT_FOUND:return j.NOT_FOUND;case dt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case dt.ABORTED:return j.ABORTED;case dt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case dt.DATA_LOSS:return j.DATA_LOSS;default:return se(39323,{code:n})}}(be=dt||(dt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var xM=null;var vz=new ii([4294967295,4294967295],0);function MM(n){let e=i1().encode(n),t=new aw;return t.update(e),new Uint8Array(t.digest())}function PM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ii([t,r],0),new ii([i,o],0)]}var Gw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _s(`Invalid padding: ${t}`);if(r<0)throw new _s(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _s(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _s(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ii.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(ii.fromNumber(r)));return i.compare(vz)===1&&(i=new ii([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=MM(e),[r,i]=PM(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=MM(e),[r,i]=PM(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},_s=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var lg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(he.min(),i,new ot(ge),fo(),Ce())}},Hl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ce(),Ce(),Ce())}};var Wa=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},dg=class{constructor(e,t){this.targetId=e,this.De=t}},hg=class{constructor(e,t,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},fg=class{constructor(){this.ve=0,this.Ce=kM(),this.Fe=Ht.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ce(),t=Ce(),r=Ce();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:o})}}),new Hl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=kM()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Ww=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=fo(),this.je=Jp(),this.Je=Jp(),this.He=new ot(ge)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(jw(o))if(r===0){let s=new Z(o.path);this.Xe(t,s,nr.newNoDocument(s,he.min()))}else Qe(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}xM?.ct((function(h,p,g,y,S){var k,x,L,W,ee,ne;let Ve={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},me=p.unchangedNames;return me&&(Ve.bloomFilter={applied:S===0,hashCount:(k=me?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(W=(L=(x=me?.bits)===null||x===void 0?void 0:x.bitmap)===null||L===void 0?void 0:L.length)!==null&&W!==void 0?W:0,padding:(ne=(ee=me?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&ne!==void 0?ne:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),Ve})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ui(r).toUint8Array()}catch(u){if(u instanceof sg)return uo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Gw(s,i,o)}catch(u){return uo(u instanceof _s?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&jw(a.target)){let u=new Z(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,nr.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Ce();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new lg(e,t,this.He,this.ze,r);return this.ze=fo(),this.je=Jp(),this.Je=Jp(),this.He=new ot(ge),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new fg,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Tt(ge),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Tt(ge),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new fg),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Jp(){return new ot(Z.comparator)}function kM(){return new ot(Z.comparator)}var _z={asc:"ASCENDING",desc:"DESCENDING"},Ez={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iz={and:"AND",or:"OR"},Kw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Qw(n,e){return n.useProto3Json||kg(e)?e:{value:e}}function Yw(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ka(n){return Qe(!!n,49232),he.fromTimestamp((function(t){let r=ci(t);return new It(r.seconds,r.nanos)})(n))}function W1(n,e){return Jw(n,e).canonicalString()}function Jw(n,e){let t=(function(i){return new ze(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function K1(n){let e=ze.fromString(n);return Qe(X1(e),10190,{key:e.toString()}),e}function pw(n,e){let t=K1(e);if(t.get(1)!==n.databaseId.projectId)throw new q(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Z(Y1(t))}function Q1(n,e){return W1(n.databaseId,e)}function wz(n){let e=K1(n);return e.length===4?ze.emptyPath():Y1(e)}function OM(n){return new ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Y1(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function bz(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:se(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Qe(h===void 0||typeof h=="string",58123),Ht.fromBase64String(h||"")):(Qe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ht.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?j.UNKNOWN:q1(l.code);return new q(h,l.message||"")})(s);t=new hg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=pw(n,r.document.name),o=Ka(r.document.updateTime),s=r.document.createTime?Ka(r.document.createTime):he.min(),a=new si({mapValue:{fields:r.document.fields}}),u=nr.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Wa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=pw(n,r.document),o=r.readTime?Ka(r.readTime):he.min(),s=nr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Wa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=pw(n,r.document),o=r.removedTargetIds||[];t=new Wa([],o,i,null)}else{if(!("filter"in e))return se(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new qw(i,o),a=r.targetId;t=new dg(a,s)}}return t}function Dz(n,e){return{documents:[Q1(n,e.path)]}}function Tz(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Q1(n,i);let o=(function(l){if(l.length!==0)return Z1(rr.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:za(g.field),direction:Az(g.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Qw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function Cz(n){let e=wz(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Qe(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let g=J1(p);return g instanceof rr&&N1(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(S){return new Ds(qa(S.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,kg(g)?null:g})(t.limit));let u=null;t.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new tc(y,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new tc(y,g)})(t.endAt)),rz(e,i,s,o,a,"F",u,l)}function Sz(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function J1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=qa(t.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qa(t.unaryFilter.field);return ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=qa(t.unaryFilter.field);return ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=qa(t.unaryFilter.field);return ft.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ft.create(qa(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return rr.create(t.compositeFilter.filters.map(r=>J1(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}})(t.compositeFilter.op))})(n):se(30097,{filter:n})}function Az(n){return _z[n]}function Rz(n){return Ez[n]}function Nz(n){return Iz[n]}function za(n){return{fieldPath:n.canonicalString()}}function qa(n){return Fn.fromServerFormat(n.fieldPath)}function Z1(n){return n instanceof ft?(function(t){if(t.op==="=="){if(wM(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NAN"}};if(IM(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wM(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NOT_NAN"}};if(IM(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(t.field),op:Rz(t.op),value:t.value}}})(n):n instanceof rr?(function(t){let r=t.getFilters().map(i=>Z1(i));return r.length===1?r[0]:{compositeFilter:{op:Nz(t.op),filters:r}}})(n):se(54877,{filter:n})}function X1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var zl=class n{constructor(e,t,r,i,o=he.min(),s=he.min(),a=Ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Zw=class{constructor(e){this.gt=e}};function xz(n){let e=Cz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bw(e,e.limit,"L"):e}var pg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(He(e.integerValue));else if("doubleValue"in e){let r=He(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Fl(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=ci(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(ui(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?A1(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):S1(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):se(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Za,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(He(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),Z.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};pg.Ut=new pg;var Xw=class{constructor(){this.Dn=new e0}addToCollectionParentIndex(e,t){return this.Dn.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(bs.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},e0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Tt(ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tt(ze.comparator)).toArray()}};var cue=new Uint8Array(0);var FM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eP=41943040,On=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(eP,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);var ql=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var LM="LruGarbageCollector",Mz=1048576;function VM([n,e],[t,r]){let i=ge(n,t);return i===0?ge(e,r):i}var t0=class{constructor(e){this.Tr=e,this.buffer=new Tt(VM),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();VM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},n0=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){G(LM,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){lc(t)?G(LM,"Ignoring IndexedDB error during garbage collection: ",t):yield Pg(t)}yield this.Rr(3e5)}))}},r0=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return V.resolve(eb.ue);let r=new t0(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(FM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FM):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),$a()<=ve.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Pz(n,e){return new r0(n,e)}var i0=class{constructor(){this.changes=new li(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var o0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var s0=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Pl(r.mutation,i,ys.empty(),It.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ce()){let i=vs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Al();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=vs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=fo(),s=xl(),a=(function(){return xl()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof oc)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Pl(h.mutation,l,h.mutation.getFieldMask(),It.now())):s.set(l.key,ys.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new o0(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=xl(),i=new ot((s,a)=>s-a),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||ys.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ce()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=V1();h.forEach(g=>{if(!o.has(g)){let y=H1(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):k1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):V.resolve(vs()),a=Ol,u=o;return s.next(l=>V.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ce())).next(h=>({batchId:a,changes:cz(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Z(t)).next(r=>{let i=Al();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Al();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,u=>{let l=(function(p,g){return new ho(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,nr.newInvalidDocument(h)))});let a=Al();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Pl(h.mutation,l,ys.empty(),It.now()),Lg(t,l)&&(a=a.insert(u,l))}),a})}};var a0=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return V.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Ka(i.createTime)}})(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:xz(i.bundledQuery),readTime:Ka(i.readTime)}})(t)),V.resolve()}};var c0=class{constructor(){this.overlays=new ot(Z.comparator),this.kr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=vs();return V.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=vs(),o=t.length+1,s=new Z(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ot((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=vs(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=vs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return V.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new zw(t,r));let o=this.kr.get(t);o===void 0&&(o=Ce(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var u0=class{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var Gl=class{constructor(){this.qr=new Tt(ht.Qr),this.$r=new Tt(ht.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new ht(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new ht(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new Z(new ze([])),r=new ht(t,e),i=new ht(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new Z(new ze([])),r=new ht(t,e),i=new ht(t,e+1),o=Ce();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ht(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ht=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Z.comparator(e.key,t.key)||ge(e.Hr,t.Hr)}static Ur(e,t){return ge(e.Hr,t.Hr)||Z.comparator(e.key,t.key)}};var l0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Tt(ht.Qr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Hw(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new ht(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,t){return V.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?U6:this.er-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ht(t,0),i=new ht(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tt(ge);return t.forEach(i=>{let o=new ht(i,0),s=new ht(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),V.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Z.isDocumentKey(o)||(o=o.child(""));let s=new ht(new Z(o),0),a=new Tt(ge);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),V.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Qe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return V.forEach(t.mutations,i=>{let o=new ht(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new ht(t,0),i=this.Yr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var d0=class{constructor(e){this.ni=e,this.docs=(function(){return new ot(Z.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let r=fo();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nr.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=fo(),s=t.path,a=new Z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||L6(F6(h),r)<=0||(i.has(h.key)||Lg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,t,r,i){se(9500)}ri(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new h0(this)}getSize(e){return V.resolve(this.size)}},h0=class extends i0{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var f0=class{constructor(e){this.persistence=e,this.ii=new li(t=>ob(t),sb),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.si=0,this.oi=new Gl,this.targetCount=0,this._i=ql.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),V.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new ql(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.hr(t),V.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.oi.containsKey(t))}};var gg=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new eb(0),this.ci=!1,this.ci=!0,this.li=new u0,this.referenceDelegate=e(this),this.hi=new f0(this),this.indexManager=new Xw,this.remoteDocumentCache=(function(i){return new d0(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new Zw(t),this.Ti=new a0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new c0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new l0(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){G("MemoryPersistence","Starting transaction:",e);let i=new p0(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return V.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},p0=class extends Cw{constructor(e){super(),this.currentSequenceNumber=e}},g0=class n{constructor(e){this.persistence=e,this.Ai=new Gl,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw se(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),V.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.mi,r=>{let i=Z.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,he.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return V.or([()=>V.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},mg=class n{constructor(e,t){this.persistence=e,this.gi=new li(r=>$6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Pz(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return V.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return V.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?V.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,he.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=eg(e.data.value)),t}Sr(e,t,r){return V.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var m0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ce(),i=Ce();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var y0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var v0=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return bN()?8:j6(bt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new y0;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?($a()<=ve.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ha(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),V.resolve()):($a()<=ve.DEBUG&&G("QueryEngine","Query:",Ha(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?($a()<=ve.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ha(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):V.resolve())}ps(e,t){if(CM(t))return V.resolve(null);let r=xr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Bw(t,null,"F"),r=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ce(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,Bw(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return CM(t)||i.isEqual(he.min())?V.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?V.resolve(null):($a()<=ve.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ha(t)),this.vs(e,s,t,O6(i,Ol)).next(a=>a))})}bs(e,t){let r=new Tt(F1(e));return t.forEach((i,o)=>{Lg(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return $a()<=ve.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ha(t)),this.gs.getDocumentsMatchingQuery(e,t,bs.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var ub="LocalStore",kz=3e8,_0=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ot(ge),this.Ms=new li(o=>ob(o),sb),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s0(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function Oz(n,e,t,r){return new _0(n,e,t,r)}function tP(n,e){return _(this,null,function*(){let t=De(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ce();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function nP(n){let e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function Fz(n,e){let t=De(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ht.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(k,x,L){return k.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=kz?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(g,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=fo(),l=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Lz(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(he.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function Lz(n,e,t){let r=Ce(),i=Ce();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=fo();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):G(ub,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function Vz(n,e){let t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new zl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function E0(n,e,t){return _(this,null,function*(){let r=De(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!lc(s))throw s;G(ub,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function jM(n,e,t){let r=De(n),i=he.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=De(u),g=p.Ms.get(h);return g!==void 0?V.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)})(r,s,xr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:he.min(),t?o:Ce())).next(a=>(jz(r,oz(e),a),{documents:a,qs:o})))}function jz(n,e,t){let r=n.xs.get(e)||he.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var yg=class{constructor(){this.activeTargetIds=dz()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var I0=class{constructor(){this.Fo=new yg,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new yg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var w0=class{xo(e){}shutdown(){}};var UM="ConnectivityMonitor",vg=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){G(UM,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){G(UM,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zp=null;function b0(){return Zp===null?Zp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zp++,"0x"+Zp.toString(16)}var gw="RestConnection",Uz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},D0=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ag?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=b0(),a=this.Go(e,t.toUriEncodedString());G(gw,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=qi(l);return this.jo(e,a,u,r,h).then(p=>(G(gw,`Received RPC '${e}' ${s}: `,p),p),p=>{throw uo(gw,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=Uz[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var T0=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Bt="WebChannelConnection",C0=class extends D0{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=b0();return new Promise((a,u)=>{let l=new cw;l.setWithCredentials(!0),l.listenOnce(uw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Sl.NO_ERROR:let p=l.getResponseJson();G(Bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Sl.TIMEOUT:G(Bt,`RPC '${e}' ${s} timed out`),u(new q(j.DEADLINE_EXCEEDED,"Request time out"));break;case Sl.HTTP_ERROR:let g=l.getStatus();if(G(Bt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let k=(function(L){let W=L.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(W)>=0?W:j.UNKNOWN})(S.status);u(new q(k,S.message))}else u(new q(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new q(j.UNAVAILABLE,"Connection failed."));break;default:se(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{G(Bt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);G(Bt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=b0(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=hw(),a=dw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");G(Bt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,y=!1,S=new T0({Ho:x=>{y?G(Bt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(G(Bt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),G(Bt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Yo:()=>p.close()}),k=(x,L,W)=>{x.listen(L,ee=>{try{W(ee)}catch(ne){setTimeout(()=>{throw ne},0)}})};return k(p,Ba.EventType.OPEN,()=>{y||(G(Bt,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),k(p,Ba.EventType.CLOSE,()=>{y||(y=!0,G(Bt,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),k(p,Ba.EventType.ERROR,x=>{y||(y=!0,uo(Bt,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),S.__(new q(j.UNAVAILABLE,"The operation could not be completed")))}),k(p,Ba.EventType.MESSAGE,x=>{var L;if(!y){let W=x.data[0];Qe(!!W,16349);let ee=W,ne=ee?.error||((L=ee[0])===null||L===void 0?void 0:L.error);if(ne){G(Bt,`RPC '${e}' stream ${i} received error:`,ne);let Ve=ne.status,me=(function(I){let w=dt[I];if(w!==void 0)return q1(w)})(Ve),T=ne.message;me===void 0&&(me=j.INTERNAL,T="Unknown error status: "+Ve+" with message "+ne.message),y=!0,S.__(new q(me,T)),p.close()}else G(Bt,`RPC '${e}' stream ${i} received:`,W),S.a_(W)}}),k(a,lw.STAT_EVENT,x=>{x.stat===Qp.PROXY?G(Bt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Qp.NOPROXY&&G(Bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function mw(){return typeof document<"u"?document:null}function Vg(n){return new Kw(n,!0)}var _g=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var BM="PersistentStream",S0=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new _g(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new q(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return G(BM,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(G(BM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},A0=class extends S0{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=bz(this.serializer,e),r=(function(o){if(!("targetChange"in o))return he.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?Ka(s.readTime):he.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=OM(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=jw(u)?{documents:Dz(o,u)}:{query:Tz(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=G1(o,s.resumeToken);let l=Qw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(he.min())>0){a.readTime=Yw(o,s.snapshotVersion.toTimestamp());let l=Qw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=Sz(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=OM(this.serializer),t.removeTarget=e,this.k_(t)}};var R0=class{},N0=class extends R0{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new q(j.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Jw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(j.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Jw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(j.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},x0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ai(t),this._a=!1):G("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var sc="RemoteStore",M0=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Jl(this)&&(G(sc,"Restarting streams for network reachability change."),yield(function(u){return _(this,null,function*(){let l=De(u);l.Ia.add(4),yield Yl(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield jg(l)})})(this))}))}),this.Aa=new x0(r,i)}};function jg(n){return _(this,null,function*(){if(Jl(n))for(let e of n.da)yield e(!0)})}function Yl(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function rP(n,e){let t=De(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),fb(t)?hb(t):hc(t).x_()&&db(t,e))}function lb(n,e){let t=De(n),r=hc(t);t.Ta.delete(e),r.x_()&&iP(t,e),t.Ta.size===0&&(r.x_()?r.B_():Jl(t)&&t.Aa.set("Unknown"))}function db(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hc(n).H_(e)}function iP(n,e){n.Ra.$e(e),hc(n).Y_(e)}function hb(n){n.Ra=new Ww({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),hc(n).start(),n.Aa.aa()}function fb(n){return Jl(n)&&!hc(n).M_()&&n.Ta.size>0}function Jl(n){return De(n).Ia.size===0}function oP(n){n.Ra=void 0}function Bz(n){return _(this,null,function*(){n.Aa.set("Online")})}function $z(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{db(n,e)})})}function Hz(n,e){return _(this,null,function*(){oP(n),fb(n)?(n.Aa.la(e),hb(n)):n.Aa.set("Unknown")})}function zz(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof hg&&e.state===2&&e.cause)try{yield(function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){G(sc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $M(n,r)}else if(e instanceof Wa?n.Ra.Ye(e):e instanceof dg?n.Ra.it(e):n.Ra.et(e),!t.isEqual(he.min()))try{let r=yield nP(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Ht.EMPTY_BYTE_STRING,h.snapshotVersion)),iP(o,u);let p=new zl(h.target,u,l,h.sequenceNumber);db(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){G(sc,"Failed to raise snapshot:",r),yield $M(n,r)}})}function $M(n,e,t){return _(this,null,function*(){if(!lc(e))throw e;n.Ia.add(1),yield Yl(n),n.Aa.set("Offline"),t||(t=()=>nP(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){G(sc,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield jg(n)}))})}function HM(n,e){return _(this,null,function*(){let t=De(n);t.asyncQueue.verifyOperationInProgress(),G(sc,"RemoteStore received new credentials");let r=Jl(t);t.Ia.add(3),yield Yl(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield jg(t)})}function qz(n,e){return _(this,null,function*(){let t=De(n);e?(t.Ia.delete(2),yield jg(t)):e||(t.Ia.add(2),yield Yl(t),t.Aa.set("Unknown"))})}function hc(n){return n.Va||(n.Va=(function(t,r,i){let o=De(t);return o.ia(),new A0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:Bz.bind(null,n),e_:$z.bind(null,n),n_:Hz.bind(null,n),J_:zz.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),fb(n)?hb(n):n.Aa.set("Unknown")):(yield n.Va.stop(),oP(n))}))),n.Va}var P0=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function sP(n,e){if(ai("AsyncQueue",`${e}: ${n}`),lc(n))return new q(j.UNAVAILABLE,`${e}: ${n}`);throw n}var Eg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Z.comparator(t.key,r.key):(t,r)=>Z.comparator(t.key,r.key),this.keyedMap=Al(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ig=class{constructor(){this.fa=new ot(Z.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):se(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},ac=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Eg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var k0=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},O0=class{constructor(){this.queries=zM(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=De(t),o=i.queries;i.queries=zM(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new q(j.ABORTED,"Firestore shutting down"))}};function zM(){return new li(n=>O1(n),Fg)}function Gz(n,e){return _(this,null,function*(){let t=De(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new k0,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=sP(s,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&pb(t)})}function Wz(n,e){return _(this,null,function*(){let t=De(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Kz(n,e){let t=De(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&pb(t)}function Qz(n,e,t){let r=De(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function pb(n){n.Da.forEach(e=>{e.next()})}var F0,qM;(qM=F0||(F0={})).Fa="default",qM.Cache="cache";var L0=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==F0.Cache}};var wg=class{constructor(e){this.key=e}},bg=class{constructor(e){this.key=e}},V0=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ce(),this.mutatedKeys=Ce(),this.Xa=F1(e),this.eu=new Eg(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Ig,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Lg(this.query,p)?p:null,S=!!g&&this.mutatedKeys.has(g.key),k=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),x=!1;g&&y?g.data.isEqual(y.data)?S!==k&&(r.track({type:3,doc:y}),x=!0):this.iu(g,y)||(r.track({type:2,doc:y}),x=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),x=!0):g&&!y&&(r.track({type:1,doc:g}),x=!0,(u||l)&&(a=!0)),x&&(y?(s=s.add(y),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,S){let k=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{At:x})}};return k(y)-k(S)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ac(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ig,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Ce(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new bg(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new wg(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ce();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ac.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},gb="SyncEngine",j0=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},U0=class{constructor(e){this.key=e,this.lu=!1}},B0=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new li(a=>O1(a),Fg),this.Tu=new Map,this.Iu=new Set,this.du=new ot(Z.comparator),this.Eu=new Map,this.Au=new Gl,this.Ru={},this.Vu=new Map,this.mu=ql.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Yz(n,e,t=!0){return _(this,null,function*(){let r=dP(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield aP(r,e,t,!0),i})}function Jz(n,e){return _(this,null,function*(){let t=dP(n);yield aP(t,e,!0,!1)})}function aP(n,e,t,r){return _(this,null,function*(){let i=yield Vz(n.localStore,xr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Zz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&rP(n.remoteStore,i),a})}function Zz(n,e,t,r,i){return _(this,null,function*(){n.gu=(p,g,y)=>(function(k,x,L,W){return _(this,null,function*(){let ee=x.view.nu(L);ee.Ds&&(ee=yield jM(k.localStore,x.query,!1).then(({documents:T})=>x.view.nu(T,ee)));let ne=W&&W.targetChanges.get(x.targetId),Ve=W&&W.targetMismatches.get(x.targetId)!=null,me=x.view.applyChanges(ee,k.isPrimaryClient,ne,Ve);return WM(k,x.targetId,me._u),me.snapshot})})(n,p,g,y);let o=yield jM(n.localStore,e,!0),s=new V0(e,o.qs),a=s.nu(o.documents),u=Hl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);WM(n,t,l._u);let h=new j0(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function Xz(n,e,t){return _(this,null,function*(){let r=De(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Fg(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield E0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&lb(r.remoteStore,i.targetId),$0(r,i.targetId)}).catch(Pg))):($0(r,i.targetId),yield E0(r.localStore,i.targetId,!0))})}function eq(n,e){return _(this,null,function*(){let t=De(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),lb(t.remoteStore,r.targetId))})}function cP(n,e){return _(this,null,function*(){let t=De(n);try{let r=yield Fz(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Qe(s.lu,14607):i.removedDocuments.size>0&&(Qe(s.lu,42227),s.lu=!1))}),yield lP(t,r,e)}catch(r){yield Pg(r)}})}function GM(n,e,t){let r=De(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=De(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&pb(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function tq(n,e,t){return _(this,null,function*(){let r=De(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ot(Z.comparator);s=s.insert(o,nr.newNoDocument(o,he.min()));let a=Ce().add(o),u=new lg(he.min(),new Map,new ot(ge),s,a);yield cP(r,u),r.du=r.du.remove(o),r.Eu.delete(e),mb(r)}else yield E0(r.localStore,e,!1).then(()=>$0(r,e,t)).catch(Pg)})}function $0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||uP(n,r)})}function uP(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(lb(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),mb(n))}function WM(n,e,t){for(let r of t)r instanceof wg?(n.Au.addReference(r.key,e),nq(n,r)):r instanceof bg?(G(gb,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||uP(n,r.key)):se(19791,{yu:r})}function nq(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(G(gb,"New document in limbo: "+t),n.Iu.add(r),mb(n))}function mb(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new Z(ze.fromString(e)),r=n.mu.next();n.Eu.set(r,new U0(t)),n.du=n.du.insert(t,r),rP(n.remoteStore,new zl(xr(ab(t.path)),r,"TargetPurposeLimboResolution",eb.ue))}}function lP(n,e,t){return _(this,null,function*(){let r=De(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=m0.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return _(this,null,function*(){let h=De(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(l,g=>V.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>V.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!lc(p))throw p;G(ub,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),S=y.snapshotVersion,k=y.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(g,k)}}})})(r.localStore,o))})}function rq(n,e){return _(this,null,function*(){let t=De(n);if(!t.currentUser.isEqual(e)){G(gb,"User change. New user:",e.toKey());let r=yield tP(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new q(j.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield lP(t,r.Bs)}})}function iq(n,e){let t=De(n),r=t.Eu.get(e);if(r&&r.lu)return Ce().add(r.key);{let i=Ce(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function dP(n){let e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tq.bind(null,e),e.hu.J_=Kz.bind(null,e.eventManager),e.hu.pu=Qz.bind(null,e.eventManager),e}var hP=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Vg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return Oz(this.persistence,new v0,t.initialUser,this.serializer)}Du(t){return new gg(g0.Vi,this.serializer)}bu(t){return new I0}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),H0=class extends hP{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Qe(this.persistence.referenceDelegate instanceof mg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new n0(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new gg(r=>mg.Vi(r,t),this.serializer)}};var oq=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>GM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=rq.bind(null,this.syncEngine),yield qz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new O0})()}createDatastore(t){let r=Vg(t.databaseInfo.databaseId),i=(function(s){return new C0(s)})(t.databaseInfo);return(function(s,a,u,l){return new N0(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new M0(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>GM(this.syncEngine,r,0),(function(){return vg.C()?new vg:new w0})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let g=new B0(o,s,a,u,l,h);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield(function(o){return _(this,null,function*(){let s=De(o);G(sc,"RemoteStore shutting down."),s.Ia.add(5),yield Yl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var z0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var po="FirestoreClient",q0=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=kl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){G(po,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G(po,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=sP(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function yw(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G(po,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield tP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{uo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{G("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{uo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function KM(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield sq(n);G(po,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>HM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>HM(e.remoteStore,i)),n._onlineComponents=e})}function sq(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G(po,"Using user provided OfflineComponentProvider");try{yield yw(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;uo("Error using user provided cache. Falling back to memory cache: "+t),yield yw(n,new hP)}}else G(po,"Using default OfflineComponentProvider"),yield yw(n,new H0(void 0));return n._offlineComponents})}function aq(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G(po,"Using user provided OnlineComponentProvider"),yield KM(n,n._uninitializedComponentsProvider._online)):(G(po,"Using default OnlineComponentProvider"),yield KM(n,new oq))),n._onlineComponents})}function QM(n){return _(this,null,function*(){let e=yield aq(n),t=e.eventManager;return t.onListen=Yz.bind(null,e.syncEngine),t.onUnlisten=Xz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Jz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=eq.bind(null,e.syncEngine),t})}function fP(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var YM=new Map;var pP="firestore.googleapis.com",JM=!0,Dg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pP,this.ssl=JM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:JM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Mz)throw new q(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},cc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new vw;switch(r.type){case"firstParty":return new ww(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=YM.get(t);r&&(G("ComponentProvider","Removing Datastore"),YM.delete(t),r.terminate())})(this),Promise.resolve()}};function gP(n,e,t,r={}){var i;n=Xp(n,cc);let o=qi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Ip(`https://${u}`),wp("Firestore",!0)),s.host!==pP&&s.host!==u&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Dr(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Dt.MOCK_USER;else{h=yN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new q(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Dt(g)}n._authCredentials=new _w(new ng(h,p))}}var Ts=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},$t=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ql(t,n._jsonSchema))return new n(e,r||null,new Z(ze.fromString(t.referencePath)))}};$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:pt("string",$t._jsonSchemaVersion),referencePath:pt("string")};var oo=class n extends Ts{constructor(e,t,r){super(e,t,ab(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function mP(n,e,...t){if(n=xt(n),o1("collection","path",e),n instanceof cc){let r=ze.fromString(e,...t);return fM(r),new oo(n,null,r)}{if(!(n instanceof $t||n instanceof oo))throw new q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ze.fromString(e,...t));return fM(r),new oo(n.firestore,null,r)}}function yP(n,e,...t){if(n=xt(n),arguments.length===1&&(e=kl.newId()),o1("doc","path",e),n instanceof cc){let r=ze.fromString(e,...t);return hM(r),new $t(n,null,new Z(r))}{if(!(n instanceof $t||n instanceof oo))throw new q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ze.fromString(e,...t));return hM(r),new $t(n.firestore,n instanceof oo?n.converter:null,new Z(r))}}var ZM="AsyncQueue",Tg=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new _g(this,"async_queue_retry"),this.oc=()=>{let r=mw();r&&G(ZM,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=mw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=mw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new io;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!lc(e))throw e;G(ZM,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ai("INTERNAL UNHANDLED ERROR: ",XM(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=P0.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&se(47125,{hc:XM(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function XM(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function e1(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Wl=class extends cc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Tg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Tg(e),this._firestoreClient=void 0,yield e}})}};function vP(n,e){let t=typeof n=="object"?n:ds(),r=typeof n=="string"?n:e||ag,i=La(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=mN("firestore");o&&gP(i,...o)}return i}function cq(n){if(n._terminated)throw new q(j.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uq(n),n._firestoreClient}function uq(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new Sw(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new q0(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var so=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ht.fromBase64String(e))}catch(t){throw new q(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ql(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};so._jsonSchemaVersion="firestore/bytes/1.0",so._jsonSchema={type:pt("string",so._jsonSchemaVersion),bytes:pt("string")};var Cg=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Sg=class{constructor(e){this._methodName=e}};var ao=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Ql(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ao._jsonSchemaVersion="firestore/geoPoint/1.0",ao._jsonSchema={type:pt("string",ao._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};var co=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ql(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new q(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};co._jsonSchemaVersion="firestore/vectorValue/1.0",co._jsonSchema={type:pt("string",co._jsonSchemaVersion),vectorValues:pt("object")};var lq=/^__.*__$/;function _P(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ec:n})}}var G0=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return K0(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(_P(this.Ec)&&lq.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},W0=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vg(e)}Dc(e,t,r,i=!1){return new G0({Ec:e,methodName:t,bc:r,path:Fn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function dq(n){let e=n._freezeSettings(),t=Vg(n._databaseId);return new W0(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hq(n,e,t,r=!1){return yb(t,n.Dc(r?4:3,e))}function yb(n,e){if(EP(n=xt(n)))return pq("Unsupported field value:",e,n),fq(n,e);if(n instanceof Sg)return(function(r,i){if(!_P(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=yb(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=It.fromDate(r);return{timestampValue:Yw(i.serializer,o)}}if(r instanceof It){let o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yw(i.serializer,o)}}if(r instanceof ao)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof so)return{bytesValue:G1(i.serializer,r._byteString)};if(r instanceof $t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:W1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof co)return(function(s,a){return{mapValue:{fields:{[nb]:{stringValue:rb},[Za]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return cb(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Mg(r)}`)})(n,e)}function fq(n,e){let t={};return I1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dc(n,(r,i)=>{let o=yb(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function EP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof ao||n instanceof so||n instanceof $t||n instanceof Sg||n instanceof co)}function pq(n,e,t){if(!EP(t)||!s1(t)){let r=Mg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}var gq=new RegExp("[~\\*/\\[\\]]");function mq(n,e,t){if(e.search(gq)>=0)throw K0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cg(...e.split("."))._internalPath}catch{throw K0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function K0(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new q(j.INVALID_ARGUMENT,a+n+u)}var Ag=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Q0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Ug("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Q0=class extends Ag{data(){return super.data()}};function Ug(n,e){return typeof e=="string"?mq(n,e):e instanceof Cg?e._internalPath:e._delegate._internalPath}function yq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Kl=class{},Rg=class extends Kl{};function IP(n,e,...t){let r=[];e instanceof Kl&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof Y0).length,a=o.filter(u=>u instanceof Ng).length;if(s>1||s>0&&a>0)throw new q(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Ng=class n extends Rg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return DP(e._query,t),new Ts(e.firestore,e.converter,Uw(e._query,t))}_parse(e){let t=dq(e.firestore);return(function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){n1(p,h);let S=[];for(let k of p)S.push(t1(u,o,k));g={arrayValue:{values:S}}}else g=t1(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||n1(p,h),g=hq(a,s,p,h==="in"||h==="not-in");return ft.create(l,h,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function wP(n,e,t){let r=e,i=Ug("where",n);return Ng._create(i,r,t)}var Y0=class n extends Kl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:rr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)DP(s,u),s=Uw(s,u)})(e._query,t),new Ts(e.firestore,e.converter,Uw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var J0=class n extends Rg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new q(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ds(o,s)})(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new ho(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function bP(n,e="asc"){let t=e,r=Ug("orderBy",n);return J0._create(r,t)}function t1(n,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new q(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k1(e)&&t.indexOf("/")!==-1)throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ze.fromString(t));if(!Z.isDocumentKey(r))throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return EM(n,new Z(r))}if(t instanceof $t)return EM(n,t._key);throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mg(t)}.`)}function n1(n,e){if(!Array.isArray(n)||n.length===0)throw new q(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DP(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new q(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Z0=class{convertValue(e,t="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return dc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Za].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>He(s.doubleValue));return new co(o)}convertGeoPoint(e){return new ao(He(e.latitude),He(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Og(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){let t=ci(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ze.fromString(e);Qe(X1(r),9688,{name:e});let i=new cg(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return i.isEqual(t)||ai(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Es=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Is=class n extends Ag{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Qa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Ug("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Is._jsonSchemaVersion="firestore/documentSnapshot/1.0",Is._jsonSchema={type:pt("string",Is._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};var Qa=class extends Is{data(e={}){return super.data(e)}},Ya=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Es(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qa(this._firestore,this._userDataWriter,r.key,r,new Es(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Qa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Qa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:vq(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function vq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:n})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:pt("string",Ya._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};var xg=class extends Z0{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,t)}};function Bg(n,...e){var t,r,i;n=xt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||e1(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(e1(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof $t)l=Xp(n.firestore,Wl),h=ab(n._key.path),u={next:p=>{e[s]&&e[s](_q(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Xp(n,Ts);l=Xp(p.firestore,Wl),h=p._query;let g=new xg(l);u={next:y=>{e[s]&&e[s](new Ya(l,g,p,y))},error:e[s+1],complete:e[s+2]},yq(n._query)}return(function(g,y,S,k){let x=new z0(k),L=new L0(y,x,S);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Gz(yield QM(g),L)})),()=>{x.Ou(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Wz(yield QM(g),L)}))}})(cq(l),h,a,u)}function _q(n,e,t){let r=t.docs.get(e._key),i=new xg(n);return new Is(n,i,e._key,r,new Es(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){uc=i})(Wi),Xn(new Xt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Wl(new Ew(r.getProvider("auth-internal")),new bw(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new q(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cg(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),nt(cM,uM,e),nt(cM,uM,"esm2017")})();var $g=function(){return $g=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},$g.apply(this,arguments)};var wq={includeMetadataChanges:!1};function TP(n,e){return e===void 0&&(e=wq),new Y(function(t){var r=Bg(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function CP(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:$g($g({},r),(t={},t[e.idField]=n.id,t))}function SP(n){return TP(n,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function AP(n,e){return e===void 0&&(e={}),SP(n).pipe(J(function(t){return t.map(function(r){return CP(r,e)})}))}var di=class{constructor(e){return e}},RP="firestore",vb=class{constructor(){return ja(RP)}};var _b=new $("angularfire2.firestore-instances");function bq(n,e){let t=fl(RP,n,e);return t&&new di(t)}function Dq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new di(r)}}var Tq={provide:vb,deps:[[new vn,_b]]},Cq={provide:di,useFactory:bq,deps:[[new vn,_b],ti]};function NP(n,...e){return nt("angularfire",Ki.full,"fst"),mn([Cq,Tq,{provide:_b,useFactory:Dq(n),multi:!0,deps:[Re,Ze,Qi,fs,[new vn,Cl],[new vn,Ua],...e]}])}var Eb=Et(AP,!0);var hi=Et(mP,!0,2);var xP=Et(yP,!0,2);var MP=Et(vP,!0);var Cs=Et(Bg,!0);var Hg=Et(bP,!0,2),Ss=Et(IP,!0,2);var ir=Et(wP,!0,2);var fc=class n{firestore=N(di);constructor(){}getCollection(e){let t=hi(this.firestore,e);return Eb(t,{idField:"id"})}getShortlistRealtime(e){let t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59),i=hi(this.firestore,"predictions"),o=Ss(i,ir("matchDate",">=",t.toISOString()),ir("matchDate","<=",r.toISOString()),Hg("matchDate","asc"));return Eb(o,{idField:"id"}).pipe(J(s=>({report:null,predictions:s.filter(l=>l.odd!=null&&l.odd>=1.3).map(l=>{let h="UNKNOWN";return l.result==="WON"?h="WON":l.result==="LOST"&&(h="LOST"),X(F({},l),{resultStatus:h})})})))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var go=class n{firestore=N(di);firestoreService=N(fc);constructor(){}getSimulationCharacters(){return this.firestoreService.getCollection("simulation_characters")}getSimulationHistory(){let e=hi(this.firestore,"simulation_history"),t=Ss(e,Hg("month","desc"));return new Y(r=>{let i=Cs(t,o=>{let s=[];o.forEach(a=>{s.push(a.data())}),r.next(s)},o=>{r.error(o)});return()=>i()})}createRealtimeObservable(e,t){let r=Ss(e,ir("date","==",t));return new Y(i=>{let o=Cs(r,s=>{let a=[];s.forEach(u=>{a.push(F({id:u.id},u.data()))}),i.next(a)},s=>{i.error(s)});return()=>o()})}getTickets(e){let t=hi(this.firestore,"tickets");return this.createRealtimeObservable(t,e)}getMonthlyOracleTickets(e){let t=new Date;t.setDate(t.getDate()+e);let r=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth()+1,0),o=Ss(hi(this.firestore,"tickets"),ir("title","==","The Oracle's Choice"),ir("date",">=",r.toISOString().split("T")[0]),ir("date","<=",i.toISOString().split("T")[0]));return new Y(s=>{let a=Cs(o,u=>{let l=[];u.forEach(p=>{l.push(F({id:p.id},p.data()))});let h=l.sort((p,g)=>new Date(p.date).getTime()-new Date(g.date).getTime());s.next(h)},u=>{console.error("[ApiService] Error fetching monthly oracle tickets:",u),s.error(u)});return()=>a()})}getShortlist(e){let t=new Date(e.setHours(0,0,0,0)),r=new Date(e.setHours(23,59,59,999)),i=Ss(hi(this.firestore,"predictions"),ir("matchDate",">=",t.toISOString()),ir("matchDate","<=",r.toISOString()),ir("odd",">=",1.25));return new Y(o=>{let s=Cs(i,a=>{let u=a.docs.map(y=>F({id:y.id},y.data())),l=new Map;u.forEach(y=>{y.fixtureId&&y.league&&l.set(y.fixtureId,y.league)});let h=u.map(y=>!y.league&&y.fixtureId&&l.has(y.fixtureId)?X(F({},y),{league:l.get(y.fixtureId)}):y),p=[],g=new Set;for(let y of h)g.has(y.id)||(g.add(y.id),p.push(y));p.sort((y,S)=>new Date(y.matchDate).getTime()-new Date(S.matchDate).getTime()),console.log("[ApiService] Donn\xE9es brutes re\xE7ues de Firestore (Pr\xE9dictions):",p),o.next(p)});return()=>s()}).pipe(qe(o=>{if(o.length===0)return K({report:null,predictions:[]});let s=o[0].backtestExecutionId;if(!s)return K({report:null,predictions:o.map(p=>X(F({},p),{resultStatus:"UNKNOWN"}))});let a=xP(this.firestore,"prediction_reports",s),u=hi(this.firestore,`prediction_reports/${s}/results`),l=new Y(p=>{let g=Cs(a,y=>{p.next(y.exists()?F({executionId:s},y.data()):null)});return()=>g()}),h=new Y(p=>{let g=Cs(u,y=>{p.next(y.docs.map(S=>S.data()))});return()=>g()});return To([l,h]).pipe(J(([p,g])=>{let y=new Map(g.map(k=>[k.predictionId,k.result])),S=o.map(k=>{let x=y.get(k.id);return x?X(F({},k),{resultStatus:x}):p?.status==="PROCESSING"?X(F({},k),{resultStatus:"IN_PROGRESS"}):X(F({},k),{resultStatus:"UNKNOWN"})});return{report:p,predictions:S}}))}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sq=(n,e)=>({"bg-[#222] border border-[#00FF41]":n,"bg-[#111] hover:bg-[#1A1A1A]":e});function Aq(n,e){if(n&1){let t=Qt();b(0,"button",9),Ue("click",function(){let i=mt(t).$implicit,o=le();return yt(o.onSelectDay(i))}),b(1,"span",10),P(2),D(),b(3,"span",11),P(4),D()()}if(n&2){let t=e.$implicit,r=le();H("ngClass",bu(3,Sq,t===r.selectedDayOffset,t!==r.selectedDayOffset)),O(2),we(" ",t===0?"Aujourd'hui":t>0?"J+"+t:"J"+t," "),O(2),we(" ",r.getDateForOffset(t).getDate()," ")}}var zg=class n{selectedDayOffset=0;selectDay=new je;dayOffsets=Array.from({length:8},(e,t)=>t-6);getDateForOffset(e){let t=new Date;return t.setDate(t.getDate()+e),t}formatDate(e,t){if(t===0)return"Aujourd'hui";let r=e.toLocaleDateString("fr-FR",{weekday:"short"}),i=e.getDate();return`${r.charAt(0).toUpperCase()+r.slice(1)} ${i}`}onSelectDay(e){this.selectDay.emit(e)}prevDay(){this.selectedDayOffset>-6&&this.onSelectDay(this.selectedDayOffset-1)}nextDay(){this.selectedDayOffset<1&&this.onSelectDay(this.selectedDayOffset+1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-day-selector"]],inputs:{selectedDayOffset:"selectedDayOffset"},outputs:{selectDay:"selectDay"},decls:12,vars:4,consts:[[1,"mb-8"],[1,"flex","justify-between","items-center","mb-4"],[1,"p-2","rounded-full","hover:bg-[#222]","transition-colors","disabled:opacity-50",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6"],["d","m15 18-6-6 6-6"],[1,"text-xl","font-bold"],["d","m9 18 6-6-6-6"],[1,"flex","justify-center","overflow-x-auto","pb-4","space-x-2","scrollbar-hide"],["class","flex flex-col items-center justify-center min-w-[60px] h-16 rounded p-2 transition-all relative",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","justify-center","min-w-[60px]","h-16","rounded","p-2","transition-all","relative",3,"click","ngClass"],[1,"text-xs"],[1,"text-sm","font-mono"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"div",1)(2,"button",2),Ue("click",function(){return r.prevDay()}),Oe(),b(3,"svg",3),te(4,"path",4),D()(),it(),b(5,"h2",5),P(6),D(),b(7,"button",2),Ue("click",function(){return r.nextDay()}),Oe(),b(8,"svg",3),te(9,"path",6),D()()(),it(),b(10,"div",7),ce(11,Aq,5,6,"button",8),D()()),t&2&&(O(2),H("disabled",r.selectedDayOffset<=-6),O(4),we(" ",r.formatDate(r.getDateForOffset(r.selectedDayOffset),r.selectedDayOffset)," "),O(),H("disabled",r.selectedDayOffset>=1),O(4),H("ngForOf",r.dayOffsets))},dependencies:[Ae,_n,Ut],encapsulation:2})};var pc=class n{translations={"Match Odds":"R\xE9sultat du Match",home_win:"\xC9quipe \xE0 domicile gagne",away_win:"\xC9quipe \xE0 l'ext\xE9rieur gagne",draw:"Match Nul",favorite_win:"Le favori gagne",outsider_win:"L'outsider gagne",double_chance_favorite:"Double Chance (Favori ou Nul)",double_chance_outsider:"Double Chance (Outsider ou Nul)",home_draw:"Double Chance (Domicile ou Nul)",away_draw:"Double Chance (Ext\xE9rieur ou Nul)",home_away:"Double Chance (Domicile ou Ext\xE9rieur)",btts:"Les 2 \xE9quipes marquent",btts_no:"Une seule ou aucune \xE9quipe ne marque","match_over_0.5":"+0.5 buts dans le match","match_under_0.5":"-0.5 buts dans le match","match_over_1.5":"+1.5 buts dans le match","match_under_1.5":"-1.5 buts dans le match","match_over_2.5":"+2.5 buts dans le match","match_under_2.5":"-2.5 buts dans le match","match_over_3.5":"+3.5 buts dans le match","match_under_3.5":"-3.5 buts dans le match","ht_over_0.5":"+0.5 buts en 1\xE8re mi-temps","ht_under_0.5":"-0.5 buts en 1\xE8re mi-temps","ht_over_1.5":"+1.5 buts en 1\xE8re mi-temps","ht_under_1.5":"-1.5 buts en 1\xE8re mi-temps","st_over_0.5":"+0.5 buts en 2\xE8me mi-temps","st_under_0.5":"-0.5 buts en 2\xE8me mi-temps","st_over_1.5":"+1.5 buts en 2\xE8me mi-temps","st_under_1.5":"-1.5 buts en 2\xE8me mi-temps","home_over_0.5":"+0.5 buts (Domicile)","home_under_0.5":"-0.5 buts (Domicile)","home_over_1.5":"+1.5 buts (Domicile)","home_under_1.5":"-1.5 buts (Domicile)","away_over_0.5":"+0.5 buts (Ext\xE9rieur)","away_under_0.5":"-0.5 buts (Ext\xE9rieur)","away_over_1.5":"+1.5 buts (Ext\xE9rieur)","away_under_1.5":"-1.5 buts (Ext\xE9rieur)","asian_handicap_home_-0.5":"Handicap Asiatique : Domicile -0.5","asian_handicap_away_+0.5":"Handicap Asiatique : Ext\xE9rieur +0.5","asian_handicap_home_+0.5":"Handicap Asiatique : Domicile +0.5","asian_handicap_away_-0.5":"Handicap Asiatique : Ext\xE9rieur -0.5"};transform(e){return this.translations[e]||e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Yo({name:"marketTranslate",type:n,pure:!0})};var Rq=n=>({"highlight-tranche":n});function Nq(n,e){if(n&1&&(b(0,"tr",27)(1,"td"),P(2),D(),b(3,"td"),P(4),D(),b(5,"td"),P(6),D(),b(7,"td"),P(8),D()()),n&2){let t=e.$implicit,r=le().$implicit,i=le(2);H("ngClass",wu(5,Rq,i.getTrancheKey(r.score)===t)),O(2),Ie(t),O(2),Ie(r.market_performance[t].success),O(2),Ie(r.market_performance[t].total),O(2),we("",(r.market_performance[t].success/r.market_performance[t].total*100).toFixed(0),"%")}}function xq(n,e){n&1&&te(0,"hr",28)}function Mq(n,e){if(n&1&&(b(0,"div")(1,"div",7)(2,"div",8),P(3),D(),b(4,"div",9)(5,"div",10),te(6,"img",11),b(7,"span",12),P(8),D()(),b(9,"span",13),P(10,"vs"),D(),b(11,"div",10)(12,"span",12),P(13),D(),te(14,"img",11),D()(),b(15,"div",8),P(16),Yt(17,"date"),D(),b(18,"div",14)(19,"div",15),P(20),Yt(21,"marketTranslate"),D(),b(22,"div",16)(23,"span",17),P(24),D(),b(25,"span",18),P(26),D(),b(27,"span",19),P(28),D()()(),b(29,"details",20)(30,"summary",21),P(31,"Performance du march\xE9"),D(),b(32,"div",22)(33,"table",23)(34,"thead")(35,"tr",24)(36,"th"),P(37,"Tranche"),D(),b(38,"th"),P(39,"Succ\xE8s"),D(),b(40,"th"),P(41,"Total"),D(),b(42,"th"),P(43,"Taux"),D()()(),b(44,"tbody"),ce(45,Nq,9,7,"tr",25),D()()()()(),ce(46,xq,1,0,"hr",26),D()),n&2){let t=e.$implicit,r=e.last,i=le(2);O(3),Jr("",t.league==null?null:t.league.name," (",t.league==null?null:t.league.country,")"),O(3),H("alt",yf("",t.home_team==null?null:t.home_team.name," logo"))("src",t.home_team==null?null:t.home_team.logo,mu),O(2),Ie(t.home_team==null?null:t.home_team.name),O(5),Ie(t.away_team==null?null:t.away_team.name),O(),H("alt",yf("",t.away_team==null?null:t.away_team.name," logo"))("src",t.away_team==null?null:t.away_team.logo,mu),O(2),Ie(Oi(17,17,t.matchDate,"dd/MM/yyyy HH:mm")),O(4),Ie(yr(21,20,t.market)),O(4),we("@ ",t.odd==null?null:t.odd.toFixed(2)),O(2),Ie(t.bookmaker),O(2),we("Confiance: ",t.score.toFixed(0),"%"),O(17),H("ngForOf",i.objectKeys(t.market_performance)),O(),H("ngIf",!r)}}function Pq(n,e){if(n&1&&(b(0,"div",1)(1,"div",2)(2,"h3",3),P(3),D(),b(4,"div",4),P(5),D()(),b(6,"div",5),ce(7,Mq,47,22,"div",6),D()()),n&2){let t=le();O(3),we(" Cote Totale : ",t.ticket.totalOdd.toFixed(2)," "),O(2),we(" Score de Fiabilit\xE9 : ",t.compositeScore.toFixed(2)," "),O(2),H("ngForOf",t.ticket.bets)}}var qg=class n{ticket;objectKeys=Object.keys;calculateHistoricalQuality(e){if(!e)return 0;let t=["70-79","80-89","90-100"],r=0,i=0;if(t.forEach(a=>{let u=e[a]||{success:0,total:0};r+=u.success,i+=u.total}),i===0)return 0;let o=r/i,s=Math.min(1,i/50);return o*s}calculatePredictionQuality(e){let t=e.score/100,r=this.calculateHistoricalQuality(e.market_performance);return t*r}get compositeScore(){if(!this.ticket||!this.ticket.bets||this.ticket.bets.length===0)return 0;let e=this.ticket.bets.map(i=>this.calculatePredictionQuality(i));if(this.ticket.bets.length===1)return(this.ticket.bets[0].odd||0)*e[0];let t=e.reduce((i,o)=>i+o,0)/e.length,r=Math.min(...e);return this.ticket.totalOdd*t*r}getTrancheKey(e){return e>=90?"90-100":e>=80?"80-89":e>=70?"70-79":e>=60?"60-69":"0-59"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-ticket-card"]],inputs:{ticket:"ticket"},decls:1,vars:1,consts:[["class","h-full rounded-lg border border-[#222] bg-[#121212] overflow-hidden flex flex-col",4,"ngIf"],[1,"h-full","rounded-lg","border","border-[#222]","bg-[#121212]","overflow-hidden","flex","flex-col"],[1,"p-3","border-b","border-[#222]","bg-[#0F0F0F]","text-center"],[1,"font-bold","text-lg","text-[#00FF41]"],[1,"text-xs","text-gray-400"],[1,"p-4","flex-grow"],[4,"ngFor","ngForOf"],[1,"py-3"],[1,"text-xs","text-gray-400","mb-2"],[1,"flex","items-center","justify-between","mb-2"],[1,"flex","items-center","gap-2"],[1,"w-5","h-5",3,"src","alt"],[1,"font-semibold"],[1,"text-gray-500"],[1,"bg-[#0A0A0A]","p-2","rounded-md","text-center"],[1,"text-sm","text-gray-300"],[1,"flex","items-center","justify-center","gap-4"],[1,"font-mono","font-bold","text-white"],[1,"text-sm","text-gray-400"],[1,"text-sm","text-[#00FF41]"],[1,"text-xs","mt-2"],[1,"cursor-pointer","text-gray-400"],[1,"p-2","bg-[#0A0A0A]","rounded-md","mt-1"],[1,"w-full","text-left"],[1,"text-gray-300"],[3,"ngClass",4,"ngFor","ngForOf"],["class","border-[#222]",4,"ngIf"],[3,"ngClass"],[1,"border-[#222]"]],template:function(t,r){t&1&&ce(0,Pq,8,3,"div",0),t&2&&H("ngIf",r.ticket)},dependencies:[Ae,_n,Ut,vt,Mu,pc],styles:[".highlight-tranche[_ngcontent-%COMP%]{background-color:#00ff4120}"]})};function kq(n,e){if(n&1){let t=Qt();b(0,"div")(1,"button",11),Ue("click",function(){mt(t);let i=le();return yt(i.onActionClick())}),P(2),D()()}if(n&2){let t=le();O(2),we(" ",t.actionText," ")}}var gc=class n{title="Aucune Donn\xE9e";message="Il n'y a rien \xE0 afficher pour le moment.";actionText;action=new je;onActionClick(){this.action.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-empty-state"]],inputs:{title:"title",message:"message",actionText:"actionText"},outputs:{action:"action"},decls:13,vars:3,consts:[[1,"w-full","bg-[#0A0A0A]","border","border-[#333]","rounded-lg","p-8","text-center","flex","flex-col","items-center","font-mono"],[1,"mb-4","text-[#999]"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","M10 15.5c.5 0 1 .2 1.4.6"],["d","M10 13c-1.7 0-3 1.3-3 3 0 1.5 1 2.8 2.5 3"],["d","M14 18c0-1.7-1.3-3-3-3"],[1,"text-xl","font-bold","text-[#FF0000]","mb-2"],[1,"text-[#E0E0E0]","max-w-sm","mx-auto","mb-6"],[4,"ngIf"],[1,"px-6","py-2","bg-transparent","border","border-[#FF0000]","text-[#FF0000]","rounded","hover:bg-[#FF0000]","hover:bg-opacity-10","transition-colors",3,"click"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"div",1),Oe(),b(2,"svg",2),te(3,"path",3)(4,"polyline",4)(5,"path",5)(6,"path",6)(7,"path",7),D()(),it(),b(8,"h3",8),P(9),D(),b(10,"p",9),P(11),D(),ce(12,kq,3,1,"div",10),D()),t&2&&(O(9),Ie(r.title),O(2),Ie(r.message),O(),H("ngIf",r.actionText))},dependencies:[Ae,vt],encapsulation:2,changeDetection:0})};function Oq(n,e){if(n&1&&(b(0,"div",4)(1,"h2",5),P(2,"Le Choix de l'Oracle"),D(),b(3,"div",6),te(4,"app-ticket-card",7),D()()),n&2){let t=le(2);O(4),H("ticket",t.oraclesChoice)}}function Fq(n,e){if(n&1&&(b(0,"div",12),te(1,"app-ticket-card",7),D()),n&2){let t=e.$implicit;O(),H("ticket",t)}}function Lq(n,e){if(n&1&&(b(0,"div",8)(1,"h3",9),P(2,"Autres Tickets G\xE9n\xE9r\xE9s"),D(),b(3,"div",10),ce(4,Fq,2,1,"div",11),D()()),n&2){let t=le(2);O(4),H("ngForOf",t.otherTickets)}}function Vq(n,e){if(n&1&&(b(0,"div"),ce(1,Oq,5,1,"div",2)(2,Lq,5,1,"div",3),D()),n&2){let t=le();O(),H("ngIf",t.oraclesChoice),O(),H("ngIf",t.otherTickets.length>0)}}function jq(n,e){n&1&&te(0,"app-empty-state",13)}var Gg=class n{ticketsData=null;selectedDayOffset=0;get selectedDayKey(){let e=new Date;return e.setDate(e.getDate()+this.selectedDayOffset),e.toISOString().split("T")[0]}get ticketsForSelectedDay(){if(!this.ticketsData)return[];let e=this.ticketsData[this.selectedDayKey];return e?Object.values(e).flat():[]}calculateTicketScore(e){return!e.bets||e.bets.length===0?0:e.bets.reduce((r,i)=>r+i.score,0)/e.bets.length}get sortedTickets(){return this.ticketsForSelectedDay.sort((e,t)=>this.calculateTicketScore(t)-this.calculateTicketScore(e))}get oraclesChoice(){return this.sortedTickets.length>0?this.sortedTickets[0]:null}get otherTickets(){return this.sortedTickets.slice(1)}get areTicketsAvailable(){return this.ticketsForSelectedDay.length>0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-tickets-list"]],inputs:{ticketsData:"ticketsData",selectedDayOffset:"selectedDayOffset"},decls:3,vars:2,consts:[["noTickets",""],[4,"ngIf","ngIfElse"],["class","mb-8",4,"ngIf"],["class","mt-12",4,"ngIf"],[1,"mb-8"],[1,"text-2xl","font-bold","text-center","mb-4","text-green-400"],[1,"max-w-md","mx-auto"],[3,"ticket"],[1,"mt-12"],[1,"text-xl","font-bold","text-center","mb-4"],[1,"flex","flex-wrap","justify-center","gap-6"],["class","w-full max-w-md",4,"ngFor","ngForOf"],[1,"w-full","max-w-md"],["title","Aucun Ticket Trouv\xE9","message","Il n'y a aucun ticket g\xE9n\xE9r\xE9 pour ce jour. Veuillez consulter les pronostics ou essayer une autre date."]],template:function(t,r){if(t&1&&ce(0,Vq,3,2,"div",1)(1,jq,1,0,"ng-template",null,0,Rn),t&2){let i=ln(2);H("ngIf",r.areTicketsAvailable)("ngIfElse",i)}},dependencies:[Ae,Ut,vt,qg,gc],encapsulation:2})};var Uq=(n,e,t)=>({"text-[#00FF41]":n,"text-red-500":e,"text-[#888]":t}),Wg=class n{character;get progressPercentage(){return this.character.progress/this.character.goal*100}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-character-card"]],inputs:{character:"character"},decls:24,vars:20,consts:[[1,"bg-[#0F0F0F]","border","border-[#222]","rounded-lg","p-3","flex","flex-col"],[1,"flex","justify-between","items-center","mb-2"],[1,"font-bold","text-[#00FF41]"],[1,"text-xs","font-mono","text-[#888]"],[1,"w-full","h-2","bg-[#222]","rounded-full","mb-3","overflow-hidden"],[1,"h-full","bg-[#00FF41]"],[1,"text-xs","text-[#888]","mb-2"],[1,"text-[#CCC]"],[1,"flex","justify-between","items-center","mb-1"],[1,"text-xs","text-[#888]"],[1,"font-mono","font-bold"],[1,"flex","justify-between","items-center"],[1,"font-mono","font-bold",3,"ngClass"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"div",1)(2,"h3",2),P(3),D(),b(4,"span",3),P(5),D()(),b(6,"div",4),te(7,"div",5),D(),b(8,"div",6),P(9," Goal: "),b(10,"span",7),P(11),D()(),b(12,"div",8)(13,"span",9),P(14,"Current Bankroll:"),D(),b(15,"span",10),P(16),Yt(17,"number"),D()(),b(18,"div",11)(19,"span",9),P(20,"Total Performance:"),D(),b(21,"span",12),P(22),Yt(23,"number"),D()()()),t&2&&(O(3),Ie(r.character.name),O(2),Jr(" ",r.character.progress,"W / ",r.character.losses,"L "),O(2),gf("width",r.progressPercentage,"%"),O(4),we("Reach ",r.character.goal," consecutive wins"),O(5),we("",Oi(17,10,r.character.bankroll,"1.2-2"),"\u20AC"),O(5),H("ngClass",A_(16,Uq,r.character.performance>0,r.character.performance<0,r.character.performance===0)),O(),Jr(" ",r.character.performance>0?"+":"","",Oi(23,13,r.character.performance,"1.2-2"),"\u20AC "))},dependencies:[Ae,_n,X_],encapsulation:2})};function Bq(n,e){if(n&1&&(b(0,"tr",16)(1,"td",17),P(2),D(),b(3,"td",18),P(4),D(),b(5,"td",14),P(6),D(),b(7,"td",14),P(8),D()()),n&2){let t=e.$implicit;O(2),Ie(t.name),O(),H("ngClass",t.performance>0?"text-green-400":"text-red-400"),O(),we(" ",t.performance.toFixed(2)," \u20AC "),O(2),we("",t.bankroll.toFixed(2)," \u20AC"),O(2),Ie(t.losses)}}function $q(n,e){if(n&1&&(b(0,"div",7)(1,"h4",8),P(2),D(),b(3,"div",9)(4,"table",10)(5,"thead",11)(6,"tr",12)(7,"th",13),P(8,"PERSONNAGE"),D(),b(9,"th",14),P(10,"PERFORMANCE"),D(),b(11,"th",14),P(12,"BANKROLL FINALE"),D(),b(13,"th",14),P(14,"PERTES"),D()()(),b(15,"tbody"),ce(16,Bq,9,5,"tr",15),D()()()()),n&2){let t=e.$implicit;O(2),we("Mois : ",t.month),O(14),H("ngForOf",t.characters)}}function Hq(n,e){n&1&&(b(0,"div",19)(1,"p"),P(2,"Aucun historique de simulation n'a encore \xE9t\xE9 archiv\xE9."),D(),b(3,"p",20),P(4,"Le premier bilan sera disponible \xE0 la fin du mois en cours."),D()())}function zq(n,e){if(n&1&&(b(0,"div",4),ce(1,$q,17,2,"div",5)(2,Hq,5,0,"div",6),D()),n&2){let t=e.ngIf;O(),H("ngForOf",t),O(),H("ngIf",t.length===0)}}function qq(n,e){n&1&&(b(0,"div",19)(1,"p"),P(2,"Chargement des archives..."),D()())}var Kg=class n{apiService=N(go);history$;ngOnInit(){this.history$=this.apiService.getSimulationHistory()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-simulation-history"]],decls:7,vars:4,consts:[["loading",""],[1,"font-mono","text-sm","text-[#666]","p-4"],[1,"text-lg","font-bold","text-center","mb-6","text-[#00FF41]"],["class","space-y-8",4,"ngIf","ngIfElse"],[1,"space-y-8"],["class","bg-[#0A0A0A] border border-[#222] rounded-lg p-4",4,"ngFor","ngForOf"],["class","text-center p-8 text-[#666]",4,"ngIf"],[1,"bg-[#0A0A0A]","border","border-[#222]","rounded-lg","p-4"],[1,"text-base","font-bold","text-white","mb-3"],[1,"overflow-x-auto"],[1,"w-full","border-collapse","text-xs"],[1,"text-[#666]"],[1,"border-b","border-[#222]"],[1,"p-2","text-left"],[1,"p-2","text-right"],["class","border-b border-[#111]",4,"ngFor","ngForOf"],[1,"border-b","border-[#111]"],[1,"p-2","font-bold","text-white"],[1,"p-2","text-right",3,"ngClass"],[1,"text-center","p-8","text-[#666]"],[1,"text-xs","mt-2"]],template:function(t,r){if(t&1&&(b(0,"div",1)(1,"h3",2),P(2,"ARCHIVES DES PERFORMANCES MENSUELLES"),D(),ce(3,zq,3,2,"div",3),Yt(4,"async"),ce(5,qq,3,0,"ng-template",null,0,Rn),D()),t&2){let i=ln(6);O(3),H("ngIf",yr(4,2,r.history$))("ngIfElse",i)}},dependencies:[Ae,_n,Ut,vt,es],encapsulation:2})};function Gq(n,e){n&1&&(Oe(),b(0,"svg",13),te(1,"path",14),D())}function Wq(n,e){n&1&&(Oe(),b(0,"svg",13),te(1,"path",15),D())}function Kq(n,e){if(n&1){let t=Qt();b(0,"div",11),Ue("click",function(){mt(t);let i=le(3);return yt(i.toggleMatrix())}),ce(1,Gq,2,0,"svg",12)(2,Wq,2,0,"svg",12),D()}if(n&2){let t=le(3);O(),H("ngIf",!t.otherCharactersVisible),O(),H("ngIf",t.otherCharactersVisible)}}function Qq(n,e){if(n&1&&(b(0,"div",8),te(1,"app-character-card",9),ce(2,Kq,3,2,"div",10),D()),n&2){let t=e.$implicit,r=e.index,i=le().ngIf,o=le();mr("first-card-wrapper",r===0),O(),H("character",t),O(),H("ngIf",r===0&&o.isMobile&&i.length>1)}}function Yq(n,e){if(n&1&&(an(0),b(1,"div",6),ce(2,Qq,3,4,"div",7),D(),cn()),n&2){let t=e.ngIf,r=le();O(),mr("grid",!r.isMobile)("md:grid-cols-2",!r.isMobile)("lg:grid-cols-3",!r.isMobile)("xl:grid-cols-5",!r.isMobile)("gap-6",!r.isMobile)("expanded",!r.isMobile||r.otherCharactersVisible),O(),H("ngForOf",t)}}var Qg=class n{apiService=N(go);characters$;otherCharactersVisible=!1;isMobile=window.innerWidth<768;onResize(e){this.isMobile=e.target.innerWidth<768}initialCharacters=[{name:"Cypher",goal:1,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0},{name:"Morpheus",goal:2,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0},{name:"Trinity",goal:3,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0},{name:"Neo",goal:4,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0},{name:"L'Oracle",goal:5,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0}];ngOnInit(){this.characters$=this.apiService.getSimulationCharacters().pipe(J(e=>e.length>0?e:this.initialCharacters))}toggleMatrix(){this.otherCharactersVisible=!this.otherCharactersVisible}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-architects-simulator"]],hostBindings:function(t,r){t&1&&Ue("resize",function(o){return r.onResize(o)},Jv)},decls:11,vars:3,consts:[[1,"mb-8","p-4","bg-[#0A0A0A]","border","border-[#222]","rounded-lg"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-xl","font-bold","text-[#00FF41]","flex","items-center","gap-2"],[1,"text-xs","font-mono","text-[#666]"],[4,"ngIf"],[1,"border-t-2","border-dashed","border-[#222]","my-4"],[1,"cards-container"],["class","card-wrapper",3,"first-card-wrapper",4,"ngFor","ngForOf"],[1,"card-wrapper"],[3,"character"],["class","reveal-icon-container",3,"click",4,"ngIf"],[1,"reveal-icon-container",3,"click"],["class","w-8 h-8","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 15l7-7 7 7"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span",3),P(4,"[SYSTEM]"),D(),b(5,"span"),P(6,"LA SIMULATION DE L'ARCHITECTE"),D()()(),ce(7,Yq,3,13,"ng-container",4),Yt(8,"async"),te(9,"hr",5)(10,"app-simulation-history"),D()),t&2&&(O(7),H("ngIf",yr(8,1,r.characters$)))},dependencies:[Ae,Ut,vt,Wg,Kg,es],styles:[".first-card-wrapper[_ngcontent-%COMP%]{position:relative;z-index:10}.reveal-icon-container[_ngcontent-%COMP%]{position:absolute;bottom:-10px;left:50%;transform:translate(-50%);background-color:#0a0a0a;border-radius:50%;padding:2px;cursor:pointer;z-index:20;transition:transform .3s ease}.reveal-icon-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#00ff41}.reveal-icon-container[_ngcontent-%COMP%]:hover{transform:translate(-50%) scale(1.1)}.cards-container[_ngcontent-%COMP%]:not(.grid){position:relative;transition:height .7s cubic-bezier(.645,.045,.355,1);height:215px}.cards-container[_ngcontent-%COMP%]:not(.grid)   .card-wrapper[_ngcontent-%COMP%]{transition:transform .7s cubic-bezier(.645,.045,.355,1);width:100%;position:absolute;top:0;left:0}.cards-container[_ngcontent-%COMP%]:not(.grid):not(.expanded)   .card-wrapper[_ngcontent-%COMP%]:nth-child(1){z-index:10;transform:translateY(0)}.cards-container[_ngcontent-%COMP%]:not(.grid):not(.expanded)   .card-wrapper[_ngcontent-%COMP%]:nth-child(2){z-index:9;transform:translateY(4px)}.cards-container[_ngcontent-%COMP%]:not(.grid):not(.expanded)   .card-wrapper[_ngcontent-%COMP%]:nth-child(3){z-index:8;transform:translateY(8px)}.cards-container[_ngcontent-%COMP%]:not(.grid):not(.expanded)   .card-wrapper[_ngcontent-%COMP%]:nth-child(4){z-index:7;transform:translateY(12px)}.cards-container[_ngcontent-%COMP%]:not(.grid):not(.expanded)   .card-wrapper[_ngcontent-%COMP%]:nth-child(5){z-index:6;transform:translateY(16px)}.cards-container[_ngcontent-%COMP%]:not(.grid).expanded{height:950px}.cards-container[_ngcontent-%COMP%]:not(.grid).expanded   .card-wrapper[_ngcontent-%COMP%]:nth-child(1){transform:translateY(0)}.cards-container[_ngcontent-%COMP%]:not(.grid).expanded   .card-wrapper[_ngcontent-%COMP%]:nth-child(2){transform:translateY(190px)}.cards-container[_ngcontent-%COMP%]:not(.grid).expanded   .card-wrapper[_ngcontent-%COMP%]:nth-child(3){transform:translateY(380px)}.cards-container[_ngcontent-%COMP%]:not(.grid).expanded   .card-wrapper[_ngcontent-%COMP%]:nth-child(4){transform:translateY(570px)}.cards-container[_ngcontent-%COMP%]:not(.grid).expanded   .card-wrapper[_ngcontent-%COMP%]:nth-child(5){transform:translateY(760px)}"]})};var Jq=(n,e)=>({"prediction-won":n,"prediction-lost":e}),Zq=n=>({"highlight-tranche":n});function Xq(n,e){n&1&&(an(0),te(1,"div",17),b(2,"span",18),P(3,"Analyse en cours..."),D(),cn())}function e5(n,e){n&1&&(an(0),Oe(),b(1,"svg",19),te(2,"path",20),D(),it(),b(3,"span",21),P(4,"Analyse termin\xE9e"),D(),cn())}function t5(n,e){n&1&&(an(0),b(1,"span",22),P(2,"EN TEMPS R\xC9EL"),D(),cn())}function n5(n,e){n&1&&(an(0),Oe(),b(1,"svg",37),te(2,"path",20),D(),cn())}function r5(n,e){n&1&&(an(0),Oe(),b(1,"svg",38),te(2,"path",39),D(),cn())}function i5(n,e){n&1&&(an(0),te(1,"div",40),cn())}function o5(n,e){n&1&&(an(0),Oe(),b(1,"svg",41),te(2,"path",42),D(),cn())}function s5(n,e){if(n&1&&(b(0,"tr",51)(1,"td"),P(2),D(),b(3,"td"),P(4),D(),b(5,"td"),P(6),D(),b(7,"td"),P(8),D()()),n&2){let t=e.$implicit,r=le(3).$implicit,i=le(3);H("ngClass",wu(5,Zq,i.getTrancheKey(r.score)===t)),O(2),Ie(t),O(2),Ie(r.market_performance[t].success),O(2),Ie(r.market_performance[t].total),O(2),we("",(r.market_performance[t].success/r.market_performance[t].total*100).toFixed(0),"%")}}function a5(n,e){if(n&1&&(b(0,"tbody"),ce(1,s5,9,7,"tr",50),D()),n&2){let t=le(2).$implicit,r=le(3);O(),H("ngForOf",r.objectKeys(t.market_performance))}}function c5(n,e){if(n&1&&(b(0,"tr",43)(1,"td",44)(2,"div",45)(3,"h4",46),P(4,"Performance du march\xE9"),D(),b(5,"table",47)(6,"thead")(7,"tr",48)(8,"th"),P(9,"Tranche"),D(),b(10,"th"),P(11,"Succ\xE8s"),D(),b(12,"th"),P(13,"Total"),D(),b(14,"th"),P(15,"Taux"),D()()(),ce(16,a5,2,1,"tbody",49),D()()()()),n&2){let t=le().$implicit;O(16),H("ngIf",t.market_performance)}}function u5(n,e){if(n&1){let t=Qt();an(0),b(1,"tr",28),Ue("click",function(){let i=mt(t).$implicit,o=le(3);return yt(o.toggleDetails(i.id))}),b(2,"td",29)(3,"div"),P(4),D(),b(5,"div",30),P(6),D(),b(7,"div",31),P(8),Yt(9,"date"),D()(),b(10,"td",32),P(11),Yt(12,"marketTranslate"),D(),b(13,"td",29),P(14),D(),b(15,"td",29),P(16),D(),b(17,"td",33),ce(18,n5,3,0,"ng-container",9)(19,r5,3,0,"ng-container",9)(20,i5,2,0,"ng-container",9)(21,o5,3,0,"ng-container",10),D(),b(22,"td",29),Oe(),b(23,"svg",34),te(24,"path",35),D()()(),ce(25,c5,17,1,"tr",36),cn()}if(n&2){let t=e.$implicit,r=le(3);O(),H("ngClass",bu(20,Jq,t.resultStatus==="WON",t.resultStatus==="LOST")),O(3),Ie(t.matchLabel),O(2),Jr("",t.league==null?null:t.league.name," (",t.league==null?null:t.league.country,")"),O(2),Ie(Oi(9,15,t.matchDate,"dd/MM/yyyy HH:mm")),O(3),Ie(yr(12,18,t.market)),O(3),we("",t.score.toFixed(0),"%"),O(2),Ie(t.odd||"..."),O(),H("ngSwitch",t.resultStatus),O(),H("ngSwitchCase","WON"),O(),H("ngSwitchCase","LOST"),O(),H("ngSwitchCase","IN_PROGRESS"),O(3),mr("rotate-180",r.expandedPredictionId===t.id),O(2),H("ngIf",r.expandedPredictionId===t.id)}}function l5(n,e){if(n&1&&(b(0,"table",23)(1,"thead",24)(2,"tr",25)(3,"th",26),P(4,"MATCH"),D(),b(5,"th",26),P(6,"MARCH\xC9"),D(),b(7,"th",26),P(8,"CONF. ALGO"),D(),b(9,"th",26),P(10,"COTE"),D(),b(11,"th",26),P(12,"STATUT"),D(),te(13,"th",26),D()(),b(14,"tbody"),ce(15,u5,26,23,"ng-container",27),D()()),n&2){let t=le().ngIf;O(15),H("ngForOf",t.predictions)}}function d5(n,e){n&1&&(b(0,"div",52)(1,"p"),P(2,"Aucune pr\xE9diction pertinente dans la shortlist pour le moment."),D(),b(3,"p",53),P(4,"Le syst\xE8me attend les prochains matchs \xE0 analyser."),D()())}function h5(n,e){if(n&1){let t=Qt();an(0),b(1,"div",6)(2,"div")(3,"h3",7),P(4," PREDICTIONS - PR\xC9DICTIONS PERTINENTES "),D(),b(5,"div",8),ce(6,Xq,4,0,"ng-container",9)(7,e5,5,0,"ng-container",9)(8,t5,3,0,"ng-container",10),D()(),b(9,"button",11),Ue("click",function(){mt(t);let i=le();return yt(i.onClose())}),Oe(),b(10,"svg",12),te(11,"line",13)(12,"line",14),D()()(),it(),b(13,"div",15),ce(14,l5,16,1,"table",16)(15,d5,5,0,"ng-template",null,1,Rn),D(),cn()}if(n&2){let t=e.ngIf,r=ln(16);O(5),H("ngSwitch",t.report==null?null:t.report.status),O(),H("ngSwitchCase","PROCESSING"),O(),H("ngSwitchCase","COMPLETED"),O(7),H("ngIf",t.predictions.length>0)("ngIfElse",r)}}function f5(n,e){n&1&&(b(0,"div",52)(1,"p"),P(2,"Chargement du flux de donn\xE9es..."),D()())}var Yg=class n{selectedDayOffset=0;close=new je;firestoreService=N(fc);shortlist$;expandedPredictionId=null;objectKeys=Object.keys;ngOnInit(){let e=new Date;e.setDate(e.getDate()+this.selectedDayOffset),this.shortlist$=this.firestoreService.getShortlistRealtime(e).pipe(J(t=>{if(!t||!t.predictions)return t;let r=new Map;for(let o of t.predictions)o.market&&o.market_performance&&Object.keys(o.market_performance).length>0&&(r.has(o.market)||r.set(o.market,o.market_performance));let i=t.predictions.map(o=>{if(o.market&&(!o.market_performance||Object.keys(o.market_performance).length===0)){let s=r.get(o.market);if(s)return X(F({},o),{market_performance:s})}return o});return X(F({},t),{predictions:i})}))}onClose(){this.close.emit()}toggleDetails(e){this.expandedPredictionId===e?this.expandedPredictionId=null:this.expandedPredictionId=e}getTrancheKey(e){return e>=90?"90-100":e>=80?"80-89":e>=70?"70-79":e>=60?"60-69":"0-59"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-raw-data-flow"]],inputs:{selectedDayOffset:"selectedDayOffset"},outputs:{close:"close"},decls:7,vars:4,consts:[["loading",""],["empty",""],[1,"fixed","inset-0","bg-black","bg-opacity-90","backdrop-blur-sm","flex","items-center","justify-center","z-50","p-4"],[1,"max-w-4xl","w-full","bg-[#080808]","border","border-[#222]","rounded-lg","overflow-hidden","relative"],[1,"scanline-effect"],[4,"ngIf","ngIfElse"],[1,"flex","items-center","justify-between","p-4","border-b","border-[#222]","bg-[#0A0A0A]","relative","z-10"],[1,"text-sm","font-mono","text-[#666]"],[1,"flex","items-center","gap-2","font-mono","text-xs",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"p-2","hover:bg-[#111]","rounded-full","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"p-2","max-h-[70vh]","overflow-y-auto","relative","z-10"],["class","w-full border-collapse font-mono text-xs",4,"ngIf","ngIfElse"],[1,"spinner"],[1,"text-orange-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-green-400"],[1,"text-[#00FF41]"],[1,"w-full","border-collapse","font-mono","text-xs"],[1,"text-[#666]"],[1,"border-b","border-[#222]"],[1,"p-2","text-left"],[4,"ngFor","ngForOf"],[1,"border-b","border-[#111]","hover:bg-[#0A0A0A]","cursor-pointer",3,"click","ngClass"],[1,"p-2"],[1,"text-xs","text-gray-400"],[1,"text-gray-500","text-xs"],[1,"p-2","text-[#00FF41]"],[1,"p-2",3,"ngSwitch"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-400","transition-transform","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","bg-[#0A0A0A]",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-green-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"spinner","spinner-sm"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4c0-1.105.448-2.09 1.172-2.828M12 18v.01"],[1,"bg-[#0A0A0A]"],["colspan","6",1,"p-2"],[1,"p-2","bg-[#0A0A0A]","rounded-md","mt-1"],[1,"text-gray-400","text-xs","mb-2"],[1,"w-full","text-left"],[1,"text-gray-300"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"text-center","p-8","text-[#666]"],[1,"text-xs","mt-2"]],template:function(t,r){if(t&1&&(b(0,"div",2)(1,"div",3),te(2,"div",4),ce(3,h5,17,5,"ng-container",5),Yt(4,"async"),ce(5,f5,3,0,"ng-template",null,0,Rn),D()()),t&2){let i=ln(6);O(3),H("ngIf",yr(4,2,r.shortlist$))("ngIfElse",i)}},dependencies:[Ae,_n,Ut,vt,xu,Y_,J_,es,Mu,pc],styles:[".spinner[_ngcontent-%COMP%]{border:2px solid rgba(243,243,243,.1882352941);border-top:2px solid #orange;border-radius:50%;width:16px;height:16px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.spinner-sm[_ngcontent-%COMP%]{width:12px;height:12px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.highlight-tranche[_ngcontent-%COMP%]{background-color:#00ff4120}tr.prediction-won[_ngcontent-%COMP%]{background-color:#03dac61a}tr.prediction-won[_ngcontent-%COMP%]:hover{background-color:#03dac626}tr.prediction-lost[_ngcontent-%COMP%]{background-color:#cf66791a}tr.prediction-lost[_ngcontent-%COMP%]:hover{background-color:#cf667926}"]})};function p5(n,e){n&1&&(b(0,"div",7)(1,"p",8),P(2,"Chargement des donn\xE9es..."),D()())}function g5(n,e){if(n&1&&(b(0,"div",9),Oe(),b(1,"svg",10),te(2,"path",11)(3,"line",12)(4,"line",13),D(),it(),b(5,"h3",14),P(6),D(),b(7,"p",15),P(8),D()()),n&2){let t=le();O(6),Ie(t.error.title),O(2),Ie(t.error.message)}}function m5(n,e){if(n&1&&(b(0,"div"),te(1,"app-tickets-list",24),D()),n&2){let t=le(2);O(),H("ticketsData",t.ticketsData)("selectedDayOffset",t.selectedDayOffset)}}function y5(n,e){n&1&&te(0,"app-empty-state",25)}function v5(n,e){if(n&1){let t=Qt();b(0,"div")(1,"div",16)(2,"div",17)(3,"div")(4,"div",18),P(5," FIABILIT\xC9 DU SIGNAL (7J) "),D(),b(6,"div",19),P(7),D()(),b(8,"button",20),Ue("click",function(){mt(t);let i=le();return yt(i.openRawData())}),b(9,"span"),P(10,"<>"),D(),b(11,"span"),P(12,"VOIR LE FLUX COMPLET"),D()()()(),b(13,"h2",21)(14,"span",22),P(15,"[MATRICE]"),D(),b(16,"span"),P(17,"LE PROGRAMME DU JOUR"),D()(),ce(18,m5,2,2,"div",23)(19,y5,1,0,"ng-template",null,0,Rn),D()}if(n&2){let t=ln(20),r=le();O(7),we(" ",r.sevenDayRate,"% "),O(11),H("ngIf",r.objectKeys(r.ticketsData).length>0)("ngIfElse",t)}}function _5(n,e){if(n&1){let t=Qt();b(0,"app-raw-data-flow",26),Ue("close",function(){mt(t);let i=le();return yt(i.closeRawData())}),D()}if(n&2){let t=le();H("selectedDayOffset",t.selectedDayOffset)}}var Jg=class n{ticketsData={};isLoading=!0;error=null;selectedDayOffset=0;sevenDayRate=0;historicalTickets=[];showRawData=!1;apiService=N(go);objectKeys=Object.keys;ngOnInit(){this.loadDataForDate(this.getDateFromOffset(this.selectedDayOffset))}openRawData(){this.showRawData=!0}closeRawData(){this.showRawData=!1}loadDataForDate(e){console.log(`[Dashboard] Chargement des donn\xE9es pour la date : ${e}`),this.isLoading=!0,this.error=null,this.ticketsData={},this.apiService.getTickets(e).pipe(jn(t=>(t.status!==404&&(console.error("Erreur API (Tickets):",t),this.error||(this.error={title:"Signal Interrompu",message:"Impossible de mat\xE9rialiser les tickets. Le signal vers le Mainframe est perdu."})),K([]))),ct(()=>{this.error&&(this.isLoading=!1)})).subscribe(t=>{if(t&&t.length>0){let r={};(t||[]).forEach(i=>{r[i.title]||(r[i.title]=[]),r[i.title].push(i)}),this.ticketsData={[e]:r}}else this.ticketsData={};this.isLoading=!1})}handleDaySelect(e){this.selectedDayOffset=e,this.loadDataForDate(this.getDateFromOffset(e))}getDateFromOffset(e){let t=new Date;return t.setDate(t.getDate()+e),t.toISOString().split("T")[0]}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-dashboard"]],decls:7,vars:5,consts:[["noTickets",""],[1,"container","mx-auto","p-4"],[3,"selectDay","selectedDayOffset"],["class","text-center mt-8",4,"ngIf"],["class","w-full bg-[#0A0A0A] border border-[#FF0000] rounded-lg p-8 text-center flex flex-col items-center font-mono mt-8",4,"ngIf"],[4,"ngIf"],[3,"selectedDayOffset","close",4,"ngIf"],[1,"text-center","mt-8"],[1,"text-lg"],[1,"w-full","bg-[#0A0A0A]","border","border-[#FF0000]","rounded-lg","p-8","text-center","flex","flex-col","items-center","font-mono","mt-8"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round",1,"text-[#FF0000]","mb-4"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"text-2xl","font-bold","text-[#FF0000]","mb-2"],[1,"text-[#E0E0E0]","max-w-md","mx-auto"],[1,"mb-6","p-4","bg-[#0A0A0A]","border","border-[#222]","rounded-lg","relative","overflow-hidden"],[1,"relative","z-10","flex","items-center","justify-between"],[1,"text-xs","text-[#888]","mb-1","font-mono"],[1,"text-2xl","font-bold","font-mono","text-[#00FF41]"],[1,"text-xs","font-mono","text-[#888]","hover:text-[#00FF41]","transition-colors","border","border-[#333]","px-3","py-1","rounded","flex","items-center","gap-1",3,"click"],[1,"text-xl","font-bold","text-[#00FF41]","mb-4","flex","items-center","gap-2"],[1,"text-xs","font-mono","text-[#666]"],[4,"ngIf","ngIfElse"],[3,"ticketsData","selectedDayOffset"],["title","Aucun Ticket Trouv\xE9","message","Aucun ticket n'a \xE9t\xE9 g\xE9n\xE9r\xE9 pour cette date. Le silence de la Matrice est parfois un pr\xE9sage."],[3,"close","selectedDayOffset"]],template:function(t,r){t&1&&(b(0,"div",1)(1,"app-day-selector",2),Ue("selectDay",function(o){return r.handleDaySelect(o)}),D(),te(2,"app-architects-simulator"),ce(3,p5,3,0,"div",3)(4,g5,9,2,"div",4)(5,v5,21,3,"div",5),D(),ce(6,_5,1,1,"app-raw-data-flow",6)),t&2&&(O(),H("selectedDayOffset",r.selectedDayOffset),O(2),H("ngIf",r.isLoading),O(),H("ngIf",r.error),O(),H("ngIf",!r.isLoading&&!r.error),O(),H("ngIf",r.showRawData))},dependencies:[Ae,vt,sl,zg,Gg,Qg,gc,Yg],encapsulation:2})};var Zg=class n{userEmail="neo@oracle.com";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-user-info"]],decls:10,vars:1,consts:[[1,"flex","items-center","gap-2","mb-2"],[1,"text-sm","text-[#888]"],[1,"flex","items-center","gap-2","p-3","bg-[#0A0A0A]","rounded","border","border-[#222]"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-[#666]"],["cx","12","cy","12","r","4"],["d","M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"],[1,"font-mono"]],template:function(t,r){t&1&&(sn(0,"div")(1,"div",0)(2,"span",1),P(3,"Adresse email"),Wn()(),sn(4,"div",2),Oe(),sn(5,"svg",3),Zo(6,"circle",4)(7,"path",5),Wn(),it(),sn(8,"span",6),P(9),Wn()()()),t&2&&(O(9),Ie(r.userEmail))},dependencies:[Ae],encapsulation:2})};var Xg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-change-password"]],decls:12,vars:0,consts:[[1,"mb-4"],["for","new-password",1,"block","text-sm","text-[#888]","mb-2"],[1,"relative"],["type","password","id","new-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","bg-[#0A0A0A]","border","border-[#222]","rounded","p-3","font-mono","text-[#E0E0E0]","focus:outline-none","focus:border-[#00FF41]"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-[#666]"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],[1,"px-4","py-2","bg-[#00FF41]","text-black","font-bold","rounded","hover:bg-opacity-90","transition-colors"]],template:function(t,r){t&1&&(sn(0,"div")(1,"div",0)(2,"label",1),P(3," Nouveau mot de passe "),Wn(),sn(4,"div",2),Zo(5,"input",3),sn(6,"div",4),Oe(),sn(7,"svg",5),Zo(8,"rect",6)(9,"path",7),Wn()()()(),it(),sn(10,"button",8),P(11," Mettre \xE0 jour "),Wn()())},dependencies:[Ae],encapsulation:2})};function E5(n,e){if(n&1&&(b(0,"div",10)(1,"div")(2,"div",11),P(3),D(),b(4,"div",12),P(5),D()(),b(6,"button",13),Oe(),b(7,"svg",14),te(8,"path",15)(9,"polyline",16)(10,"line",17),D(),it(),b(11,"span",18),P(12,"T\xE9l\xE9charger"),D()()()),n&2){let t=e.$implicit;O(3),we("Facture - ",t.date),O(2),Ie(t.amount)}}function I5(n,e){if(n&1&&(b(0,"div")(1,"h3",4),P(2,"Historique des factures"),D(),b(3,"div",5),ce(4,E5,13,2,"div",6),D(),b(5,"div",7)(6,"div",8)(7,"button",9),P(8," Annuler l'abonnement "),D()()()()),n&2){let t=le();O(4),H("ngForOf",t.mockInvoices)}}function w5(n,e){n&1&&(b(0,"div",19),Oe(),b(1,"svg",20),te(2,"polygon",21),D(),it(),b(3,"h3",22),P(4," Passez \xE0 la vitesse sup\xE9rieure "),D(),b(5,"p",23),P(6," Acc\xE9dez aux pr\xE9dictions futures et d\xE9bloquez tout le potentiel de l'Oracle. "),D(),b(7,"button",24),P(8," Passer Premium "),D()())}var em=class n{isPremium=!1;mockInvoices=[{id:1,date:"Ao\xFBt 2023",amount:"9.99\u20AC"},{id:2,date:"Juillet 2023",amount:"9.99\u20AC"},{id:3,date:"Juin 2023",amount:"9.99\u20AC"}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-subscription-manager"]],inputs:{isPremium:"isPremium"},decls:7,vars:4,consts:[["freeUserView",""],[1,"inline-block","px-3","py-1","rounded-full","mb-6",3,"ngClass"],[1,"font-mono","text-sm"],[4,"ngIf","ngIfElse"],[1,"text-lg","font-bold","mb-3"],[1,"space-y-2"],["class","flex justify-between items-center p-3 bg-[#0A0A0A] rounded border border-[#222]",4,"ngFor","ngForOf"],[1,"mt-6","p-4","border","border-[#333]","border-dashed","rounded","bg-[#0F0F0F]"],[1,"text-center"],[1,"px-4","py-2","bg-[#333]","text-[#E0E0E0]","rounded","hover:bg-[#444]","transition-colors"],[1,"flex","justify-between","items-center","p-3","bg-[#0A0A0A]","rounded","border","border-[#222]"],[1,"font-medium"],[1,"text-sm","text-[#888]"],[1,"flex","items-center","gap-1","px-3","py-1","bg-[#222]","hover:bg-[#333]","rounded","transition-colors"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[1,"text-sm"],[1,"p-6","border","border-[#333]","border-dashed","rounded","bg-[#0F0F0F]","text-center"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-[#00FF41]","mx-auto","mb-3"],["points","13 2 3 14 12 14 11 22 21 10 12 10 13 2"],[1,"text-xl","font-bold","mb-2"],[1,"mb-4","text-[#888]"],[1,"px-6","py-3","bg-[#00FF41]","text-black","font-bold","rounded","hover:bg-opacity-90","transition-colors"]],template:function(t,r){if(t&1&&(b(0,"div")(1,"div",1)(2,"span",2),P(3),D()(),ce(4,I5,9,1,"div",3)(5,w5,9,0,"ng-template",null,0,Rn),D()),t&2){let i=ln(6);O(),H("ngClass",r.isPremium?"bg-[#0A2A0A] text-[#00FF41]":"bg-[#1A1A1A] text-[#888]"),O(2),we(" Abonnement: ",r.isPremium?"Premium":"Gratuit"," "),O(),H("ngIf",r.isPremium)("ngIfElse",i)}},dependencies:[Ae,_n,Ut,vt],encapsulation:2})};var tm=class n{isPremium=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-profile-page"]],inputs:{isPremium:"isPremium"},decls:30,vars:1,consts:[[1,"container","mx-auto","p-4","max-w-3xl"],[1,"flex","items-center","mb-6"],["routerLink","/",1,"p-2","rounded-full","hover:bg-[#222]","transition-colors","mr-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","19","y1","12","x2","5","y2","12"],["points","12 19 5 12 12 5"],[1,"text-2xl","font-bold","text-[#00FF41]"],[1,"space-y-8"],[1,"bg-[#121212]","border","border-[#222]","rounded-lg","p-6"],[1,"text-xl","font-bold","mb-4","flex","items-center","gap-2"],[1,"text-xs","font-mono","text-[#666]"],[3,"isPremium"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"div",1)(2,"a",2),Oe(),b(3,"svg",3),te(4,"line",4)(5,"polyline",5),D()(),it(),b(6,"h1",6),P(7,"Mon Profil"),D()(),b(8,"div",7)(9,"section",8)(10,"h2",9)(11,"span",10),P(12,"[SYSTEM]"),D(),b(13,"span"),P(14,"Informations"),D()(),te(15,"app-user-info"),D(),b(16,"section",8)(17,"h2",9)(18,"span",10),P(19,"[SECURE]"),D(),b(20,"span"),P(21,"S\xE9curit\xE9"),D()(),te(22,"app-change-password"),D(),b(23,"section",8)(24,"h2",9)(25,"span",10),P(26,"[ACCESS]"),D(),b(27,"span"),P(28,"Abonnement & Facturation"),D()(),te(29,"app-subscription-manager",11),D()()()),t&2&&(O(29),H("isPremium",r.isPremium))},dependencies:[Ae,sl,yp,Zg,Xg,em],encapsulation:2})};var BP=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ie(Kr),ie(pr))};static \u0275dir=Ke({type:n})}return n})(),b5=(()=>{class n extends BP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ko(n)))(i||n)}})();static \u0275dir=Ke({type:n,features:[gr]})}return n})(),$P=new $("");var D5={provide:$P,useExisting:Hr(()=>um),multi:!0};function T5(){let n=Nn()?Nn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var C5=new $(""),um=(()=>{class n extends BP{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!T5())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ie(Kr),ie(pr),ie(C5,8))};static \u0275dir=Ke({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ue("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ma([D5]),gr]})}return n})();function S5(n){return n==null||A5(n)===0}function A5(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Db=new $(""),HP=new $("");function R5(n){return S5(n.value)?{required:!0}:null}function PP(n){return null}function zP(n){return n!=null}function qP(n){return Yr(n)?ke(n):n}function GP(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function WP(n,e){return e.map(t=>t(n))}function N5(n){return!n.validate}function KP(n){return n.map(e=>N5(e)?e:t=>e.validate(t))}function x5(n){if(!n)return null;let e=n.filter(zP);return e.length==0?null:function(t){return GP(WP(t,e))}}function Tb(n){return n!=null?x5(KP(n)):null}function M5(n){if(!n)return null;let e=n.filter(zP);return e.length==0?null:function(t){let r=WP(t,e).map(qP);return sy(r).pipe(J(GP))}}function Cb(n){return n!=null?M5(KP(n)):null}function kP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function P5(n){return n._rawValidators}function k5(n){return n._rawAsyncValidators}function Ib(n){return n?Array.isArray(n)?n:[n]:[]}function rm(n,e){return Array.isArray(n)?n.includes(e):n===e}function OP(n,e){let t=Ib(e);return Ib(n).forEach(i=>{rm(t,i)||t.push(i)}),t}function FP(n,e){return Ib(e).filter(t=>!rm(n,t))}var im=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Tb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},vc=class extends im{name;get formDirective(){return null}get path(){return null}},rd=class extends im{_parent=null;name=null;valueAccessor=null},om=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},O5={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Phe=X(F({},O5),{"[class.ng-submitted]":"isSubmitted"}),QP=(()=>{class n extends om{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ie(rd,2))};static \u0275dir=Ke({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&mr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[gr]})}return n})(),YP=(()=>{class n extends om{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ie(vc,10))};static \u0275dir=Ke({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&mr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[gr]})}return n})();var Zl="VALID",nm="INVALID",mc="PENDING",Xl="DISABLED",mo=class{},sm=class extends mo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},td=class extends mo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},nd=class extends mo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},yc=class extends mo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},wb=class extends mo{source;constructor(e){super(),this.source=e}},bb=class extends mo{source;constructor(e){super(),this.source=e}};function JP(n){return(lm(n)?n.validators:n)||null}function F5(n){return Array.isArray(n)?Tb(n):n||null}function ZP(n,e){return(lm(e)?e.asyncValidators:n)||null}function L5(n){return Array.isArray(n)?Cb(n):n||null}function lm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function V5(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[t])throw new U(1001,"")}function j5(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new U(1002,"")})}var am=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ut(this.statusReactive)}set status(e){ut(()=>this.statusReactive.set(e))}_status=va(()=>this.statusReactive());statusReactive=on(void 0);get valid(){return this.status===Zl}get invalid(){return this.status===nm}get pending(){return this.status==mc}get disabled(){return this.status===Xl}get enabled(){return this.status!==Xl}errors;get pristine(){return ut(this.pristineReactive)}set pristine(e){ut(()=>this.pristineReactive.set(e))}_pristine=va(()=>this.pristineReactive());pristineReactive=on(!0);get dirty(){return!this.pristine}get touched(){return ut(this.touchedReactive)}set touched(e){ut(()=>this.touchedReactive.set(e))}_touched=va(()=>this.touchedReactive());touchedReactive=on(!1);get untouched(){return!this.touched}_events=new st;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(OP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(OP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FP(e,this._rawAsyncValidators))}hasValidator(e){return rm(this._rawValidators,e)}hasAsyncValidator(e){return rm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(X(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new nd(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new nd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(X(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new td(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new td(!0,r))}markAsPending(e={}){this.status=mc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(X(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xl,this.errors=null,this._forEachChild(i=>{i.disable(X(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sm(this.value,r)),this._events.next(new yc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zl,this._forEachChild(r=>{r.enable(X(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zl||this.status===mc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sm(this.value,t)),this._events.next(new yc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(X(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xl:Zl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=mc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=qP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new yc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?Xl:this.errors?nm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mc)?mc:this._anyControlsHaveStatus(nm)?nm:Zl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new td(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new nd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=F5(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=L5(this._rawAsyncValidators)}},cm=class extends am{constructor(e,t,r){super(JP(t),ZP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){j5(this,!0,e),Object.keys(e).forEach(r=>{V5(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Sb=new $("",{providedIn:"root",factory:()=>Ab}),Ab="always";function U5(n,e){return[...e.path,n]}function XP(n,e,t=Ab){ek(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),$5(n,e),z5(n,e),H5(n,e),B5(n,e)}function LP(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function B5(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function ek(n,e){let t=P5(n);e.validator!==null?n.setValidators(kP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=k5(n);e.asyncValidator!==null?n.setAsyncValidators(kP(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();LP(e._rawValidators,i),LP(e._rawAsyncValidators,i)}function $5(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&tk(n,e)})}function H5(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&tk(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function tk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function z5(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function q5(n,e){n==null,ek(n,e)}function G5(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function W5(n){return Object.getPrototypeOf(n.constructor)===b5}function K5(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Q5(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===um?t=o:W5(o)?r=o:i=o}),i||r||t||null}var Y5={provide:vc,useExisting:Hr(()=>Rb)},ed=Promise.resolve(),Rb=(()=>{class n extends vc{callSetDisabledState;get submitted(){return ut(this.submittedReactive)}_submitted=va(()=>this.submittedReactive());submittedReactive=on(!1);_directives=new Set;form;ngSubmit=new je;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new cm({},Tb(t),Cb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ed.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),XP(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ed.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ed.then(()=>{let r=this._findContainer(t.path),i=new cm({});q5(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ed.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ed.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),K5(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new wb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new bb(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(ie(Db,10),ie(HP,10),ie(Sb,8))};static \u0275dir=Ke({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ue("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ma([Y5]),gr]})}return n})();function VP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function jP(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var J5=class extends am{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(JP(t),ZP(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(jP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){jP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Z5={provide:rd,useExisting:Hr(()=>Nb)},UP=Promise.resolve(),Nb=(()=>{class n extends rd{_changeDetectorRef;callSetDisabledState;control=new J5;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new je;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Q5(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),G5(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){XP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){UP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Li(r);UP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?U5(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ie(vc,9),ie(Db,10),ie(HP,10),ie($P,10),ie(Fi,8),ie(Sb,8))};static \u0275dir=Ke({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ma([Z5]),gr,Wr]})}return n})();var nk=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ke({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var X5=(()=>{class n{_validator=PP;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):PP,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ke({type:n,features:[Wr]})}return n})();var e8={provide:Db,useExisting:Hr(()=>xb),multi:!0};var xb=(()=>{class n extends X5{required;inputName="required";normalizeInput=Li;createValidator=t=>R5;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ko(n)))(i||n)}})();static \u0275dir=Ke({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ga("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ma([e8]),gr]})}return n})();var t8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gn({type:n});static \u0275inj=bn({})}return n})();var rk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Sb,useValue:t.callSetDisabledState??Ab}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gn({type:n});static \u0275inj=bn({imports:[t8]})}return n})();var dm=class n{auth=N(tr);user$=Wp(this.auth);register({email:e,password:t}){return tM(this.auth,e,t)}login({email:e,password:t}){return iM(this.auth,e,t)}logout(){return oM(this.auth)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function r8(n,e){if(n&1&&(b(0,"div",15),P(1),D()),n&2){let t=le();O(),we(" ",t.error," ")}}var hm=class n{email="";password="";isLoading=!1;error=null;authService=N(dm);router=N(kn);handleRegister(){return _(this,null,function*(){this.isLoading=!0,this.error=null;try{yield this.authService.register({email:this.email,password:this.password}),this.router.navigate(["/"])}catch(e){this.error=this.getFirebaseErrorMessage(e.code)}this.isLoading=!1})}handleLogin(){return _(this,null,function*(){this.isLoading=!0,this.error=null;try{yield this.authService.login({email:this.email,password:this.password}),this.router.navigate(["/"])}catch(e){this.error=this.getFirebaseErrorMessage(e.code)}this.isLoading=!1})}getFirebaseErrorMessage(e){switch(e){case"auth/invalid-email":return"Adresse email invalide.";case"auth/user-not-found":case"auth/wrong-password":return"Email ou mot de passe incorrect.";case"auth/email-already-in-use":return"Cette adresse email est d\xE9j\xE0 utilis\xE9e.";case"auth/weak-password":return"Le mot de passe doit contenir au moins 6 caract\xE8res.";default:return"Une erreur est survenue. Veuillez r\xE9essayer."}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-login-page"]],decls:23,vars:7,consts:[["loginForm","ngForm"],[1,"flex","items-center","justify-center","min-h-screen","bg-[#0A0A0A]"],[1,"max-w-md","w-full","bg-[#121212]","border","border-[#222]","rounded-lg","p-8","space-y-6"],[1,"text-center"],[1,"text-3xl","font-bold","text-[#00FF41]"],[1,"text-[#888]","mt-2"],[1,"space-y-6",3,"ngSubmit"],["for","email",1,"block","text-sm","text-[#888]","mb-2"],["type","email","id","email","name","email","required","","placeholder","neo@oracle.com",1,"w-full","bg-[#0A0A0A]","border","border-[#222]","rounded","p-3","font-mono","text-[#E0E0E0]","focus:outline-none","focus:border-[#00FF41]",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","text-[#888]","mb-2"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","bg-[#0A0A0A]","border","border-[#222]","rounded","p-3","font-mono","text-[#E0E0E0]","focus:outline-none","focus:border-[#00FF41]",3,"ngModelChange","ngModel"],["class","text-center p-3 bg-[#2A0A0A] text-red-500 border border-red-500 rounded-md",4,"ngIf"],[1,"flex","flex-col","gap-4"],["type","submit",1,"w-full","py-3","bg-[#00FF41]","text-black","font-bold","rounded","hover:bg-opacity-90","transition-colors","disabled:bg-opacity-50","disabled:cursor-not-allowed",3,"disabled"],["type","button",1,"w-full","py-3","bg-transparent","border","border-[#333]","text-[#CCC]","rounded","hover:bg-[#1A1A1A]","transition-colors","disabled:bg-opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"text-center","p-3","bg-[#2A0A0A]","text-red-500","border","border-red-500","rounded-md"]],template:function(t,r){if(t&1){let i=Qt();b(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),P(4,"The Oracle"),D(),b(5,"p",5),P(6,"Connectez-vous pour acc\xE9der au signal."),D()(),b(7,"form",6,0),Ue("ngSubmit",function(){return mt(i),yt(r.handleLogin())}),b(9,"div")(10,"label",7),P(11,"Email"),D(),b(12,"input",8),Iu("ngModelChange",function(s){return mt(i),mf(r.email,s)||(r.email=s),yt(s)}),D()(),b(13,"div")(14,"label",9),P(15,"Mot de passe"),D(),b(16,"input",10),Iu("ngModelChange",function(s){return mt(i),mf(r.password,s)||(r.password=s),yt(s)}),D()(),ce(17,r8,2,1,"div",11),b(18,"div",12)(19,"button",13),P(20),D(),b(21,"button",14),Ue("click",function(){return mt(i),yt(r.handleRegister())}),P(22),D()()()()()}if(t&2){let i=ln(8);O(12),Eu("ngModel",r.email),O(4),Eu("ngModel",r.password),O(),H("ngIf",r.error),O(2),H("disabled",r.isLoading||i.invalid),O(),we(" ",r.isLoading?"Connexion...":"Se Connecter"," "),O(),H("disabled",r.isLoading||i.invalid),O(),we(" ",r.isLoading?"Inscription...":"S'inscrire"," ")}},dependencies:[Ae,vt,rk,nk,um,QP,YP,xb,Nb,Rb],encapsulation:2})};var ik=[{path:"",component:Jg},{path:"profile",component:tm},{path:"login",component:hm}];var ok=(n,e)=>{let t=N(tr);return Wp(t).pipe(qe(i=>i?ke(i.getIdToken()).pipe(qe(o=>{let s=n.clone({setHeaders:{Authorization:`Bearer ${o}`}});return e(s)})):e(n)))};var sk={apiKey:"AIzaSyA5YxEbydvA-dfUU7XSCQr3f-kfiPEPgqE",authDomain:"oracle-prediction-firebase.firebaseapp.com",projectId:"oracle-prediction-firebase",storageBucket:"oracle-prediction-firebase.firebasestorage.app",messagingSenderId:"598567861145",appId:"1:598567861145:web:4ad609fca34d002777f108"};var ak={providers:[HE(ik),pE(gE([ok])),zN(()=>qN(sk)),eM(()=>nM()),NP(()=>MP())]};var fm=class n{title=on("frontend-angular");auth=N(tr);ngOnInit(){rM(this.auth).then(()=>{console.log("Connexion anonyme r\xE9ussie.")}).catch(e=>{console.error("Erreur de connexion anonyme:",e)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"construction-banner"],[1,"banner-text"],[1,"blinking-cursor"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"p",1),P(2," [SYSTEM_ALERT] SITE EN COURS DE CONSTRUCTION // ACC\xC8S ANTICIP\xC9 GRATUIT // OFFRE DE LANCEMENT \xC0 VENIR : 30\u20AC/MOIS "),b(3,"span",2),P(4,"|"),D()()(),te(5,"router-outlet"))},dependencies:[Ae,tl],styles:[".construction-banner[_ngcontent-%COMP%]{background-color:#0a0a0a;border-bottom:1px solid #00FF41;padding:.75rem 1rem;text-align:center;font-family:Courier New,Courier,monospace}.banner-text[_ngcontent-%COMP%]{color:#00ff41;font-size:.9rem;text-transform:uppercase;margin:0}.blinking-cursor[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 1s step-end infinite}@keyframes _ngcontent-%COMP%_blink{0%,to{opacity:1}50%{opacity:0}}"]})};uE(fm,ak).catch(n=>console.error(n));
