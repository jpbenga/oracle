var fO=Object.defineProperty,pO=Object.defineProperties;var mO=Object.getOwnPropertyDescriptors;var tD=Object.getOwnPropertySymbols,gO=Object.getPrototypeOf,yO=Object.prototype.hasOwnProperty,vO=Object.prototype.propertyIsEnumerable,_O=Reflect.get;var nD=(n,e,t)=>e in n?fO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})yO.call(e,t)&&nD(n,t,e[t]);if(tD)for(var t of tD(e))vO.call(e,t)&&nD(n,t,e[t]);return n},ee=(n,e)=>pO(n,mO(e));var Ti=(n,e,t)=>_O(gO(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var Jg;function Dd(){return Jg}function ur(n){let e=Jg;return Jg=n,e}var rD=Symbol("NotFound");function ks(n){return n===rD||n?.name==="\u0275NotFound"}function Nd(n,e){return Object.is(n,e)}var Bt=null,Cd=!1,Zg=1,EO=null,$t=Symbol("SIGNAL");function pe(n){let e=Bt;return Bt=n,e}function xd(){return Bt}var Os={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Fs(n){if(Cd)throw new Error("");if(Bt===null)return;Bt.consumerOnSignalRead(n);let e=Bt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Bt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Bt.producers,t!==void 0&&t.producer===n)){Bt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Bt&&(!r||IO(i,Bt)))return;let o=Vs(Bt),s={producer:n,consumer:Bt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Bt.producersTail=s,e!==void 0?e.nextProducer=s:Bt.producers=s,o&&oD(n,s)}function iD(){Zg++}function Md(n){if(!(Vs(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Zg)){if(!n.producerMustRecompute(n)&&!zc(n)){Rd(n);return}n.producerRecomputeValue(n),Rd(n)}}function Xg(n){if(n.consumers===void 0)return;let e=Cd;Cd=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||wO(r)}}finally{Cd=e}}function ey(){return Bt?.consumerAllowSignalWrites!==!1}function wO(n){n.dirty=!0,Xg(n),n.consumerMarkedDirty?.(n)}function Rd(n){n.dirty=!1,n.lastCleanEpoch=Zg}function Ls(n){return n&&(n.producersTail=void 0,n.recomputing=!0),pe(n)}function Hc(n,e){if(pe(e),!n)return;n.recomputing=!1;let t=n.producersTail,r=t!==void 0?t.nextProducer:n.producers;if(r!==void 0){if(Vs(n))do r=ty(r);while(r!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function zc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Md(t),r!==t.version))return!0}return!1}function qc(n){if(Vs(n)){let e=n.producers;for(;e!==void 0;)e=ty(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function oD(n,e){let t=n.consumersTail,r=Vs(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)oD(i.producer,i)}function ty(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Vs(e)){let o=e.producers;for(;o!==void 0;)o=ty(o)}return t}function Vs(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Pd(n){EO?.(n)}function IO(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function kd(n,e){let t=Object.create(bO);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Md(t),Fs(t),t.value===$c)throw t.error;return t.value};return r[$t]=t,Pd(t),r}var Sd=Symbol("UNSET"),Ad=Symbol("COMPUTING"),$c=Symbol("ERRORED"),bO=ee(F({},Os),{value:Sd,dirty:!0,error:null,equal:Nd,kind:"computed",producerMustRecompute(n){return n.value===Sd||n.value===Ad},producerRecomputeValue(n){if(n.value===Ad)throw new Error("");let e=n.value;n.value=Ad;let t=Ls(n),r,i=!1;try{r=n.computation(),pe(null),i=e!==Sd&&e!==$c&&r!==$c&&n.equal(e,r)}catch(o){r=$c,n.error=o}finally{Hc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function TO(){throw new Error}var sD=TO;function aD(n){sD(n)}function ny(n){sD=n}var DO=null;function ry(n,e){let t=Object.create(Od);t.value=n,e!==void 0&&(t.equal=e);let r=()=>cD(t);return r[$t]=t,Pd(t),[r,s=>js(t,s),s=>iy(t,s)]}function cD(n){return Fs(n),n.value}function js(n,e){ey()||aD(n),n.equal(n.value,e)||(n.value=e,CO(n))}function iy(n,e){ey()||aD(n),js(n,e(n.value))}var Od=ee(F({},Os),{equal:Nd,value:void 0,kind:"signal"});function CO(n){n.version++,iD(),Xg(n),DO?.(n)}function le(n){return typeof n=="function"}function Us(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Fd=Us(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function No(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var et=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){e=o instanceof Fd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{uD(o)}catch(s){e=e??[],s instanceof Fd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Fd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)uD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&No(t,e)}remove(e){let{_finalizers:t}=this;t&&No(t,e),e instanceof n&&e._removeParent(this)}};et.EMPTY=(()=>{let n=new et;return n.closed=!0,n})();var oy=et.EMPTY;function Ld(n){return n instanceof et||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function uD(n){le(n)?n():n.unsubscribe()}var Hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Bs={setTimeout(n,e,...t){let{delegate:r}=Bs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Bs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Vd(n){Bs.setTimeout(()=>{let{onUnhandledError:e}=Hn;if(e)e(n);else throw n})}function Gc(){}var lD=sy("C",void 0,void 0);function dD(n){return sy("E",void 0,n)}function hD(n){return sy("N",n,void 0)}function sy(n,e,t){return{kind:n,value:e,error:t}}var xo=null;function $s(n){if(Hn.useDeprecatedSynchronousErrorHandling){let e=!xo;if(e&&(xo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=xo;if(xo=null,t)throw r}}else n()}function fD(n){Hn.useDeprecatedSynchronousErrorHandling&&xo&&(xo.errorThrown=!0,xo.error=n)}var Mo=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ld(e)&&e.add(this)):this.destination=RO}static create(e,t,r){return new Hs(e,t,r)}next(e){this.isStopped?cy(hD(e),this):this._next(e)}error(e){this.isStopped?cy(dD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cy(lD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SO=Function.prototype.bind;function ay(n,e){return SO.call(n,e)}var uy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){jd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){jd(r)}else jd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){jd(t)}}},Hs=class extends Mo{constructor(e,t,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Hn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ay(e.next,o),error:e.error&&ay(e.error,o),complete:e.complete&&ay(e.complete,o)}):i=e}this.destination=new uy(i)}};function jd(n){Hn.useDeprecatedSynchronousErrorHandling?fD(n):Vd(n)}function AO(n){throw n}function cy(n,e){let{onStoppedNotification:t}=Hn;t&&Bs.setTimeout(()=>t(n,e))}var RO={closed:!0,next:Gc,error:AO,complete:Gc};var zs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gn(n){return n}function Ud(...n){return ly(n)}function ly(n){return n.length===0?gn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Y=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=xO(t)?t:new Hs(t,r,i);return $s(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=pD(r),new r((i,o)=>{let s=new Hs({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[zs](){return this}pipe(...t){return ly(t)(this)}toPromise(t){return t=pD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function pD(n){var e;return(e=n??Hn.Promise)!==null&&e!==void 0?e:Promise}function NO(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}function xO(n){return n&&n instanceof Mo||NO(n)&&Ld(n)}function dy(n){return le(n?.lift)}function Te(n){return e=>{if(dy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(n,e,t,r,i){return new hy(n,e,t,r,i)}var hy=class extends Mo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qs(){return Te((n,e)=>{let t=null;n._refCount++;let r=Ie(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Gs=class extends Y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,dy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let t=this.getSubject();e.add(this.source.subscribe(Ie(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return qs()(this)}};var mD=Us(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var st=(()=>{class n extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Bd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new mD}next(t){$s(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){$s(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){$s(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?oy:(this.currentObservers=null,o.push(t),new et(()=>{this.currentObservers=null,No(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Y;return t.source=this,t}}return n.create=(e,t)=>new Bd(e,t),n})(),Bd=class extends st{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:oy}};var xt=class extends st{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fy={now(){return(fy.delegate||Date).now()},delegate:void 0};var $d=class extends et{constructor(e,t){super()}schedule(e,t=0){return this}};var Wc={setInterval(n,e,...t){let{delegate:r}=Wc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Wc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ws=class extends $d{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Wc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Wc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,No(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ks=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ks.now=fy.now;var Qs=class extends Ks{constructor(e,t=Ks.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var py=new Qs(Ws);var Hd=class extends Ws{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var zd=class extends Qs{};var my=new zd(Hd);var cn=new Y(n=>n.complete());function gD(n){return n&&le(n.schedule)}function yD(n){return n[n.length-1]}function qd(n){return le(yD(n))?n.pop():void 0}function Di(n){return gD(yD(n))?n.pop():void 0}function gy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function _D(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function vD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Po(n){return this instanceof Po?(this.v=n,this):new Po(n)}function ED(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(O){return new Promise(function(M,L){o.push([y,O,M,L])>1||u(y,O)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(O){m(o[0][3],O)}}function l(y){y.value instanceof Po?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function wD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vD=="function"?vD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Gd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Wd(n){return le(n?.then)}function Kd(n){return le(n[zs])}function Qd(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function Yd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function MO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jd=MO();function Zd(n){return le(n?.[Jd])}function Xd(n){return ED(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Po(t.read());if(i)return yield Po(void 0);yield yield Po(r)}}finally{t.releaseLock()}})}function eh(n){return le(n?.getReader)}function lt(n){if(n instanceof Y)return n;if(n!=null){if(Kd(n))return PO(n);if(Gd(n))return kO(n);if(Wd(n))return OO(n);if(Qd(n))return ID(n);if(Zd(n))return FO(n);if(eh(n))return LO(n)}throw Yd(n)}function PO(n){return new Y(e=>{let t=n[zs]();if(le(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kO(n){return new Y(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function OO(n){return new Y(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Vd)})}function FO(n){return new Y(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ID(n){return new Y(e=>{VO(n,e).catch(t=>e.error(t))})}function LO(n){return ID(Xd(n))}function VO(n,e){var t,r,i,o;return _D(this,void 0,void 0,function*(){try{for(t=wD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function un(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ci(n,e=0){return Te((t,r)=>{t.subscribe(Ie(r,i=>un(r,n,()=>r.next(i),e),()=>un(r,n,()=>r.complete(),e),i=>un(r,n,()=>r.error(i),e)))})}function Si(n,e=0){return Te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function bD(n,e){return lt(n).pipe(Si(e),Ci(e))}function TD(n,e){return lt(n).pipe(Si(e),Ci(e))}function DD(n,e){return new Y(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function CD(n,e){return new Y(t=>{let r;return un(t,e,()=>{r=n[Jd](),un(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function th(n,e){if(!n)throw new Error("Iterable cannot be null");return new Y(t=>{un(t,e,()=>{let r=n[Symbol.asyncIterator]();un(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function SD(n,e){return th(Xd(n),e)}function AD(n,e){if(n!=null){if(Kd(n))return bD(n,e);if(Gd(n))return DD(n,e);if(Wd(n))return TD(n,e);if(Qd(n))return th(n,e);if(Zd(n))return CD(n,e);if(eh(n))return SD(n,e)}throw Yd(n)}function Le(n,e){return e?AD(n,e):lt(n)}function K(...n){let e=Di(n);return Le(n,e)}function Ys(n,e){let t=le(n)?n:()=>n,r=i=>i.error(t());return new Y(e?i=>e.schedule(r,0,i):r)}function yy(n){return!!n&&(n instanceof Y||le(n.lift)&&le(n.subscribe))}var Hr=Us(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function J(n,e){return Te((t,r)=>{let i=0;t.subscribe(Ie(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:jO}=Array;function UO(n,e){return jO(e)?n(...e):n(e)}function nh(n){return J(e=>UO(n,e))}var{isArray:BO}=Array,{getPrototypeOf:$O,prototype:HO,keys:zO}=Object;function rh(n){if(n.length===1){let e=n[0];if(BO(e))return{args:e,keys:null};if(qO(e)){let t=zO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function qO(n){return n&&typeof n=="object"&&$O(n)===HO}function ih(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ko(...n){let e=Di(n),t=qd(n),{args:r,keys:i}=rh(n);if(r.length===0)return Le([],e);let o=new Y(GO(r,e,i?s=>ih(i,s):gn));return t?o.pipe(nh(t)):o}function GO(n,e,t=gn){return r=>{RD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)RD(e,()=>{let l=Le(n[u],e),h=!1;l.subscribe(Ie(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function RD(n,e,t){n?un(t,n,e):e()}function ND(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=O=>l<r?S(O):u.push(O),S=O=>{o&&e.next(O),l++;let M=!1;lt(t(O,h++)).subscribe(Ie(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let L=u.shift();s?un(e,s,()=>S(L)):S(L)}m()}catch(L){e.error(L)}}))};return n.subscribe(Ie(e,y,()=>{p=!0,m()})),()=>{a?.()}}function at(n,e,t=1/0){return le(e)?at((r,i)=>J((o,s)=>e(r,o,i,s))(lt(n(r,i))),t):(typeof e=="number"&&(t=e),Te((r,i)=>ND(r,i,n,t)))}function Js(n=1/0){return at(gn,n)}function xD(){return Js(1)}function Zs(...n){return xD()(Le(n,Di(n)))}function Kc(n){return new Y(e=>{lt(n()).subscribe(e)})}function vy(...n){let e=qd(n),{args:t,keys:r}=rh(n),i=new Y(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;lt(t[h]).subscribe(Ie(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?ih(r,a):a),o.complete())}))}});return e?i.pipe(nh(e)):i}function Mt(n,e){return Te((t,r)=>{let i=0;t.subscribe(Ie(r,o=>n.call(e,o,i++)&&r.next(o)))})}function zn(n){return Te((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ie(t,void 0,void 0,s=>{o=lt(n(s,zn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function MD(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(Ie(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function lr(n,e){return le(e)?at(n,e,1):at(n,1)}function Ai(n){return Te((e,t)=>{let r=!1;e.subscribe(Ie(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zr(n){return n<=0?()=>cn:Te((e,t)=>{let r=0;e.subscribe(Ie(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function oh(n=WO){return Te((e,t)=>{let r=!1;e.subscribe(Ie(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function WO(){return new Hr}function Oo(n){return Te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function qr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):gn,zr(1),t?Ai(e):oh(()=>new Hr))}function Xs(n){return n<=0?()=>cn:Te((e,t)=>{let r=[];e.subscribe(Ie(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function _y(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):gn,Xs(1),t?Ai(e):oh(()=>new Hr))}function sh(n,e){return Te(MD(n,e,arguments.length>=2,!0))}function ah(...n){let e=Di(n);return Te((t,r)=>{(e?Zs(n,t,e):Zs(n,t)).subscribe(r)})}function We(n,e){return Te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ie(r,u=>{i?.unsubscribe();let l=0,h=o++;lt(n(u,h)).subscribe(i=Ie(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ch(n){return Te((e,t)=>{lt(n).subscribe(Ie(t,()=>t.complete(),Gc)),!t.closed&&e.subscribe(t)})}function dt(n,e,t){let r=le(n)||e||t?{next:n,error:e,complete:t}:n;return r?Te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ie(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):gn}function PD(n){let e=pe(null);try{return n()}finally{pe(e)}}var fh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,t){super(xi(e,t)),this.code=e}};function KO(n){return`NG0${Math.abs(n)}`}function xi(n,e){return`${KO(n)}${e?": "+e:""}`}var Qr=globalThis;function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("")}function FD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Wr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Wr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function My(n,e){return n?e?`${n} ${e}`:n:e||""}var QO=Pe({__forward_ref__:Pe});function Yr(n){return n.__forward_ref__=Yr,n.toString=function(){return Wr(this())},n}function Pt(n){return Py(n)?n():n}function Py(n){return typeof n=="function"&&n.hasOwnProperty(QO)&&n.__forward_ref__===Yr}function LD(n,e){n==null&&ky(e,n,null,"!=")}function ky(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Nn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xc(n){return YO(n,ph)}function Oy(n){return Xc(n)!==null}function YO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function JO(n){let e=n?.[ph]??null;return e||null}function wy(n){return n&&n.hasOwnProperty(lh)?n[lh]:null}var ph=Pe({\u0275prov:Pe}),lh=Pe({\u0275inj:Pe}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Fy(n){return n&&!!n.\u0275providers}var Ly=Pe({\u0275cmp:Pe}),Vy=Pe({\u0275dir:Pe}),jy=Pe({\u0275pipe:Pe}),Uy=Pe({\u0275mod:Pe}),Jc=Pe({\u0275fac:Pe}),Uo=Pe({__NG_ELEMENT_ID__:Pe}),kD=Pe({__NG_ENV_ID__:Pe});function dr(n){return typeof n=="string"?n:n==null?"":String(n)}function dh(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():dr(n)}var By=Pe({ngErrorCode:Pe}),VD=Pe({ngErrorMessage:Pe}),Yc=Pe({ngTokenPath:Pe});function $y(n,e){return jD("",-200,e)}function mh(n,e){throw new U(-201,!1)}function ZO(n,e){n[Yc]??=[];let t=n[Yc],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(LD(e.provide,"Token with multi: true should have a provide property"),r=dh(e.provide)):r=dh(e),t[0]!==r&&n[Yc].unshift(r)}function XO(n,e){let t=n[Yc],r=n[By],i=n[VD]||n.message;return n.message=tF(i,r,t,e),n}function jD(n,e,t){let r=new U(e,n);return r[By]=e,r[VD]=n,t&&(r[Yc]=t),r}function eF(n){return n[By]}function tF(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return xi(e,`${n}${o}${i}`)}var Iy;function UD(){return Iy}function en(n){let e=Iy;return Iy=n,e}function Hy(n,e,t){let r=Xc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;mh(n,"Injector")}var nF={},Fo=nF,by="__NG_DI_FLAG__",Ty=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Lo(t)||0;try{return this.injector.get(e,r&8?null:Fo,r)}catch(i){if(ks(i))return i;throw i}}};function rF(n,e=0){let t=Dd();if(t===void 0)throw new U(-203,!1);if(t===null)return Hy(n,void 0,e);{let r=iF(e),i=t.retrieve(n,r);if(ks(i)){if(r.optional)return null;throw i}return i}}function Q(n,e=0){return(UD()||rF)(Pt(n),e)}function x(n,e){return Q(n,Lo(e))}function Lo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function iF(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Dy(n){let e=[];for(let t=0;t<n.length;t++){let r=Pt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=oF(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function BD(n,e){return n[by]=e,n.prototype[by]=e,n}function oF(n){return n[by]}function Ri(n,e){let t=n.hasOwnProperty(Jc);return t?n[Jc]:null}function $D(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function HD(n){return n.flat(Number.POSITIVE_INFINITY)}function gh(n,e){n.forEach(t=>Array.isArray(t)?gh(t,e):e(t))}function zy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function eu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function zD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function qD(n,e,t){let r=ta(n,e);return r>=0?n[r|1]=t:(r=~r,zD(n,r,e,t)),r}function yh(n,e){let t=ta(n,e);if(t>=0)return n[t|1]}function ta(n,e){return sF(n,e,1)}function sF(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Mi={},yn=[],Pi=new H(""),qy=new H("",-1),Gy=new H(""),Zc=class{get(e,t=Fo){if(t===Fo){let i=jD("",-201);throw i.name="\u0275NotFound",i}return t}};function Wy(n){return n[Uy]||null}function Jr(n){return n[Ly]||null}function Ky(n){return n[Vy]||null}function GD(n){return n[jy]||null}function vn(n){return{\u0275providers:n}}function WD(...n){return{\u0275providers:Qy(!0,n),\u0275fromNgModule:!0}}function Qy(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return gh(e,s=>{let a=s;hh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&KD(i,o),t}function KD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Yy(i,o=>{e(o,r)})}}function hh(n,e,t,r){if(n=Pt(n),!n)return!1;let i=null,o=wy(n),s=!o&&Jr(n);if(!o&&!s){let u=n.ngModule;if(o=wy(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)hh(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{gh(o.imports,h=>{hh(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&KD(l,e)}if(!a){let l=Ri(i)||(()=>new i);e({provide:i,useFactory:l,deps:yn},i),e({provide:Gy,useValue:i,multi:!0},i),e({provide:Pi,useValue:()=>Q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Yy(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Yy(n,e){for(let t of n)Fy(t)&&(t=t.\u0275providers),Array.isArray(t)?Yy(t,e):e(t)}var aF=Pe({provide:String,useValue:Pe});function QD(n){return n!==null&&typeof n=="object"&&aF in n}function cF(n){return!!(n&&n.useExisting)}function uF(n){return!!(n&&n.useFactory)}function Vo(n){return typeof n=="function"}function YD(n){return!!n.useClass}var tu=new H(""),uh={},OD={},Ey;function nu(){return Ey===void 0&&(Ey=new Zc),Ey}var Ke=class{},jo=class extends Ke{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Sy(e,s=>this.processProvider(s)),this.records.set(qy,ea(void 0,this)),i.has("environment")&&this.records.set(Ke,ea(void 0,this));let o=this.records.get(tu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Gy,yn,{self:!0}))}retrieve(e,t){let r=Lo(t)||0;try{return this.get(e,Fo,r)}catch(i){if(ks(i))return i;throw i}}destroy(){Qc(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return Qc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Qc(this);let t=ur(this),r=en(void 0),i;try{return e()}finally{ur(t),en(r)}}get(e,t=Fo,r){if(Qc(this),e.hasOwnProperty(kD))return e[kD](this);let i=Lo(r),o,s=ur(this),a=en(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=pF(e)&&Xc(e);h&&this.injectableDefInScope(h)?l=ea(Cy(e),uh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?nu():this.parent;return t=i&8&&t===Fo?null:t,u.get(e,t)}catch(u){let l=eF(u);throw l===-200||l===-201?new U(l,null):u}finally{en(a),ur(s)}}resolveInjectorInitializers(){let e=pe(null),t=ur(this),r=en(void 0),i;try{let o=this.get(Pi,yn,{self:!0});for(let s of o)s()}finally{ur(t),en(r),pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Wr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Pt(e);let t=Vo(e)?e:Pt(e&&e.provide),r=dF(e);if(!Vo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ea(void 0,uh,!0),i.factory=()=>Dy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=pe(null);try{if(t.value===OD)throw $y(Wr(e));return t.value===uh&&(t.value=OD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&fF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Pt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Cy(n){let e=Xc(n),t=e!==null?e.factory:Ri(n);if(t!==null)return t;if(n instanceof H)throw new U(204,!1);if(n instanceof Function)return lF(n);throw new U(204,!1)}function lF(n){if(n.length>0)throw new U(204,!1);let t=JO(n);return t!==null?()=>t.factory(n):()=>new n}function dF(n){if(QD(n))return ea(void 0,n.useValue);{let e=Jy(n);return ea(e,uh)}}function Jy(n,e,t){let r;if(Vo(n)){let i=Pt(n);return Ri(i)||Cy(i)}else if(QD(n))r=()=>Pt(n.useValue);else if(uF(n))r=()=>n.useFactory(...Dy(n.deps||[]));else if(cF(n))r=(i,o)=>Q(Pt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Pt(n&&(n.useClass||n.provide));if(hF(n))r=()=>new i(...Dy(n.deps));else return Ri(i)||Cy(i)}return r}function Qc(n){if(n.destroyed)throw new U(205,!1)}function ea(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function hF(n){return!!n.deps}function fF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function pF(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Sy(n,e){for(let t of n)Array.isArray(t)?Sy(t,e):t&&Fy(t)?Sy(t.\u0275providers,e):e(t)}function nt(n,e){let t;n instanceof jo?(Qc(n),t=n):t=new Ty(n);let r,i=ur(t),o=en(void 0);try{return e()}finally{ur(i),en(o)}}function JD(){return UD()!==void 0||Dd()!=null}var Gn=0,ne=1,ce=2,Tt=3,xn=4,Mn=5,ru=6,na=7,Ht=8,Bo=9,hr=10,Qe=11,ra=12,Zy=13,$o=14,Pn=15,ki=16,Ho=17,fr=18,iu=19,Xy=20,Gr=21,vh=22,ou=23,_n=24,zo=25,_t=26,ZD=1;var Oi=7,su=8,qo=9,tn=10;function pr(n){return Array.isArray(n)&&typeof n[ZD]=="object"}function Wn(n){return Array.isArray(n)&&n[ZD]===!0}function ev(n){return(n.flags&4)!==0}function Fi(n){return n.componentOffset>-1}function ia(n){return(n.flags&1)===1}function mr(n){return!!n.template}function oa(n){return(n[ce]&512)!==0}function Go(n){return(n[ce]&256)===256}var tv="svg",XD="math";function kn(n){for(;Array.isArray(n);)n=n[Gn];return n}function nv(n,e){return kn(e[n])}function Kn(n,e){return kn(e[n.index])}function _h(n,e){return n.data[e]}function Eh(n,e){return n[e]}function rv(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function On(n,e){let t=e[n];return pr(t)?t:t[Gn]}function eC(n){return(n[ce]&4)===4}function wh(n){return(n[ce]&128)===128}function tC(n){return Wn(n[Tt])}function Wo(n,e){return e==null?null:n[e]}function iv(n){n[Ho]=0}function ov(n){n[ce]&1024||(n[ce]|=1024,wh(n)&&sa(n))}function nC(n,e){for(;n>0;)e=e[$o],n--;return e}function au(n){return!!(n[ce]&9216||n[_n]?.dirty)}function Ih(n){n[hr].changeDetectionScheduler?.notify(8),n[ce]&64&&(n[ce]|=1024),au(n)&&sa(n)}function sa(n){n[hr].changeDetectionScheduler?.notify(0);let e=Ni(n);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!wh(e)));)e=Ni(e)}function sv(n,e){if(Go(n))throw new U(911,!1);n[Gr]===null&&(n[Gr]=[]),n[Gr].push(e)}function rC(n,e){if(n[Gr]===null)return;let t=n[Gr].indexOf(e);t!==-1&&n[Gr].splice(t,1)}function Ni(n){let e=n[Tt];return Wn(e)?e[Tt]:e}function av(n){return n[na]??=[]}function cv(n){return n.cleanup??=[]}function iC(n,e,t,r){let i=av(e);i.push(t),n.firstCreatePass&&cv(n).push(r,i.length-1)}var de={lFrame:yC(null),bindingsEnabled:!0,skipHydrationRootTNode:null},cu=(function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n})(cu||{}),mF=0,Ay=!1;function oC(){return de.lFrame.elementDepthCount}function sC(){de.lFrame.elementDepthCount++}function uv(){de.lFrame.elementDepthCount--}function bh(){return de.bindingsEnabled}function aC(){return de.skipHydrationRootTNode!==null}function lv(n){return de.skipHydrationRootTNode===n}function dv(){de.skipHydrationRootTNode=null}function me(){return de.lFrame.lView}function kt(){return de.lFrame.tView}function He(n){return de.lFrame.contextLView=n,n[Ht]}function ze(n){return de.lFrame.contextLView=null,n}function Dt(){let n=hv();for(;n!==null&&n.type===64;)n=n.parent;return n}function hv(){return de.lFrame.currentTNode}function cC(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function aa(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function fv(){return de.lFrame.isParent}function uC(){de.lFrame.isParent=!1}function lC(){return de.lFrame.contextLView}function pv(n){ky("Must never be called in production mode"),mF=n}function mv(){return Ay}function gv(n){let e=Ay;return Ay=n,e}function ca(){let n=de.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function yv(){return de.lFrame.bindingIndex}function dC(n){return de.lFrame.bindingIndex=n}function uu(){return de.lFrame.bindingIndex++}function Th(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function hC(){return de.lFrame.inI18n}function fC(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Dh(e)}function pC(){return de.lFrame.currentDirectiveIndex}function Dh(n){de.lFrame.currentDirectiveIndex=n}function mC(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function vv(){return de.lFrame.currentQueryIndex}function Ch(n){de.lFrame.currentQueryIndex=n}function gF(n){let e=n[ne];return e.type===2?e.declTNode:e.type===1?n[Mn]:null}function _v(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=gF(o),i===null||(o=o[$o],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=gC();return r.currentTNode=e,r.lView=n,!0}function Sh(n){let e=gC(),t=n[ne];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function gC(){let n=de.lFrame,e=n===null?null:n.child;return e===null?yC(n):e}function yC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function vC(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Ev=vC;function Ah(){let n=vC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function _C(n){return(de.lFrame.contextLView=nC(n,de.lFrame.contextLView))[Ht]}function Zr(){return de.lFrame.selectedIndex}function Li(n){de.lFrame.selectedIndex=n}function Rh(){let n=de.lFrame;return _h(n.tView,n.selectedIndex)}function ke(){de.lFrame.currentNamespace=tv}function Ye(){yF()}function yF(){de.lFrame.currentNamespace=null}function EC(){return de.lFrame.currentNamespace}var wC=!0;function Nh(){return wC}function lu(n){wC=n}var vF={elements:void 0};function xh(){return vF}function Ry(n,e=null,t=null,r){let i=wv(n,e,t,r);return i.resolveInjectorInitializers(),i}function wv(n,e=null,t=null,r,i=new Set){let o=[t||yn,WD(n)];return r=r||(typeof n=="object"?void 0:Wr(n)),new jo(o,e||nu(),r||null,i)}var tt=class n{static THROW_IF_NOT_FOUND=Fo;static NULL=new Zc;static create(e,t){if(Array.isArray(e))return Ry({name:""},t,e,"");{let r=e.name??"";return Ry({name:r},e.parent,e.providers,r)}}static \u0275prov=z({token:n,providedIn:"any",factory:()=>Q(qy)});static __NG_ELEMENT_ID__=-1},rt=new H(""),gr=(()=>{class n{static __NG_ELEMENT_ID__=_F;static __NG_ENV_ID__=t=>t}return n})(),Ny=class extends gr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Go(this._lView)}onDestroy(e){let t=this._lView;return sv(t,e),()=>rC(t,e)}};function _F(){return new Ny(me())}var qn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},nn=new H("",{providedIn:"root",factory:()=>{let n=x(Ke),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(qn),e.handleError(t))}}}),IC={provide:Pi,useValue:()=>void x(qn),multi:!0};function Iv(n){return typeof n=="function"&&n[$t]!==void 0}function ln(n,e){let[t,r,i]=ry(n,e?.equal),o=t,s=o[$t];return o.set=r,o.update=i,o.asReadonly=bC.bind(o),o}function bC(){let n=this[$t];if(n.readonlyFn===void 0){let e=()=>this();e[$t]=n,n.readonlyFn=e}return n.readonlyFn}function bv(n){return Iv(n)&&typeof n.set=="function"}var Kr=class{},Mh=new H("",{providedIn:"root",factory:()=>!1});var Tv=new H(""),Dv=new H("");var Ph=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=EF}return n})();function EF(){return new Ph(me(),Dt())}var yr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new xt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Y(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vi=(()=>{class n{internalPendingTasks=x(yr);scheduler=x(Kr);errorHandler=x(nn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();function du(...n){}var Cv=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new xy})}return n})(),xy=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function pa(n){return{toString:n}.toString()}var kh="__parameters__";function CF(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function SF(n,e,t){return pa(()=>{let r=CF(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(kh)?u[kh]:Object.defineProperty(u,kh,{value:[]})[kh];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var En=BD(SF("Optional"),8);function AF(n){return typeof n=="function"}var Bh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function eS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var ti=(()=>{let n=()=>tS;return n.ngInherit=!0,n})();function tS(n){return n.type.prototype.ngOnChanges&&(n.setInput=NF),RF}function RF(){let n=rS(this),e=n?.current;if(e){let t=n.previous;if(t===Mi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function NF(n,e,t,r,i){let o=this.declaredInputs[r],s=rS(n)||xF(n,{previous:Mi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Bh(l&&l.currentValue,t,u===Mi),eS(n,e,i,t)}var nS="__ngSimpleChanges__";function rS(n){return n[nS]||null}function xF(n,e){return n[nS]=e}var TC=[];var Fe=function(n,e=null,t){for(let r=0;r<TC.length;r++){let i=TC[r];i(n,e,t)}};function MF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=tS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function iS(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Lh(n,e,t){oS(n,e,3,t)}function Vh(n,e,t,r){(n[ce]&3)===t&&oS(n,e,t,r)}function Sv(n,e){let t=n[ce];(t&3)===e&&(t&=16383,t+=1,n[ce]=t)}function oS(n,e,t,r){let i=r!==void 0?n[Ho]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Ho]+=65536),(a<o||o==-1)&&(PF(n,t,e,u),n[Ho]=(n[Ho]&4294901760)+u+2),u++}function DC(n,e){Fe(4,n,e);let t=pe(null);try{e.call(n)}finally{pe(t),Fe(5,n,e)}}function PF(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ce]>>14<n[Ho]>>16&&(n[ce]&3)===e&&(n[ce]+=16384,DC(a,o)):DC(a,o)}var la=-1,Yo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function kF(n){return(n.flags&8)!==0}function OF(n){return(n.flags&16)!==0}function FF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];LF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function sS(n){return n===3||n===4||n===6}function LF(n){return n.charCodeAt(0)===64}function da(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?CC(n,t,i,null,e[++r]):CC(n,t,i,null,null))}}return n}function CC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function aS(n){return n!==la}function $h(n){return n&32767}function VF(n){return n>>16}function Hh(n,e){let t=VF(n),r=e;for(;t>0;)r=r[$o],t--;return r}var Vv=!0;function zh(n){let e=Vv;return Vv=n,e}var jF=256,cS=jF-1,uS=5,UF=0,vr={};function BF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Uo)&&(r=t[Uo]),r==null&&(r=t[Uo]=UF++);let i=r&cS,o=1<<i;e.data[n+(i>>uS)]|=o}function qh(n,e){let t=lS(n,e);if(t!==-1)return t;let r=e[ne];r.firstCreatePass&&(n.injectorIndex=e.length,Av(r.data,n),Av(e,null),Av(r.blueprint,null));let i=u_(n,e),o=n.injectorIndex;if(aS(i)){let s=$h(i),a=Hh(i,e),u=a[ne].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Av(n,e){n.push(0,0,0,0,0,0,0,0,e)}function lS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function u_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=mS(i),r===null)return la;if(t++,i=i[$o],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return la}function jv(n,e,t){BF(n,e,t)}function $F(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(sS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function dS(n,e,t){if(t&8||n!==void 0)return n;mh(e,"NodeInjector")}function hS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Bo],o=en(void 0);try{return i?i.get(e,r,t&8):Hy(e,r,t&8)}finally{en(o)}}return dS(r,e,t)}function fS(n,e,t,r=0,i){if(n!==null){if(e[ce]&2048&&!(r&2)){let s=GF(n,e,t,r,vr);if(s!==vr)return s}let o=pS(n,e,t,r,vr);if(o!==vr)return o}return hS(e,t,r,i)}function pS(n,e,t,r,i){let o=zF(t);if(typeof o=="function"){if(!_v(e,n,r))return r&1?dS(i,t,r):hS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))mh(t);else return s}finally{Ev()}}else if(typeof o=="number"){let s=null,a=lS(n,e),u=la,l=r&1?e[Pn][Mn]:null;for((a===-1||r&4)&&(u=a===-1?u_(n,e):e[a+8],u===la||!AC(r,!1)?a=-1:(s=e[ne],a=$h(u),e=Hh(u,e)));a!==-1;){let h=e[ne];if(SC(o,a,h.data)){let p=HF(a,e,t,s,r,l);if(p!==vr)return p}u=e[a+8],u!==la&&AC(r,e[ne].data[a+8]===l)&&SC(o,a,e)?(s=h,a=$h(u),e=Hh(u,e)):a=-1}}return i}function HF(n,e,t,r,i,o){let s=e[ne],a=s.data[n+8],u=r==null?Fi(a)&&Vv:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=jh(a,s,t,u,l);return h!==null?pu(e,s,h,a,i):vr}function jh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&mr(y)&&y.type===t)return u}return null}function pu(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Yo){let a=o;if(a.resolving){let y=dh(s[t]);throw $y(y)}let u=zh(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?en(a.injectImpl):null,m=_v(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&MF(t,s[t],e)}finally{p!==null&&en(p),zh(u),a.resolving=!1,Ev()}}return o}function zF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Uo)?n[Uo]:void 0;return typeof e=="number"?e>=0?e&cS:qF:e}function SC(n,e,t){let r=1<<n;return!!(t[e+(n>>uS)]&r)}function AC(n,e){return!(n&2)&&!(n&1&&e)}var Qo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return fS(this._tNode,this._lView,e,Lo(r),t)}};function qF(){return new Qo(Dt(),me())}function ts(n){return pa(()=>{let e=n.prototype.constructor,t=e[Jc]||Uv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Jc]||Uv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Uv(n){return Py(n)?()=>{let e=Uv(Pt(n));return e&&e()}:Ri(n)}function GF(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ce]&2048&&!oa(s);){let a=pS(o,s,t,r|2,vr);if(a!==vr)return a;let u=o.parent;if(!u){let l=s[Xy];if(l){let h=l.get(t,vr,r);if(h!==vr)return h}u=mS(s),s=s[$o]}o=u}return i}function mS(n){let e=n[ne],t=e.type;return t===2?e.declTNode:t===1?n[Mn]:null}function vu(n){return $F(Dt(),n)}function WF(){return ma(Dt(),me())}function ma(n,e){return new wn(Kn(n,e))}var wn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=WF}return n})();function KF(n){return n instanceof wn?n.nativeElement:n}function QF(){return this._results[Symbol.iterator]()}var Gh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new st}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=HD(e);(this._changesDetected=!$D(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=QF};function gS(n){return(n.flags&128)===128}var l_=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(l_||{}),yS=new Map,YF=0;function JF(){return YF++}function ZF(n){yS.set(n[iu],n)}function Bv(n){yS.delete(n[iu])}var RC="__ngContext__";function ha(n,e){pr(e)?(n[RC]=e[iu],ZF(e)):n[RC]=e}function vS(n){return ES(n[ra])}function _S(n){return ES(n[xn])}function ES(n){for(;n!==null&&!Wn(n);)n=n[xn];return n}var $v;function d_(n){$v=n}function wS(){if($v!==void 0)return $v;if(typeof document<"u")return document;throw new U(210,!1)}var sf=new H("",{providedIn:"root",factory:()=>XF}),XF="ng",af=new H(""),Ui=new H("",{providedIn:"platform",factory:()=>"unknown"});var cf=new H("",{providedIn:"root",factory:()=>wS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var eL="h",tL="b";var IS=!1,bS=new H("",{providedIn:"root",factory:()=>IS});var h_=new H("");var nL=(n,e,t,r)=>{};function rL(n,e,t,r){nL(n,e,t,r)}function f_(n){return(n.flags&32)===32}var iL=()=>null;function TS(n,e,t=!1){return iL(n,e,t)}function DS(n,e){let t=n.contentQueries;if(t!==null){let r=pe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Ch(o),a.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function Hv(n,e,t){Ch(0);let r=pe(null);try{e(n,t)}finally{pe(r)}}function p_(n,e,t){if(ev(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{pe(r)}}}var Xr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Xr||{});var Oh;function oL(){if(Oh===void 0&&(Oh=null,Qr.trustedTypes))try{Oh=Qr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Oh}function NC(n){return oL()?.createScriptURL(n)||n}var Wh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fh})`}};function _u(n){return n instanceof Wh?n.changingThisBreaksApplicationSecurity:n}function m_(n,e){let t=CS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${fh})`)}return t===e}function CS(n){return n instanceof Wh&&n.getTypeName()||null}var sL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function SS(n){return n=String(n),n.match(sL)?n:"unsafe:"+n}var uf=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(uf||{});function Eu(n){let e=RS();return e?e.sanitize(uf.URL,n)||"":m_(n,"URL")?_u(n):SS(dr(n))}function AS(n){let e=RS();if(e)return NC(e.sanitize(uf.RESOURCE_URL,n)||"");if(m_(n,"ResourceURL"))return NC(_u(n));throw new U(904,!1)}function aL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?AS:Eu}function g_(n,e,t){return aL(e,t)(n)}function RS(){let n=me();return n&&n[hr].sanitizer}var cL=/^>|^->|<!--|-->|--!>|<!-$/g,uL=/(<|>)/g,lL="\u200B$1\u200B";function dL(n){return n.replace(cL,e=>e.replace(uL,lL))}function y_(n){return n.ownerDocument.defaultView}function NS(n){return n instanceof Function?n():n}function hL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var xS="ng-template";function fL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&hL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(v_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function v_(n){return n.type===4&&n.value!==xS}function pL(n,e,t){let r=n.type===4&&!t?xS:n.value;return e===r}function mL(n,e,t){let r=4,i=n.attrs,o=i!==null?vL(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Qn(r)&&!Qn(u))return!1;if(s&&Qn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!pL(n,u,t)||u===""&&e.length===1){if(Qn(r))return!1;s=!0}}else if(r&8){if(i===null||!fL(n,i,u,t)){if(Qn(r))return!1;s=!0}}else{let l=e[++a],h=gL(u,i,v_(n),t);if(h===-1){if(Qn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Qn(r))return!1;s=!0}}}}return Qn(r)||s}function Qn(n){return(n&1)===0}function gL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return _L(e,n)}function yL(n,e,t=!1){for(let r=0;r<e.length;r++)if(mL(n,e[r],t))return!0;return!1}function vL(n){for(let e=0;e<n.length;e++){let t=n[e];if(sS(t))return e}return n.length}function _L(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function xC(n,e){return n?":not("+e.trim()+")":e}function EL(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Qn(s)&&(e+=xC(o,i),i=""),r=s,o=o||!Qn(r);t++}return i!==""&&(e+=xC(o,i)),e}function wL(n){return n.map(EL).join(",")}function IL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Qn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var In={};function bL(n,e){return n.createText(e)}function TL(n,e,t){n.setValue(e,t)}function DL(n,e){return n.createComment(dL(e))}function MS(n,e,t){return n.createElement(e,t)}function Kh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function PS(n,e,t){n.appendChild(e,t)}function MC(n,e,t,r,i){r!==null?Kh(n,e,t,r,i):PS(n,e,t)}function CL(n,e,t){n.removeChild(null,e,t)}function SL(n,e,t){n.setAttribute(e,"style",t)}function AL(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function kS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&FF(n,e,r),i!==null&&AL(n,e,i),o!==null&&SL(n,e,o)}function __(n,e,t,r,i,o,s,a,u,l,h){let p=_t+r,m=p+i,y=RL(p,m),S=typeof l=="function"?l():l;return y[ne]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function RL(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:In);return t}function NL(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=__(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function E_(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Gn]=i,p[ce]=r|4|128|8|64|1024,(l!==null||n&&n[ce]&2048)&&(p[ce]|=2048),iv(p),p[Tt]=p[$o]=n,p[Ht]=t,p[hr]=s||n&&n[hr],p[Qe]=a||n&&n[Qe],p[Bo]=u||n&&n[Bo]||null,p[Mn]=o,p[iu]=JF(),p[ru]=h,p[Xy]=l,p[Pn]=e.type==2?n[Pn]:p,p}function xL(n,e,t){let r=Kn(e,n),i=NL(t),o=n[hr].rendererFactory,s=w_(n,E_(n,i,null,OS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function OS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function FS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function w_(n,e){return n[ra]?n[Zy][xn]=e:n[ra]=e,n[Zy]=e,e}function k(n=1){LS(kt(),me(),Zr()+n,!1)}function LS(n,e,t,r){if(!r)if((e[ce]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Lh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Vh(e,o,0,t)}Li(t)}var lf=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(lf||{});function zv(n,e,t,r){let i=pe(null);try{let[o,s,a]=n.inputs[t],u=null;(s&lf.SignalBased)!==0&&(u=e[o][$t]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):eS(e,u,o,r)}finally{pe(i)}}var _r=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(_r||{}),ML;function I_(n,e){return ML(n,e)}function ua(n,e,t,r,i){if(r!=null){let o,s=!1;Wn(r)?o=r:pr(r)&&(s=!0,r=r[Gn]);let a=kn(r);n===0&&t!==null?i==null?PS(e,t,a):Kh(e,t,a,i||null,!0):n===1&&t!==null?Kh(e,t,a,i||null,!0):n===2?CL(e,a,s):n===3&&e.destroyNode(a),o!=null&&zL(e,n,o,t,i)}}function PL(n,e){VS(n,e),e[Gn]=null,e[Mn]=null}function kL(n,e,t,r,i,o){r[Gn]=i,r[Mn]=e,df(n,r,t,1,i,o)}function VS(n,e){e[hr].changeDetectionScheduler?.notify(9),df(n,e,e[Qe],2,null,null)}function OL(n){let e=n[ra];if(!e)return Rv(n[ne],n);for(;e;){let t=null;if(pr(e))t=e[ra];else{let r=e[tn];r&&(t=r)}if(!t){for(;e&&!e[xn]&&e!==n;)pr(e)&&Rv(e[ne],e),e=e[Tt];e===null&&(e=n),pr(e)&&Rv(e[ne],e),t=e&&e[xn]}e=t}}function b_(n,e){let t=n[qo],r=t.indexOf(e);t.splice(r,1)}function jS(n,e){if(Go(e))return;let t=e[Qe];t.destroyNode&&df(n,e,t,3,null,null),OL(e)}function Rv(n,e){if(Go(e))return;let t=pe(null);try{e[ce]&=-129,e[ce]|=256,e[_n]&&qc(e[_n]),LL(n,e),FL(n,e),e[ne].type===1&&e[Qe].destroy();let r=e[ki];if(r!==null&&Wn(e[Tt])){r!==e[Tt]&&b_(r,e);let i=e[fr];i!==null&&i.detachView(n)}Bv(e)}finally{pe(t)}}function FL(n,e){let t=n.cleanup,r=e[na];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[na]=null);let i=e[Gr];if(i!==null){e[Gr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ou];if(o!==null){e[ou]=null;for(let s of o)s.destroy()}}function LL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Yo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Fe(4,a,u);try{u.call(a)}finally{Fe(5,a,u)}}else{Fe(4,i,o);try{o.call(i)}finally{Fe(5,i,o)}}}}}function VL(n,e,t){return jL(n,e.parent,t)}function jL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Gn];if(Fi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Xr.None||i===Xr.Emulated)return null}return Kn(r,t)}function UL(n,e,t){return $L(n,e,t)}function BL(n,e,t){return n.type&40?Kn(n,t):null}var $L=BL,PC;function T_(n,e,t,r){let i=VL(n,r,e),o=e[Qe],s=r.parent||e[Mn],a=UL(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)MC(o,i,t[u],a,!1);else MC(o,i,t,a,!1);PC!==void 0&&PC(o,r,e,t,i)}function hu(n,e){if(e!==null){let t=e.type;if(t&3)return Kn(e,n);if(t&4)return qv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return hu(n,r);{let i=n[e.index];return Wn(i)?qv(-1,i):kn(i)}}else{if(t&128)return hu(n,e.next);if(t&32)return I_(e,n)()||kn(n[e.index]);{let r=US(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ni(n[Pn]);return hu(i,r)}else return hu(n,e.next)}}}return null}function US(n,e){if(e!==null){let r=n[Pn][Mn],i=e.projection;return r.projection[i]}return null}function qv(n,e){let t=tn+n+1;if(t<e.length){let r=e[t],i=r[ne].firstChild;if(i!==null)return hu(r,i)}return e[Oi]}function D_(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&ha(kn(a),r),t.flags|=2),!f_(t))if(u&8)D_(n,e,t.child,r,i,o,!1),ua(e,n,i,a,o);else if(u&32){let l=I_(t,r),h;for(;h=l();)ua(e,n,i,h,o);ua(e,n,i,a,o)}else u&16?HL(n,e,r,t,i,o):ua(e,n,i,a,o);t=s?t.projectionNext:t.next}}function df(n,e,t,r,i,o){D_(t,r,n.firstChild,e,i,o,!1)}function HL(n,e,t,r,i,o){let s=t[Pn],u=s[Mn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ua(e,n,i,h,o)}else{let l=u,h=s[Tt];gS(r)&&(l.flags|=128),D_(n,e,l,h,i,o,!0)}}function zL(n,e,t,r,i){let o=t[Oi],s=kn(t);o!==s&&ua(e,n,r,o,i);for(let a=tn;a<t.length;a++){let u=t[a];df(u[ne],u,n,e,r,o)}}function qL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:_r.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=_r.Important),n.setStyle(t,r,i,o))}}function BS(n,e,t,r,i){let o=Zr(),s=r&2;try{Li(-1),s&&e.length>_t&&LS(n,e,_t,!1),Fe(s?2:0,i,t),t(r,i)}finally{Li(o),Fe(s?3:1,i,t)}}function hf(n,e,t){ZL(n,e,t),(t.flags&64)===64&&XL(n,e,t)}function ff(n,e,t=Kn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function GL(n,e,t,r){let o=r.get(bS,IS)||t===Xr.ShadowDom,s=n.selectRootElement(e,o);return WL(s),s}function WL(n){KL(n)}var KL=()=>null;function QL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function $S(n,e,t,r,i,o){let s=e[ne];if(R_(n,s,e,t,r)){Fi(n)&&JL(e,n.index);return}n.type&3&&(t=QL(t)),YL(n,e,t,r,i,o)}function YL(n,e,t,r,i,o){if(n.type&3){let s=Kn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function JL(n,e){let t=On(e,n);t[ce]&16||(t[ce]|=64)}function ZL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Fi(t)&&xL(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||qh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=pu(e,n,s,t);if(ha(u,e),o!==null&&rV(e,s-r,u,a,t,o),mr(a)){let l=On(t.index,e);l[Ht]=pu(e,n,s,t)}}}function XL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=pC();try{Li(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Dh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&eV(u,l)}}finally{Li(-1),Dh(s)}}function eV(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function C_(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];yL(e,o.selectors,!1)&&(r??=[],mr(o)?r.unshift(o):r.push(o))}return r}function tV(n,e,t,r,i,o){let s=Kn(n,e);nV(e[Qe],s,o,n.value,t,r,i)}function nV(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?dr(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function rV(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];zv(r,t,u,l)}}function S_(n,e,t,r,i){let o=_t+t,s=e[ne],a=i(s,e,n,r,t);e[o]=a,aa(n,!0);let u=n.type===2;return u?(kS(e[Qe],a,n),(oC()===0||ia(n))&&ha(a,e),sC()):ha(a,e),Nh()&&(!u||!f_(n))&&T_(s,e,a,n),n}function A_(n){let e=n;return fv()?uC():(e=e.parent,aa(e,!1)),e}function iV(n,e){let t=n[Bo];if(!t)return;let r;try{r=t.get(nn,null)}catch{r=null}r?.(e)}function R_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];zv(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];zv(h,l,r,i),a=!0}return a}function oV(n,e){let t=On(e,n),r=t[ne];sV(r,t);let i=t[Gn];i!==null&&t[ru]===null&&(t[ru]=TS(i,t[Bo])),Fe(18),N_(r,t,t[Ht]),Fe(19,t[Ht])}function sV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function N_(n,e,t){Sh(e);try{let r=n.viewQuery;r!==null&&Hv(1,r,t);let i=n.template;i!==null&&BS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[fr]?.finishViewCreation(n),n.staticContentQueries&&DS(n,e),n.staticViewQueries&&Hv(2,n.viewQuery,t);let o=n.components;o!==null&&aV(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,Ah()}}function aV(n,e){for(let t=0;t<e.length;t++)oV(n,e[t])}function cV(n,e,t,r){let i=pe(null);try{let o=e.tView,a=n[ce]&4096?4096:16,u=E_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[ki]=l;let h=n[fr];return h!==null&&(u[fr]=h.createEmbeddedView(o)),N_(o,u,t),u}finally{pe(i)}}function kC(n,e){return!e||e.firstChild===null||gS(n)}var OC=!1,uV=new H("");function mu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(kn(o)),Wn(o)&&HS(o,r);let s=t.type;if(s&8)mu(n,e,t.child,r);else if(s&32){let a=I_(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=US(e,t);if(Array.isArray(a))r.push(...a);else{let u=Ni(e[Pn]);mu(u[ne],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function HS(n,e){for(let t=tn;t<n.length;t++){let r=n[t],i=r[ne].firstChild;i!==null&&mu(r[ne],r,i,e)}n[Oi]!==n[Gn]&&e.push(n[Oi])}function zS(n){if(n[zo]!==null){for(let e of n[zo])e.impl.addSequence(e);n[zo].length=0}}var qS=[];function lV(n){return n[_n]??dV(n)}function dV(n){let e=qS.pop()??Object.create(fV);return e.lView=n,e}function hV(n){n.lView[_n]!==n&&(n.lView=null,qS.push(n))}var fV=ee(F({},Os),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{sa(n.lView)},consumerOnSignalRead(){this.lView[_n]=this}});function pV(n){let e=n[_n]??Object.create(mV);return e.lView=n,e}var mV=ee(F({},Os),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ni(n.lView);for(;e&&!GS(e[ne]);)e=Ni(e);e&&ov(e)},consumerOnSignalRead(){this.lView[_n]=this}});function GS(n){return n.type!==2}function WS(n){if(n[ou]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ou])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ce]&8192)}}var gV=100;function x_(n,e=0){let r=n[hr].rendererFactory,i=!1;i||r.begin?.();try{yV(n,e)}finally{i||r.end?.()}}function yV(n,e){let t=mv();try{gv(!0),Gv(n,e);let r=0;for(;au(n);){if(r===gV)throw new U(103,!1);r++,Gv(n,1)}}finally{gv(t)}}function KS(n,e){pv(e?cu.Exhaustive:cu.OnlyDirtyViews);try{x_(n)}finally{pv(cu.Off)}}function vV(n,e,t,r){if(Go(e))return;let i=e[ce],o=!1,s=!1;Sh(e);let a=!0,u=null,l=null;o||(GS(n)?(l=lV(e),u=Ls(l)):xd()===null?(a=!1,l=pV(e),u=Ls(l)):e[_n]&&(qc(e[_n]),e[_n]=null));try{iv(e),dC(n.bindingStartIndex),t!==null&&BS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Lh(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Vh(e,y,0,null),Sv(e,0)}if(s||_V(e),WS(e),QS(e,0),n.contentQueries!==null&&DS(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Lh(e,y)}else{let y=n.contentHooks;y!==null&&Vh(e,y,1),Sv(e,1)}wV(n,e);let p=n.components;p!==null&&JS(e,p,0);let m=n.viewQuery;if(m!==null&&Hv(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Lh(e,y)}else{let y=n.viewHooks;y!==null&&Vh(e,y,2),Sv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[vh]){for(let y of e[vh])y();e[vh]=null}o||(zS(e),e[ce]&=-73)}catch(h){throw o||sa(e),h}finally{l!==null&&(Hc(l,u),a&&hV(l)),Ah()}}function QS(n,e){for(let t=vS(n);t!==null;t=_S(t))for(let r=tn;r<t.length;r++){let i=t[r];YS(i,e)}}function _V(n){for(let e=vS(n);e!==null;e=_S(e)){if(!(e[ce]&2))continue;let t=e[qo];for(let r=0;r<t.length;r++){let i=t[r];ov(i)}}}function EV(n,e,t){Fe(18);let r=On(e,n);YS(r,t),Fe(19,r[Ht])}function YS(n,e){wh(n)&&Gv(n,e)}function Gv(n,e){let r=n[ne],i=n[ce],o=n[_n],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&zc(o)),s||=!1,o&&(o.dirty=!1),n[ce]&=-9217,s)vV(r,n,r.template,n[Ht]);else if(i&8192){let a=pe(null);try{WS(n),QS(n,1);let u=r.components;u!==null&&JS(n,u,1),zS(n)}finally{pe(a)}}}function JS(n,e,t){for(let r=0;r<e.length;r++)EV(n,e[r],t)}function wV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Li(~i);else{let o=i,s=t[++r],a=t[++r];fC(s,o);let u=e[o];Fe(24,u),a(2,u),Fe(25,u)}}}finally{Li(-1)}}function M_(n,e){let t=mv()?64:1088;for(n[hr].changeDetectionScheduler?.notify(e);n;){n[ce]|=t;let r=Ni(n);if(oa(n)&&!r)return n;n=r}return null}function ZS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function IV(n,e,t,r=!0){let i=e[ne];if(bV(i,e,n,t),r){let s=qv(t,n),a=e[Qe],u=a.parentNode(n[Oi]);u!==null&&kL(i,n[Mn],a,e,u,s)}let o=e[ru];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Wv(n,e){if(n.length<=tn)return;let t=tn+e,r=n[t];if(r){let i=r[ki];i!==null&&i!==n&&b_(i,r),e>0&&(n[t-1][xn]=r[xn]);let o=eu(n,tn+e);PL(r[ne],r);let s=o[fr];s!==null&&s.detachView(o[ne]),r[Tt]=null,r[xn]=null,r[ce]&=-129}return r}function bV(n,e,t,r){let i=tn+r,o=t.length;r>0&&(t[i-1][xn]=e),r<o-tn?(e[xn]=t[i],zy(t,tn+r,e)):(t.push(e),e[xn]=null),e[Tt]=t;let s=e[ki];s!==null&&t!==s&&XS(s,e);let a=e[fr];a!==null&&a.insertView(n),Ih(e),e[ce]|=128}function XS(n,e){let t=n[qo],r=e[Tt];if(pr(r))n[ce]|=2;else{let i=r[Tt][Pn];e[Pn]!==i&&(n[ce]|=2)}t===null?n[qo]=[e]:t.push(e)}var ji=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ne];return mu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Ht]}set context(e){this._lView[Ht]=e}get destroyed(){return Go(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Tt];if(Wn(e)){let t=e[su],r=t?t.indexOf(this):-1;r>-1&&(Wv(e,r),eu(t,r))}this._attachedToViewContainer=!1}jS(this._lView[ne],this._lView)}onDestroy(e){sv(this._lView,e)}markForCheck(){M_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){Ih(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,x_(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=oa(this._lView),t=this._lView[ki];t!==null&&!e&&b_(t,this._lView),VS(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let t=oa(this._lView),r=this._lView[ki];r!==null&&!t&&XS(r,this._lView),Ih(this._lView)}};var Er=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=TV;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=cV(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new ji(o)}}return n})();function TV(){return pf(Dt(),me())}function pf(n,e){return n.type&4?new Er(e,n,ma(n,e)):null}function mf(n,e,t,r,i){let o=n.data[e];if(o===null)o=DV(n,e,t,r,i),hC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=cC();o.injectorIndex=s===null?-1:s.injectorIndex}return aa(o,!0),o}function DV(n,e,t,r,i){let o=hv(),s=fv(),a=s?o:o&&o.parent,u=n.data[e]=SV(n,a,t,e,r,i);return CV(n,u,o,s),u}function CV(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function SV(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return aC()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var PJ=new RegExp(`^(\\d+)*(${tL}|${eL})*(.*)`);var AV=()=>null;function FC(n,e){return AV(n,e)}var eA=class{},gf=class{},Kv=class{resolveComponentFactory(e){throw new U(917,!1)}},wu=class{static NULL=new Kv},Jo=class{},ni=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>RV()}return n})();function RV(){let n=me(),e=Dt(),t=On(e.index,n);return(pr(t)?t:n)[Qe]}var tA=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>null})}return n})();var Uh={},Qv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Uh,r);return i!==Uh||t===Uh?i:this.parentInjector.get(e,t,r)}};function Qh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=My(i,a);else if(o==2){let u=a,l=e[++s];r=My(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ae(n,e=0){let t=me();if(t===null)return Q(n,e);let r=Dt();return fS(r,t,Pt(n),e)}function P_(){let n="invalid";throw new Error(n)}function nA(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}MV(n,e,t,a,o,u,l)}o!==null&&r!==null&&NV(t,r,o)}function NV(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function xV(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function MV(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&mr(y)&&(u=!0,xV(n,t,m)),jv(qh(t,e),n,y.type)}VV(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=FS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=da(t.mergedAttrs,y.hostAttrs),kV(n,t,e,p,y),LV(p,y,i),s!==null&&s.has(y)){let[O,M]=s.get(y);t.directiveToIndex.set(y.type,[p,O+t.directiveStart,M+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}PV(n,t,o)}function PV(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))LC(0,e,i,r),LC(1,e,i,r),jC(e,r,!1);else{let o=t.get(i);VC(0,e,o,r),VC(1,e,o,r),jC(e,r,!0)}}}function LC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),rA(e,o)}}function VC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),rA(e,s)}}function rA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function jC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||v_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function kV(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ri(i.type,!0)),s=new Yo(o,mr(i),ae,null);n.blueprint[r]=s,t[r]=s,OV(n,e,r,FS(n,t,i.hostVars,In),i)}function OV(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;FV(s)!=a&&s.push(a),s.push(t,r,o)}}function FV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function LV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;mr(e)&&(t[""]=n)}}function VV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function k_(n,e,t,r,i,o,s,a){let u=e[ne],l=u.consts,h=Wo(l,s),p=mf(u,n,t,r,h);return o&&nA(u,e,p,Wo(l,a),i),p.mergedAttrs=da(p.mergedAttrs,p.attrs),p.attrs!==null&&Qh(p,p.attrs,!1),p.mergedAttrs!==null&&Qh(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function O_(n,e){iS(n,e),ev(e)&&n.queries.elementEnd(e)}function jV(n,e,t,r,i,o){let s=e.consts,a=Wo(s,i),u=mf(e,n,t,r,a);if(u.mergedAttrs=da(u.mergedAttrs,u.attrs),o!=null){let l=Wo(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&Qh(u,u.attrs,!1),u.mergedAttrs!==null&&Qh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function F_(n){return oA(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function iA(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function oA(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function L_(n,e,t){return n[e]=t}function ei(n,e,t){if(t===In)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function V_(n,e,t,r){let i=ei(n,e,t);return ei(n,e+1,r)||i}function sA(n,e,t,r,i){let o=V_(n,e,t,r);return ei(n,e+2,i)||o}function Nv(n,e,t){return function r(i){let o=Fi(n)?On(n.index,e):e;M_(o,5);let s=e[Ht],a=UC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=UC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function UC(n,e,t,r){let i=pe(null);try{return Fe(6,e,t),t(r)!==!1}catch(o){return iV(n,o),!1}finally{Fe(7,e,t),pe(i)}}function UV(n,e,t,r,i,o,s,a){let u=ia(n),l=!1,h=null;if(!r&&u&&(h=BV(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Kn(n,t),m=r?r(p):p;rL(t,m,o,a);let y=i.listen(m,o,a),S=r?O=>r(kn(O[n.index])):n.index;aA(S,e,t,o,a,y,!1)}return l}function BV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[na],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function aA(n,e,t,r,i,o,s){let a=e.firstCreatePass?cv(e):null,u=av(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function BC(n,e,t,r,i,o){let s=e[t],a=e[ne],l=a.data[t].outputs[r],p=s[l].subscribe(o);aA(n.index,a,e,i,o,p,!0)}var Yv=Symbol("BINDING");var Yh=class extends wu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Jr(e);return new Zo(t,this.ngModule)}};function $V(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&lf.SignalBased)!==0};return i&&(o.transform=i),o})}function HV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function zV(n,e,t){let r=e instanceof Ke?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Qv(t,r):t}function qV(n){let e=n.get(Jo,null);if(e===null)throw new U(407,!1);let t=n.get(tA,null),r=n.get(Kr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function GV(n,e){let t=cA(n);return MS(e,t,t==="svg"?tv:t==="math"?XD:null)}function cA(n){return(n.selectors[0][0]||"div").toLowerCase()}var Zo=class extends gf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=$V(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=HV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=wL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Fe(22);let a=pe(null);try{let u=this.componentDef,l=WV(r,u,s,o),h=zV(u,i||this.ngModule,e),p=qV(h),m=p.rendererFactory.createRenderer(null,u),y=r?GL(m,r,u.encapsulation,h):GV(u,m),S=s?.some($C)||o?.some(L=>typeof L!="function"&&L.bindings.some($C)),O=E_(null,l,null,512|OS(u),null,null,p,m,h,null,TS(y,h,!0));O[_t]=y,Sh(O);let M=null;try{let L=k_(_t,O,2,"#host",()=>l.directiveRegistry,!0,0);y&&(kS(m,y,L),ha(y,O)),hf(l,O,L),p_(l,L,O),O_(l,L),t!==void 0&&QV(L,this.ngContentSelectors,t),M=On(L.index,O),O[Ht]=M[Ht],N_(l,O,null)}catch(L){throw M!==null&&Bv(M),Bv(O),L}finally{Fe(23),Ah()}return new Jh(this.componentType,O,!!S)}finally{pe(a)}}};function WV(n,e,t,r){let i=n?["ng-version","20.3.0"]:IL(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Yv].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Yv].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Ky(p);u.push(m)}return __(0,null,KV(o,s),1,a,u,null,null,null,[i],null)}function KV(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function $C(n){let e=n[Yv].kind;return e==="input"||e==="twoWay"}var Jh=class extends eA{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=_h(t[ne],_t),this.location=ma(this._tNode,t),this.instance=On(this._tNode.index,t)[Ht],this.hostView=this.changeDetectorRef=new ji(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=R_(r,i[ne],i,e,t);this.previousInputValues.set(e,t);let s=On(r.index,i);M_(s,1)}get injector(){return new Qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function QV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Yn=(()=>{class n{static __NG_ELEMENT_ID__=YV}return n})();function YV(){let n=Dt();return lA(n,me())}var JV=Yn,uA=class extends JV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ma(this._hostTNode,this._hostLView)}get injector(){return new Qo(this._hostTNode,this._hostLView)}get parentInjector(){let e=u_(this._hostTNode,this._hostLView);if(aS(e)){let t=Hh(e,this._hostLView),r=$h(e),i=t[ne].data[r+8];return new Qo(i,t)}else return new Qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=HC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=FC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,kC(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!AF(e),l;if(u)l=t;else{let M=t||{};l=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef,s=M.directives,a=M.bindings}let h=u?e:new Zo(Jr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let L=(u?p:this.parentInjector).get(Ke,null);L&&(o=L)}let m=Jr(h.componentType??{}),y=FC(this._lContainer,m?.id??null),S=y?.firstChild??null,O=h.create(p,i,S,o,s,a);return this.insertImpl(O.hostView,l,kC(this._hostTNode,y)),O}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(tC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Tt],l=new uA(u,u[Mn],u[Tt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return IV(s,i,o,r),e.attachToViewContainerRef(),zy(xv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=HC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Wv(this._lContainer,t);r&&(eu(xv(this._lContainer),t),jS(r[ne],r))}detach(e){let t=this._adjustIndex(e,-1),r=Wv(this._lContainer,t);return r&&eu(xv(this._lContainer),t)!=null?new ji(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function HC(n){return n[su]}function xv(n){return n[su]||(n[su]=[])}function lA(n,e){let t,r=e[n.index];return Wn(r)?t=r:(t=ZS(r,e,null,n),e[n.index]=t,w_(e,t)),XV(t,e,n,r),new uA(t,n,e)}function ZV(n,e){let t=n[Qe],r=t.createComment(""),i=Kn(e,n),o=t.parentNode(i);return Kh(t,o,r,t.nextSibling(i),!1),r}var XV=n2,e2=()=>!1;function t2(n,e,t){return e2(n,e,t)}function n2(n,e,t,r){if(n[Oi])return;let i;t.type&8?i=kn(r):i=ZV(e,t),n[Oi]=i}var Jv=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Zv=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)j_(e,t).matches!==null&&this.queries[t].setDirty()}},Xv=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=l2(e):this.predicate=e}},e_=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},t_=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,r2(t,o)),this.matchTNodeWithReadOption(e,t,jh(t,e,o,!1,!1))}else r===Er?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,jh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===wn||i===Yn||i===Er&&t.type&4)this.addMatch(t.index,-2);else{let o=jh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function r2(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function i2(n,e){return n.type&11?ma(n,e):n.type&4?pf(n,e):null}function o2(n,e,t,r){return t===-1?i2(e,n):t===-2?s2(n,e,r):pu(n,n[ne],t,e)}function s2(n,e,t){if(t===wn)return ma(e,n);if(t===Er)return pf(e,n);if(t===Yn)return lA(e,n)}function dA(n,e,t,r){let i=e[fr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(o2(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function n_(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=dA(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=tn;p<h.length;p++){let m=h[p];m[ki]===m[Tt]&&n_(m[ne],m,l,r)}if(h[qo]!==null){let p=h[qo];for(let m=0;m<p.length;m++){let y=p[m];n_(y[ne],y,l,r)}}}}}return r}function a2(n,e){return n[fr].queries[e].queryList}function c2(n,e,t){let r=new Gh((t&4)===4);return iC(n,e,r,r.destroy),(e[fr]??=new Zv).queries.push(new Jv(r))-1}function u2(n,e,t){let r=kt();return r.firstCreatePass&&(d2(r,new Xv(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),c2(r,me(),e)}function l2(n){return n.split(",").map(e=>e.trim())}function d2(n,e,t){n.queries===null&&(n.queries=new e_),n.queries.track(new t_(e,t))}function j_(n,e){return n.queries.getByIndex(e)}function h2(n,e){let t=n[ne],r=j_(t,e);return r.crossesNgTemplate?n_(t,n,e,[]):dA(t,n,r,e)}var zC=new Set;function ga(n){zC.has(n)||(zC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Xo=class{},yf=class{};var Zh=class extends Xo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Yh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Wy(e);this._bootstrapComponents=NS(o.bootstrap),this._r3Injector=wv(e,t,[{provide:Xo,useValue:this},{provide:wu,useValue:this.componentFactoryResolver},...r],Wr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Xh=class extends yf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Zh(this.moduleType,e,[])}};var gu=class extends Xo{injector;componentFactoryResolver=new Yh(this);instance=null;constructor(e){super();let t=new jo([...e.providers,{provide:Xo,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],e.parent||nu(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ya(n,e,t=null){return new gu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var f2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Qy(!1,t.type),i=r.length>0?ya([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(Q(Ke))})}return n})();function _e(n){return pa(()=>{let e=hA(n),t=ee(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===l_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(f2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Xr.Emulated,styles:n.styles||yn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ga("NgStandalone"),fA(t);let r=n.dependencies;return t.directiveDefs=qC(r,p2),t.pipeDefs=qC(r,GD),t.id=y2(t),t})}function p2(n){return Jr(n)||Ky(n)}function Jn(n){return pa(()=>({type:n.type,bootstrap:n.bootstrap||yn,declarations:n.declarations||yn,imports:n.imports||yn,exports:n.exports||yn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function m2(n,e){if(n==null)return Mi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=lf.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function g2(n){if(n==null)return Mi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Je(n){return pa(()=>{let e=hA(n);return fA(e),e})}function Bi(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function hA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Mi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||yn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:m2(n.inputs,e),outputs:g2(n.outputs),debugInfo:null}}function fA(n){n.features?.forEach(e=>e(n))}function qC(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function y2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function v2(n){return Object.getPrototypeOf(n.prototype).constructor}function wr(n){let e=v2(n.type),t=!0,r=[n];for(;e;){let i;if(mr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Mv(n.inputs),s.declaredInputs=Mv(n.declaredInputs),s.outputs=Mv(n.outputs);let a=i.hostBindings;a&&b2(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&w2(n,u),l&&I2(n,l),_2(n,i),FD(n.outputs,i.outputs),mr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===wr&&(t=!1)}}e=Object.getPrototypeOf(e)}E2(r)}function _2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function E2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=da(i.hostAttrs,t=da(t,i.hostAttrs))}}function Mv(n){return n===Mi?{}:n===yn?[]:n}function w2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function I2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function b2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function T2(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=da(n.mergedAttrs,n.attrs);let h=n.tView=__(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),aa(n,!1);let u=C2(t,e,n,r);Nh()&&T_(t,e,u,n),ha(u,e);let l=ZS(u,e,u,n);e[r+_t]=l,w_(e,l),t2(l,n,e)}function D2(n,e,t,r,i,o,s,a,u,l,h){let p=t+_t,m;return e.firstCreatePass?(m=mf(e,p,4,s||null,a||null),bh()&&nA(e,n,m,Wo(e.consts,l),C_),iS(e,m)):m=e.data[p],T2(m,n,e,t,r,i,o,u),ia(m)&&hf(e,n,m),l!=null&&ff(n,m,h),m}function re(n,e,t,r,i,o,s,a){let u=me(),l=kt(),h=Wo(l.consts,o);return D2(u,l,n,e,t,r,i,h,void 0,s,a),re}var C2=S2;function S2(n,e,t,r){return lu(!0),e[Qe].createComment("")}var vf=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(vf||{}),ns=new H(""),pA=!1,r_=class extends st{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,JD()&&(this.destroyRef=x(gr,{optional:!0})??void 0,this.pendingTasks=x(yr,{optional:!0})??void 0)}emit(e){let t=pe(null);try{super.next(e)}finally{pe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof et&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Oe=r_;function mA(n){let e,t;function r(){n=du;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function GC(n){return queueMicrotask(()=>n()),()=>{n=du}}var U_="isAngularZone",ef=U_+"_ID",A2=0,Ne=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Oe(!1);onMicrotaskEmpty=new Oe(!1);onStable=new Oe(!1);onError=new Oe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=pA}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,x2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(U_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,R2,du,du);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},R2={};function B_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function N2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){mA(()=>{n.callbackScheduled=!1,i_(n),n.isCheckStableRunning=!0,B_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),i_(n)}function x2(n){let e=()=>{N2(n)},t=A2++;n._inner=n._inner.fork({name:"angular",properties:{[U_]:!0,[ef]:t,[ef+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(M2(u))return r.invokeTask(o,s,a,u);try{return WC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),KC(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return WC(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!P2(u)&&e(),KC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,i_(n),B_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function i_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function WC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function KC(n){n._nesting--,B_(n)}var tf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Oe;onMicrotaskEmpty=new Oe;onStable=new Oe;onError=new Oe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function M2(n){return gA(n,"__ignore_ng_zone__")}function P2(n){return gA(n,"__scheduler_tick__")}function gA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var $_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),yA=[0,1,2,3],vA=(()=>{class n{ngZone=x(Ne);scheduler=x(Kr);errorHandler=x(qn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(ns,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Fe(16),this.executing=!0;for(let r of yA)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Fe(17)}register(t){let{view:r}=t;r!==void 0?((r[zo]??=[]).push(t),sa(r),r[ce]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(vf.AFTER_NEXT_RENDER,t):t()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),nf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[zo];e&&(this.view[zo]=e.filter(t=>t!==this))}};function _f(n,e){let t=e?.injector??x(tt);return ga("NgAfterNextRender"),O2(n,t,e,!0)}function k2(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function O2(n,e,t,r){let i=e.get($_);i.impl??=e.get(vA);let o=e.get(ns,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(gr):null,a=e.get(Ph,null,{optional:!0}),u=new nf(i.impl,k2(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var H_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var z_=new H("");function ri(n){return!!n&&typeof n.then=="function"}function Ef(n){return!!n&&typeof n.subscribe=="function"}var q_=new H("");function wf(n){return vn([{provide:q_,multi:!0,useValue:n}])}var G_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x(q_,{optional:!0})??[];injector=x(tt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=nt(this.injector,i);if(ri(o))t.push(o);else if(Ef(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Iu=new H("");function _A(){ny(()=>{let n="";throw new U(600,n)})}function EA(n){return n.isBoundToModule}var F2=10;var $i=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(nn);afterRenderManager=x($_);zonelessEnabled=x(Mh);rootEffectScheduler=x(Cv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new st;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(yr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(J(t=>!t))}constructor(){x(ns,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(Ke);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=tt.NULL){return this._injector.get(Ne).run(()=>{Fe(10);let s=t instanceof gf;if(!this._injector.get(G_).done){let S="";throw new U(405,S)}let u;s?u=t:u=this._injector.get(wu).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=EA(u)?void 0:this._injector.get(Xo),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(z_,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),fu(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Fe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Fe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(vf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let t=pe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pe(t),this.afterTick.next(),Fe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Jo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<F2;)Fe(14),this.synchronizeOnce(),Fe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!au(i))continue;let o=r&&!this.zonelessEnabled?0:1;x_(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>au(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;fu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Iu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>fu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function va(n,e,t,r){let i=me(),o=uu();if(ei(i,o,e)){let s=kt(),a=Rh();tV(a,i,n,e,t,r)}return va}var W_=new H("",{providedIn:"root",factory:()=>!1}),K_=new H("",{providedIn:"root",factory:()=>L2}),L2=4e3;var UJ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function B(n,e,t){let r=me(),i=uu();if(ei(r,i,e)){let o=kt(),s=Rh();$S(s,r,n,e,r[Qe],t)}return B}function QC(n,e,t,r,i){R_(e,n,t,i?"class":"style",r)}function I(n,e,t,r){let i=me(),o=i[ne],s=n+_t,a=o.firstCreatePass?k_(s,i,2,e,C_,bh(),t,r):o.data[s];if(S_(a,i,n,e,wA),ia(a)){let u=i[ne];hf(u,i,a),p_(u,a,i)}return r!=null&&ff(i,a),I}function b(){let n=kt(),e=Dt(),t=A_(e);return n.firstCreatePass&&O_(n,t),lv(t)&&dv(),uv(),t.classesWithoutHost!=null&&kF(t)&&QC(n,t,me(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&OF(t)&&QC(n,t,me(),t.stylesWithoutHost,!1),b}function Z(n,e,t,r){return I(n,e,t,r),b(),Z}function zt(n,e,t,r){let i=me(),o=i[ne],s=n+_t,a=o.firstCreatePass?jV(s,o,2,e,t,r):o.data[s];return S_(a,i,n,e,wA),r!=null&&ff(i,a),zt}function bn(){let n=Dt(),e=A_(n);return lv(e)&&dv(),uv(),bn}function ii(n,e,t,r){return zt(n,e,t,r),bn(),ii}var wA=(n,e,t,r,i)=>(lu(!0),MS(e[Qe],r,EC()));function qt(n,e,t){let r=me(),i=r[ne],o=n+_t,s=i.firstCreatePass?k_(o,r,8,"ng-container",C_,bh(),e,t):i.data[o];if(S_(s,r,n,"ng-container",V2),ia(s)){let a=r[ne];hf(a,r,s),p_(a,s,r)}return t!=null&&ff(r,s),qt}function Gt(){let n=kt(),e=Dt(),t=A_(e);return n.firstCreatePass&&O_(n,t),Gt}var V2=(n,e,t,r,i)=>(lu(!0),DL(e[Qe],""));function Et(){return me()}var Ko=void 0;function j2(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var U2=["en",[["a","p"],["AM","PM"],Ko],[["AM","PM"],Ko,Ko],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ko,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ko,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ko,"{1} 'at' {0}",Ko],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",j2],Pv={};function dn(n){let e=B2(n),t=YC(e);if(t)return t;let r=e.split("-")[0];if(t=YC(r),t)return t;if(r==="en")return U2;throw new U(701,!1)}function YC(n){return n in Pv||(Pv[n]=Qr.ng&&Qr.ng.common&&Qr.ng.common.locales&&Qr.ng.common.locales[n]),Pv[n]}var it=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(it||{});function B2(n){return n.toLowerCase().replace(/_/g,"-")}var bu="en-US";var $2=bu;function IA(n){typeof n=="string"&&($2=n.toLowerCase().replace(/_/g,"-"))}function De(n,e,t){let r=me(),i=kt(),o=Dt();return bA(i,r,r[Qe],o,n,e,t),De}function bA(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Nv(r,e,o),UV(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Nv(r,e,o),BC(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Nv(r,e,o),BC(r,e,p,i,i,u)}}function ie(n=1){return _C(n)}function Q_(n,e,t){u2(n,e,t)}function If(n){let e=me(),t=kt(),r=vv();Ch(r+1);let i=j_(t,r);if(n.dirty&&eC(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=h2(e,r);n.reset(o,KF),n.notifyOnChanges()}return!0}return!1}function bf(){return a2(me(),vv())}function Wt(n){let e=lC();return Eh(e,_t+n)}function Fh(n,e){return n<<17|e<<2}function es(n){return n>>17&32767}function H2(n){return(n&2)==2}function z2(n,e){return n&131071|e<<17}function o_(n){return n|2}function fa(n){return(n&131068)>>2}function kv(n,e){return n&-131069|e<<2}function q2(n){return(n&1)===1}function s_(n){return n|1}function G2(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=es(s),u=fa(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||ta(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=es(n[a+1]);n[r+1]=Fh(m,a),m!==0&&(n[m+1]=kv(n[m+1],r)),n[a+1]=z2(n[a+1],r)}else n[r+1]=Fh(a,0),a!==0&&(n[a+1]=kv(n[a+1],r)),a=r;else n[r+1]=Fh(u,0),a===0?a=r:n[u+1]=kv(n[u+1],r),u=r;l&&(n[r+1]=o_(n[r+1])),JC(n,h,r,!0),JC(n,h,r,!1),W2(e,h,n,r,o),s=Fh(a,u),o?e.classBindings=s:e.styleBindings=s}function W2(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ta(o,e)>=0&&(t[r+1]=s_(t[r+1]))}function JC(n,e,t,r){let i=n[t+1],o=e===null,s=r?es(i):fa(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];K2(u,e)&&(a=!0,n[s+1]=r?s_(l):o_(l)),s=r?es(l):fa(l)}a&&(n[t+1]=r?o_(i):s_(i))}function K2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ta(n,e)>=0:!1}function Tf(n,e,t){return TA(n,e,t,!1),Tf}function Ir(n,e){return TA(n,e,null,!0),Ir}function TA(n,e,t,r){let i=me(),o=kt(),s=Th(2);if(o.firstUpdatePass&&Y2(o,n,s,r),e!==In&&ei(i,s,e)){let a=o.data[Zr()];tj(o,a,i,i[Qe],n,i[s+1]=nj(e,t),r,s)}}function Q2(n,e){return e>=n.expandoStartIndex}function Y2(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Zr()],s=Q2(n,t);rj(o,r)&&e===null&&!s&&(e=!1),e=J2(i,o,e,r),G2(i,o,e,t,s,r)}}function J2(n,e,t,r){let i=mC(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Ov(null,n,e,t,r),t=yu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Ov(i,n,e,t,r),o===null){let u=Z2(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Ov(null,n,e,u[1],r),u=yu(u,e.attrs,r),X2(n,e,r,u))}else o=ej(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Z2(n,e,t){let r=t?e.classBindings:e.styleBindings;if(fa(r)!==0)return n[es(r)]}function X2(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[es(i)]=r}function ej(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=yu(r,s,t)}return yu(r,e.attrs,t)}function Ov(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=yu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function yu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),qD(n,s,t?!0:e[++o]))}return n===void 0?null:n}function tj(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=q2(l)?ZC(u,e,t,i,fa(l),s):void 0;if(!rf(h)){rf(o)||H2(l)&&(o=ZC(u,null,t,i,a,s));let p=nv(Zr(),t);qL(r,s,p,i,o)}}function ZC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===In&&(m=p?yn:void 0);let y=p?yh(m,r):h===r?m:void 0;if(l&&!rf(y)&&(y=yh(u,r)),rf(y)&&(a=y,s))return a;let S=n[i+1];i=s?es(S):fa(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=yh(u,r))}return a}function rf(n){return n!==void 0}function nj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Wr(_u(n)))),n}function rj(n,e){return(n.flags&(e?8:16))!==0}function N(n,e=""){let t=me(),r=kt(),i=n+_t,o=r.firstCreatePass?mf(r,i,1,e,null):r.data[i],s=ij(r,t,o,e,n);t[i]=s,Nh()&&T_(r,t,s,o),aa(o,!1)}var ij=(n,e,t,r,i)=>(lu(!0),bL(e[Qe],r));function DA(n,e,t,r=""){return ei(n,uu(),t)?e+dr(t)+r:In}function oj(n,e,t,r,i,o=""){let s=yv(),a=V_(n,s,t,i);return Th(2),a?e+dr(t)+r+dr(i)+o:In}function sj(n,e,t,r,i,o,s,a=""){let u=yv(),l=sA(n,u,t,i,s);return Th(3),l?e+dr(t)+r+dr(i)+o+dr(s)+a:In}function Ee(n){return ge("",n),Ee}function ge(n,e,t){let r=me(),i=DA(r,n,e,t);return i!==In&&Y_(r,Zr(),i),ge}function br(n,e,t,r,i){let o=me(),s=oj(o,n,e,t,r,i);return s!==In&&Y_(o,Zr(),s),br}function Df(n,e,t,r,i,o,s){let a=me(),u=sj(a,n,e,t,r,i,o,s);return u!==In&&Y_(a,Zr(),u),Df}function Y_(n,e,t){let r=nv(e,n);TL(n[Qe],r,t)}function Tu(n,e,t){bv(e)&&(e=e());let r=me(),i=uu();if(ei(r,i,e)){let o=kt(),s=Rh();$S(s,r,n,e,r[Qe],t)}return Tu}function Cf(n,e){let t=bv(n);return t&&n.set(e),t}function Du(n,e){let t=me(),r=kt(),i=Dt();return bA(r,t,t[Qe],i,n,e),Du}function Sf(n,e,t=""){return DA(me(),n,e,t)}function aj(n,e,t){let r=kt();if(r.firstCreatePass){let i=mr(n);a_(t,r.data,r.blueprint,i,!0),a_(e,r.data,r.blueprint,i,!1)}}function a_(n,e,t,r,i){if(n=Pt(n),Array.isArray(n))for(let o=0;o<n.length;o++)a_(n[o],e,t,r,i);else{let o=kt(),s=me(),a=Dt(),u=Vo(n)?n:Pt(n.provide),l=Jy(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Vo(n)||!n.multi){let y=new Yo(l,i,ae,null),S=Lv(u,e,i?h:h+m,p);S===-1?(jv(qh(a,s),o,u),Fv(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[S]=y,s[S]=y)}else{let y=Lv(u,e,h+m,p),S=Lv(u,e,h,h+m),O=y>=0&&t[y],M=S>=0&&t[S];if(i&&!M||!i&&!O){jv(qh(a,s),o,u);let L=lj(i?uj:cj,t.length,i,r,l,n);!i&&M&&(t[S].providerFactory=L),Fv(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(L),s.push(L)}else{let L=CA(t[i?S:y],l,!i&&r);Fv(o,n,y>-1?y:S,L)}!i&&r&&M&&t[S].componentProviders++}}}function Fv(n,e,t,r){let i=Vo(e),o=YD(e);if(i||o){let u=(o?Pt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function CA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Lv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function cj(n,e,t,r,i){return c_(this.multi,[])}function uj(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=pu(r,r[ne],this.providerFactory.index,i);s=u.slice(0,a),c_(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],c_(o,s);return s}function c_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function lj(n,e,t,r,i,o){let s=new Yo(n,t,ae,null);return s.multi=[],s.index=e,s.componentProviders=0,CA(s,i,r&&!t),s}function _a(n,e=[]){return t=>{t.providersResolver=(r,i)=>aj(r,i?i(n):n,e)}}function Cu(n,e,t,r){return SA(me(),ca(),n,e,t,r)}function oi(n,e,t,r,i){return AA(me(),ca(),n,e,t,r,i)}function J_(n,e,t,r,i,o){return dj(me(),ca(),n,e,t,r,i,o)}function Z_(n,e){let t=n[e];return t===In?void 0:t}function SA(n,e,t,r,i,o){let s=e+t;return ei(n,s,i)?L_(n,s+1,o?r.call(o,i):r(i)):Z_(n,s+1)}function AA(n,e,t,r,i,o,s){let a=e+t;return V_(n,a,i,o)?L_(n,a+2,s?r.call(s,i,o):r(i,o)):Z_(n,a+2)}function dj(n,e,t,r,i,o,s,a){let u=e+t;return sA(n,u,i,o,s)?L_(n,u+3,a?r.call(a,i,o,s):r(i,o,s)):Z_(n,u+3)}function ht(n,e){let t=kt(),r,i=n+_t;t.firstCreatePass?(r=hj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ri(r.type,!0)),s,a=en(ae);try{let u=zh(!1),l=o();return zh(u),rv(t,me(),i,l),l}finally{en(a)}}function hj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Tn(n,e,t){let r=n+_t,i=me(),o=Eh(i,r);return RA(i,r)?SA(i,ca(),e,o.transform,t,o):o.transform(t)}function Zn(n,e,t,r){let i=n+_t,o=me(),s=Eh(o,i);return RA(o,i)?AA(o,ca(),e,s.transform,t,r,s):s.transform(t,r)}function RA(n,e){return n[ne].data[e].pure}function hn(n,e){return pf(n,e)}var of=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},X_=(()=>{class n{compileModuleSync(t){return new Xh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Wy(t),o=NS(i.declarations).reduce((s,a)=>{let u=Jr(a);return u&&s.push(new Zo(u)),s},[]);return new of(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fj=(()=>{class n{zone=x(Ne);changeDetectionScheduler=x(Kr);applicationRef=x($i);applicationErrorHandler=x(nn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NA({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ne(ee(F({},xA()),{scheduleInRootZone:t})),[{provide:Ne,useFactory:n},{provide:Pi,multi:!0,useFactory:()=>{let r=x(fj,{optional:!0});return()=>r.initialize()}},{provide:Pi,multi:!0,useFactory:()=>{let r=x(pj);return()=>{r.initialize()}}},e===!0?{provide:Tv,useValue:!0}:[],{provide:Dv,useValue:t??pA},{provide:nn,useFactory:()=>{let r=x(Ne),i=x(Ke),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(qn),o.handleError(s))})}}}]}function xA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var pj=(()=>{class n{subscription=new et;initialized=!1;zone=x(Ne);pendingTasks=x(yr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var MA=(()=>{class n{applicationErrorHandler=x(nn);appRef=x($i);taskService=x(yr);ngZone=x(Ne);zonelessEnabled=x(Mh);tracing=x(ns,{optional:!0});disableScheduling=x(Tv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new et;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ef):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(Dv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof tf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?GC:mA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ef+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,GC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mj(){return typeof $localize<"u"&&$localize.locale||bu}var Ea=new H("",{providedIn:"root",factory:()=>x(Ea,{optional:!0,skipSelf:!0})||mj()});function ft(n){return PD(n)}function wa(n,e){return kd(n,e?.equal)}var PA=class{[$t];constructor(e){this[$t]=e}destroy(){this[$t].destroy()}};var VA=Symbol("InputSignalNode#UNSET"),Aj=ee(F({},Od),{transformFn:void 0,applyValueToInputSignal(n,e){js(n,e)}});function jA(n,e){let t=Object.create(Aj);t.value=n,t.transformFn=e?.transform;function r(){if(Fs(t),t.value===VA){let i=null;throw new U(-950,i)}return t.value}return r[$t]=t,r}var Rf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>vu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Rj=new H("");Rj.__NG_ELEMENT_ID__=n=>{let e=Dt();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new U(204,!1)};function kA(n,e){return jA(n,e)}function Nj(n){return jA(VA,n)}var UA=(kA.required=Nj,kA);var rs=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},BA=new rs("20.3.0");var eE=new H(""),xj=new H("");function Su(n){return!n.moduleRef}function Mj(n){let e=Su(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ne);return t.run(()=>{Su(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(nn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Su(n)){let o=()=>e.destroy(),s=n.platformInjector.get(eE);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(eE);s.add(o),n.moduleRef.onDestroy(()=>{fu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return kj(r,t,()=>{let o=e.get(yr),s=o.add(),a=e.get(G_);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Ea,bu);if(IA(u||bu),!e.get(xj,!0))return Su(n)?e.get($i):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Su(n)){let h=e.get($i);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return Pj?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var Pj;function kj(n,e,t){try{let r=t();return ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Af=null;function Oj(n=[],e){return tt.create({name:e,providers:[{provide:tu,useValue:"platform"},{provide:eE,useValue:new Set([()=>Af=null])},...n]})}function Fj(n=[]){if(Af)return Af;let e=Oj(n);return Af=e,_A(),Lj(e),e}function Lj(n){let e=n.get(af,null);nt(n,()=>{e?.forEach(t=>t())})}function oE(){return!1}var Hi=(()=>{class n{static __NG_ELEMENT_ID__=Vj}return n})();function Vj(n){return jj(Dt(),me(),(n&16)===16)}function jj(n,e,t){if(Fi(n)&&!t){let r=On(n.index,e);return new ji(r,r)}else if(n.type&175){let r=e[Pn];return new ji(r,e)}return null}var tE=class{constructor(){}supports(e){return F_(e)}create(e){return new nE(e)}},Uj=(n,e)=>e,nE=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Uj}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<OA(r,i,o)?t:r,a=OA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!F_(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,iA(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new rE(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Nf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},rE=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},iE=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Nf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new iE,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function OA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function FA(){return new sE([new tE])}var sE=(()=>{class n{factories;static \u0275prov=z({token:n,providedIn:"root",factory:FA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=x(n,{optional:!0,skipSelf:!0});return n.create(t,r||FA())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new U(901,!1)}}return n})();function $A(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Fe(8);try{let o=i?.injector??Fj(r),s=[NA({}),{provide:Kr,useExisting:MA},IC,...t||[]],a=new gu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Mj({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Fe(9)}}function zi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function HA(n){let e=Jr(n);if(!e)return null;let t=new Zo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var GA=null;function Fn(){return GA}function aE(n){GA??=n}var Au=class{},Ru=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>x(WA),providedIn:"platform"})}return n})(),cE=new H(""),WA=(()=>{class n extends Ru{_location;_history;_doc=x(rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fn().getBaseHref(this._doc)}onPopState(t){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function xf(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function zA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Xn(n){return n&&n[0]!=="?"?`?${n}`:n}var er=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>x(Pf),providedIn:"root"})}return n})(),Mf=new H(""),Pf=(()=>{class n extends er{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xf(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Xn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Xn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Xn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(Ru),Q(Mf,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qi=(()=>{class n{_subject=new st;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Hj(zA(qA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xn(r))}normalize(t){return n.stripTrailingSlash($j(this._basePath,qA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Xn;static joinWithSlash=xf;static stripTrailingSlash=zA;static \u0275fac=function(r){return new(r||n)(Q(er))};static \u0275prov=z({token:n,factory:()=>Bj(),providedIn:"root"})}return n})();function Bj(){return new qi(Q(er))}function $j(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function qA(n){return n.replace(/\/index.html$/,"")}function Hj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var yE=(()=>{class n extends er{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=xf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Xn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Xn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(Ru),Q(Mf,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var vE=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(vE||{});var Kt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Kt||{}),Ve=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Ve||{}),fn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(fn||{}),pn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function XA(n){return dn(n)[it.LocaleId]}function eR(n,e,t){let r=dn(n),i=[r[it.DayPeriodsFormat],r[it.DayPeriodsStandalone]],o=Ln(i,e);return Ln(o,t)}function tR(n,e,t){let r=dn(n),i=[r[it.DaysFormat],r[it.DaysStandalone]],o=Ln(i,e);return Ln(o,t)}function nR(n,e,t){let r=dn(n),i=[r[it.MonthsFormat],r[it.MonthsStandalone]],o=Ln(i,e);return Ln(o,t)}function rR(n,e){let r=dn(n)[it.Eras];return Ln(r,e)}function Nu(n,e){let t=dn(n);return Ln(t[it.DateFormat],e)}function xu(n,e){let t=dn(n);return Ln(t[it.TimeFormat],e)}function Mu(n,e){let r=dn(n)[it.DateTimeFormat];return Ln(r,e)}function Tr(n,e){let t=dn(n),r=t[it.NumberSymbols][e];if(typeof r>"u"){if(e===pn.CurrencyDecimal)return t[it.NumberSymbols][pn.Decimal];if(e===pn.CurrencyGroup)return t[it.NumberSymbols][pn.Group]}return r}function iR(n,e){return dn(n)[it.NumberFormats][e]}function oR(n){if(!n[it.ExtraData])throw new U(2303,!1)}function sR(n){let e=dn(n);return oR(e),(e[it.ExtraData][2]||[]).map(r=>typeof r=="string"?uE(r):[uE(r[0]),uE(r[1])])}function aR(n,e,t){let r=dn(n);oR(r);let i=[r[it.ExtraData][0],r[it.ExtraData][1]],o=Ln(i,e)||[];return Ln(o,t)||[]}function Ln(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new U(2304,!1)}function uE(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var zj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,kf={},qj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function cR(n,e,t,r){let i=eU(n);e=si(t,e)||e;let s=[],a;for(;e;)if(a=qj.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=lR(r,u),i=Xj(i,r));let l="";return s.forEach(h=>{let p=Jj(h);l+=p?p(i,t,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function jf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function si(n,e){let t=XA(n);if(kf[t]??={},kf[t][e])return kf[t][e];let r="";switch(e){case"shortDate":r=Nu(n,fn.Short);break;case"mediumDate":r=Nu(n,fn.Medium);break;case"longDate":r=Nu(n,fn.Long);break;case"fullDate":r=Nu(n,fn.Full);break;case"shortTime":r=xu(n,fn.Short);break;case"mediumTime":r=xu(n,fn.Medium);break;case"longTime":r=xu(n,fn.Long);break;case"fullTime":r=xu(n,fn.Full);break;case"short":let i=si(n,"shortTime"),o=si(n,"shortDate");r=Of(Mu(n,fn.Short),[i,o]);break;case"medium":let s=si(n,"mediumTime"),a=si(n,"mediumDate");r=Of(Mu(n,fn.Medium),[s,a]);break;case"long":let u=si(n,"longTime"),l=si(n,"longDate");r=Of(Mu(n,fn.Long),[u,l]);break;case"full":let h=si(n,"fullTime"),p=si(n,"fullDate");r=Of(Mu(n,fn.Full),[h,p]);break}return r&&(kf[t][e]=r),r}function Of(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function tr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Gj(n,e){return tr(n,3).substring(0,e)}function pt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=Wj(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return Gj(a,e);let u=Tr(s,pn.MinusSign);return tr(a,e,u,r,i)}}function Wj(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new U(2301,!1)}}function Be(n,e,t=Kt.Format,r=!1){return function(i,o){return Kj(i,o,n,e,t,r)}}function Kj(n,e,t,r,i,o){switch(t){case 2:return nR(e,i,r)[n.getMonth()];case 1:return tR(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=sR(e),h=aR(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,S]=m,O=s>=y.hours&&a>=y.minutes,M=s<S.hours||s===S.hours&&a<S.minutes;if(y.hours<S.hours){if(O&&M)return!0}else if(O||M)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return eR(e,i,r)[s<12?0:1];case 3:return rR(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new U(2302,!1)}}function Ff(n){return function(e,t,r){let i=-1*r,o=Tr(t,pn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+tr(s,2,o)+tr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+tr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+tr(s,2,o)+":"+tr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+tr(s,2,o)+":"+tr(Math.abs(i%60),2,o);default:throw new U(2302,!1)}}}var Qj=0,Vf=4;function Yj(n){let e=jf(n,Qj,1).getDay();return jf(n,0,1+(e<=Vf?Vf:Vf+7)-e)}function uR(n){let e=n.getDay(),t=e===0?-3:Vf-e;return jf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function lE(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=uR(t),s=Yj(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return tr(i,n,Tr(r,pn.MinusSign))}}function Lf(n,e=!1){return function(t,r){let o=uR(t).getFullYear();return tr(o,n,Tr(r,pn.MinusSign),e)}}var dE={};function Jj(n){if(dE[n])return dE[n];let e;switch(n){case"G":case"GG":case"GGG":e=Be(3,Ve.Abbreviated);break;case"GGGG":e=Be(3,Ve.Wide);break;case"GGGGG":e=Be(3,Ve.Narrow);break;case"y":e=pt(0,1,0,!1,!0);break;case"yy":e=pt(0,2,0,!0,!0);break;case"yyy":e=pt(0,3,0,!1,!0);break;case"yyyy":e=pt(0,4,0,!1,!0);break;case"Y":e=Lf(1);break;case"YY":e=Lf(2,!0);break;case"YYY":e=Lf(3);break;case"YYYY":e=Lf(4);break;case"M":case"L":e=pt(1,1,1);break;case"MM":case"LL":e=pt(1,2,1);break;case"MMM":e=Be(2,Ve.Abbreviated);break;case"MMMM":e=Be(2,Ve.Wide);break;case"MMMMM":e=Be(2,Ve.Narrow);break;case"LLL":e=Be(2,Ve.Abbreviated,Kt.Standalone);break;case"LLLL":e=Be(2,Ve.Wide,Kt.Standalone);break;case"LLLLL":e=Be(2,Ve.Narrow,Kt.Standalone);break;case"w":e=lE(1);break;case"ww":e=lE(2);break;case"W":e=lE(1,!0);break;case"d":e=pt(2,1);break;case"dd":e=pt(2,2);break;case"c":case"cc":e=pt(7,1);break;case"ccc":e=Be(1,Ve.Abbreviated,Kt.Standalone);break;case"cccc":e=Be(1,Ve.Wide,Kt.Standalone);break;case"ccccc":e=Be(1,Ve.Narrow,Kt.Standalone);break;case"cccccc":e=Be(1,Ve.Short,Kt.Standalone);break;case"E":case"EE":case"EEE":e=Be(1,Ve.Abbreviated);break;case"EEEE":e=Be(1,Ve.Wide);break;case"EEEEE":e=Be(1,Ve.Narrow);break;case"EEEEEE":e=Be(1,Ve.Short);break;case"a":case"aa":case"aaa":e=Be(0,Ve.Abbreviated);break;case"aaaa":e=Be(0,Ve.Wide);break;case"aaaaa":e=Be(0,Ve.Narrow);break;case"b":case"bb":case"bbb":e=Be(0,Ve.Abbreviated,Kt.Standalone,!0);break;case"bbbb":e=Be(0,Ve.Wide,Kt.Standalone,!0);break;case"bbbbb":e=Be(0,Ve.Narrow,Kt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Be(0,Ve.Abbreviated,Kt.Format,!0);break;case"BBBB":e=Be(0,Ve.Wide,Kt.Format,!0);break;case"BBBBB":e=Be(0,Ve.Narrow,Kt.Format,!0);break;case"h":e=pt(3,1,-12);break;case"hh":e=pt(3,2,-12);break;case"H":e=pt(3,1);break;case"HH":e=pt(3,2);break;case"m":e=pt(4,1);break;case"mm":e=pt(4,2);break;case"s":e=pt(5,1);break;case"ss":e=pt(5,2);break;case"S":e=pt(6,1);break;case"SS":e=pt(6,2);break;case"SSS":e=pt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Ff(0);break;case"ZZZZZ":e=Ff(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ff(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ff(2);break;default:return null}return dE[n]=e,e}function lR(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Zj(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function Xj(n,e,t){let i=n.getTimezoneOffset(),o=lR(e,i);return Zj(n,-1*(o-i))}function eU(n){if(KA(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return jf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(zj))return tU(r)}let e=new Date(n);if(!KA(e))throw new U(2302,!1);return e}function tU(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,u,l),e}function KA(n){return n instanceof Date&&!isNaN(n.valueOf())}var nU=/^(\d+)?\.((\d+)(-(\d+))?)?$/,QA=22,Uf=".",Pu="0",rU=";",iU=",",hE="#";function oU(n,e,t,r,i,o,s=!1){let a="",u=!1;if(!isFinite(n))a=Tr(t,pn.Infinity);else{let l=cU(n);s&&(l=aU(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let W=o.match(nU);if(W===null)throw new U(2306,!1);let te=W[1],oe=W[3],Ue=W[5];te!=null&&(h=fE(te)),oe!=null&&(p=fE(oe)),Ue!=null?m=fE(Ue):oe!=null&&p>m&&(m=p)}uU(l,p,m);let y=l.digits,S=l.integerLen,O=l.exponent,M=[];for(u=y.every(W=>!W);S<h;S++)y.unshift(0);for(;S<0;S++)y.unshift(0);S>0?M=y.splice(S,y.length):(M=y,y=[0]);let L=[];for(y.length>=e.lgSize&&L.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)L.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&L.unshift(y.join("")),a=L.join(Tr(t,r)),M.length&&(a+=Tr(t,i)+M.join("")),O&&(a+=Tr(t,pn.Exponential)+"+"+O)}return n<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function dR(n,e,t){let r=iR(e,vE.Decimal),i=sU(r,Tr(e,pn.MinusSign));return oU(n,i,e,pn.Group,pn.Decimal,t)}function sU(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(rU),i=r[0],o=r[1],s=i.indexOf(Uf)!==-1?i.split(Uf):[i.substring(0,i.lastIndexOf(Pu)+1),i.substring(i.lastIndexOf(Pu)+1)],a=s[0],u=s[1]||"";t.posPre=a.substring(0,a.indexOf(hE));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Pu?t.minFrac=t.maxFrac=h+1:p===hE?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(iU);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(hE);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function aU(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function cU(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Uf))>-1&&(e=e.replace(Uf,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Pu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Pu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>QA&&(r=r.splice(0,QA-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function uU(n,e,t){if(e>t)throw new U(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,m,y,S){return m=m+p,S[y]=m<10?m:m-10,u&&(S[y]===0&&y>=l?S.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function fE(n){let e=parseInt(n);if(isNaN(e))throw new U(2305,!1);return e}var pE=/\s+/,YA=[],rn=(()=>{class n{_ngEl;_renderer;initialClasses=YA;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(pE):YA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(pE):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(pE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ae(wn),ae(ni))};static \u0275dir=Je({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Bf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ct=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Bf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),JA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);JA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ae(Yn),ae(Er),ae(sE))};static \u0275dir=Je({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function JA(n,e){n.context.$implicit=e.item}var ct=(()=>{class n{_viewContainer;_context=new $f;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ZA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ZA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ae(Yn),ae(Er))};static \u0275dir=Je({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),$f=class{$implicit=null;ngIf=null};function ZA(n,e){if(n&&!n.createEmbeddedView)throw new U(2020,!1)}var Hf=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,t){this._viewContainerRef=e,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},ku=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let r of this._defaultViews)r.enforceState(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Je({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),_E=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Hf(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||n)(ae(Yn),ae(Er),ae(ku,9))};static \u0275dir=Je({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})(),EE=(()=>{class n{constructor(t,r,i){i._addDefault(new Hf(t,r))}static \u0275fac=function(r){return new(r||n)(ae(Yn),ae(Er),ae(ku,9))};static \u0275dir=Je({type:n,selectors:[["","ngSwitchDefault",""]]})}return n})();function zf(n,e){return new U(2100,!1)}var mE=class{createSubscription(e,t,r){return ft(()=>e.subscribe({next:t,error:r}))}dispose(e){ft(()=>e.unsubscribe())}},gE=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},lU=new gE,dU=new mE,is=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=x(nn);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(ri(t))return lU;if(Ef(t))return dU;throw zf(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(ae(Hi,16))};static \u0275pipe=Bi({name:"async",type:n,pure:!1})}return n})();var wE=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw zf(n,t);return t.toUpperCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Bi({name:"uppercase",type:n,pure:!0})}return n})(),hU="mediumDate",hR=new H(""),fR=new H(""),Ou=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??hU,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return cR(t,s,o||this.locale,a)}catch(s){throw zf(n,s.message)}}static \u0275fac=function(r){return new(r||n)(ae(Ea,16),ae(hR,24),ae(fR,24))};static \u0275pipe=Bi({name:"date",type:n,pure:!0})}return n})();var Fu=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!fU(t))return null;i||=this._locale;try{let o=pU(t);return dR(o,i,r)}catch(o){throw zf(n,o.message)}}static \u0275fac=function(r){return new(r||n)(ae(Ea,16))};static \u0275pipe=Bi({name:"number",type:n,pure:!0})}return n})();function fU(n){return!(n==null||n===""||n!==n)}function pU(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new U(2309,!1);return n}var be=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jn({type:n});static \u0275inj=Nn({})}return n})();function Lu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var os=class{};var pR="browser";var mR=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new IE(x(rt),window)})}return n})(),IE=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ee(F({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=mU(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(xi(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ee(F({},t),{left:i-s[0],top:o-s[1]}))}};function mU(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Gf=new H(""),SE=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Q(Gf),Q(Ne))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Vu=class{_doc;constructor(e){this._doc=e}manager},bE="ng-app-id";function gR(n){for(let e of n)e.remove()}function yR(n,e){let t=e.createElement("style");return t.textContent=n,t}function gU(n,e,t,r){let i=n.head?.querySelectorAll(`style[${bE}="${e}"],link[${bE}="${e}"]`);if(i)for(let o of i)o.removeAttribute(bE),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function DE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var AE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,gU(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,yR);r?.forEach(i=>this.addUsage(i,this.external,DE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(gR(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])gR(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,yR(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,DE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Q(rt),Q(sf),Q(cf,8),Q(Ui))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),TE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},RE=/%COMP%/g;var _R="%COMP%",yU=`_nghost-${_R}`,vU=`_ngcontent-${_R}`,_U=!0,EU=new H("",{providedIn:"root",factory:()=>_U});function wU(n){return vU.replace(RE,n)}function IU(n){return yU.replace(RE,n)}function ER(n,e){return e.map(t=>t.replace(RE,n))}var NE=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(t,r,i,o,s,a,u,l=null,h,p,m=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.animationDisabled=h,this.maxAnimationTimeout=p,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new ju(t,s,u,this.platformIsServer,this.tracingService,this.registry=xh(),this.maxAnimationTimeout)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof qf?i.applyToHost(t):i instanceof Uu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Xr.Emulated:o=new qf(u,l,r,this.appId,h,s,a,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Xr.ShadowDom:return new CE(u,l,t,r,s,a,this.nonce,p,m,this.registry,this.maxAnimationTimeout);default:o=new Uu(u,l,r,h,s,a,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Q(SE),Q(AE),Q(sf),Q(EU),Q(rt),Q(Ui),Q(Ne),Q(cf),Q(W_),Q(K_),Q(ns,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),ju=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o,s,a){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(TE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(vR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(vR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){let{elements:r}=this.registry;if(r){r.animate(t,()=>t.remove(),this.maxAnimationTimeout);return}t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=TE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=TE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(_r.DashCase|_r.Important)?e.style.setProperty(t,r,i&_r.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&_r.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Fn().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function vR(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var CE=class extends ju{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l,h,p){super(e,o,s,u,l,h,p),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=ER(i.id,m);for(let S of m){let O=document.createElement("style");a&&O.setAttribute("nonce",a),O.textContent=S,this.shadowRoot.appendChild(O)}let y=i.getExternalStyles?.();if(y)for(let S of y){let O=DE(S,o);a&&O.setAttribute("nonce",a),this.shadowRoot.appendChild(O)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Uu=class extends ju{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,t,r,i,o,s,a,u,l,h,p,m){super(e,o,s,a,u,l,p),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this._animationDisabled=h;let y=r.styles;this.styles=m?ER(m,y):y,this.styleUrls=r.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},qf=class extends Uu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l,h,p,m){let y=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h,p,m,y),this.contentAttr=wU(y),this.hostAttr=IU(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Wf=class n extends Au{supportsDOMEvents=!0;static makeCurrent(){aE(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=bU();return t==null?null:TU(t)}resetBaseElement(){Bu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Lu(document.cookie,e)}},Bu=null;function bU(){return Bu=Bu||document.head.querySelector("base"),Bu?Bu.getAttribute("href"):null}function TU(n){return new URL(n,document.baseURI).pathname}var DU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),IR=(()=>{class n extends Vu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Q(rt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),wR=["alt","control","meta","shift"],CU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},bR=(()=>{class n extends Vu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),wR.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=CU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),wR.forEach(s=>{if(s!==i){let a=SU[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Q(rt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function xE(n,e,t){let r=F({rootComponent:n,platformRef:t?.platformRef},AU(e));return $A(r)}function AU(n){return{appProviders:[...PU,...n?.providers??[]],platformProviders:MU}}function RU(){Wf.makeCurrent()}function NU(){return new qn}function xU(){return d_(document),document}var MU=[{provide:Ui,useValue:pR},{provide:af,useValue:RU,multi:!0},{provide:rt,useFactory:xU}];var PU=[{provide:tu,useValue:"root"},{provide:qn,useFactory:NU},{provide:Gf,useClass:IR,multi:!0,deps:[rt]},{provide:Gf,useClass:bR,multi:!0,deps:[rt]},NE,AE,SE,{provide:Jo,useExisting:NE},{provide:os,useClass:DU},[]];var ba=class{},zu=class{},ss=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Qf=class{encodeKey(e){return TR(e)}encodeValue(e){return TR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function kU(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var OU=/%(\d[a-f0-9])/gi,FU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function TR(n){return encodeURIComponent(n).replace(OU,(e,t)=>FU[t]??e)}function Kf(n){return`${n}`}var Gi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Qf,e.fromString){if(e.fromObject)throw new U(2805,!1);this.map=kU(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Kf):[Kf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Kf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Kf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Yf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function LU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function DR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function CR(n){return typeof Blob<"u"&&n instanceof Blob}function SR(n){return typeof FormData<"u"&&n instanceof FormData}function VU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var AR="Content-Type",RR="Accept",NR="X-Request-URL",xR="text/plain",MR="application/json",jU=`${MR}, ${xR}, */*`,$u=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(LU(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new U(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new ss,this.context??=new Yf,!this.params)this.params=new Gi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||DR(this.body)||CR(this.body)||SR(this.body)||VU(this.body)?this.body:this.body instanceof Gi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||SR(this.body)?null:CR(this.body)?this.body.type||null:DR(this.body)?null:typeof this.body=="string"?xR:this.body instanceof Gi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?MR:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,u=e.mode||this.mode,l=e.redirect||this.redirect,h=e.credentials||this.credentials,p=e.referrer||this.referrer,m=e.integrity||this.integrity,y=e.transferCache??this.transferCache,S=e.timeout??this.timeout,O=e.body!==void 0?e.body:this.body,M=e.withCredentials??this.withCredentials,L=e.reportProgress??this.reportProgress,W=e.headers||this.headers,te=e.params||this.params,oe=e.context??this.context;return e.setHeaders!==void 0&&(W=Object.keys(e.setHeaders).reduce((Ue,ve)=>Ue.set(ve,e.setHeaders[ve]),W)),e.setParams&&(te=Object.keys(e.setParams).reduce((Ue,ve)=>Ue.set(ve,e.setParams[ve]),te)),new n(t,r,O,{params:te,headers:W,context:oe,reportProgress:L,responseType:i,withCredentials:M,transferCache:y,keepalive:o,cache:a,priority:s,timeout:S,mode:u,redirect:l,credentials:h,referrer:p,integrity:m})}},Ia=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ia||{}),Ta=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new ss,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Jf=class n extends Ta{constructor(e={}){super(e)}type=Ia.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Zf=class n extends Ta{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ia.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Hu=class extends Ta{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},UU=200,BU=204;function ME(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var $U=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof $u)o=t;else{let u;i.headers instanceof ss?u=i.headers:u=new ss(i.headers);let l;i.params&&(i.params instanceof Gi?l=i.params:l=new Gi({fromObject:i.params})),o=new $u(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=K(o).pipe(lr(u=>this.handler.handle(u)));if(t instanceof $u||i.observe==="events")return s;let a=s.pipe(Mt(u=>u instanceof Zf));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new U(2806,!1);return u.body}));case"blob":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new U(2807,!1);return u.body}));case"text":return a.pipe(J(u=>{if(u.body!==null&&typeof u.body!="string")throw new U(2808,!1);return u.body}));case"json":default:return a.pipe(J(u=>u.body))}case"response":return a;default:throw new U(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Gi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ME(i,r))}post(t,r,i={}){return this.request("POST",t,ME(i,r))}put(t,r,i={}){return this.request("PUT",t,ME(i,r))}static \u0275fac=function(r){return new(r||n)(Q(ba))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var HU=new H("");function zU(n,e){return e(n)}function qU(n,e,t){return(r,i)=>nt(t,()=>e(r,o=>n(o,i)))}var kE=new H(""),GU=new H(""),PR=new H("",{providedIn:"root",factory:()=>!0});var Xf=(()=>{class n extends ba{backend;injector;chain=null;pendingTasks=x(Vi);contributeToStability=x(PR);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(kE),...this.injector.get(GU,[])]));this.chain=r.reduceRight((i,o)=>qU(i,o,this.injector),zU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Oo(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Q(zu),Q(Ke))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var WU=/^\)\]\}',?\n/,KU=RegExp(`^${NR}:`,"m");function QU(n){return"responseURL"in n&&n.responseURL?n.responseURL:KU.test(n.getAllResponseHeaders())?n.getResponseHeader(NR):null}var PE=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new U(-2800,!1);let r=this.xhrFactory;return K(null).pipe(We(()=>new Y(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,L)=>s.setRequestHeader(M,L.join(","))),t.headers.has(RR)||s.setRequestHeader(RR,jU),!t.headers.has(AR)){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader(AR,M)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let M=s.statusText||"OK",L=new ss(s.getAllResponseHeaders()),W=QU(s)||t.url;return u=new Jf({headers:L,status:s.status,statusText:M,url:W}),u},h=()=>{let{headers:M,status:L,statusText:W,url:te}=l(),oe=null;L!==BU&&(oe=typeof s.response>"u"?s.responseText:s.response),L===0&&(L=oe?UU:0);let Ue=L>=200&&L<300;if(t.responseType==="json"&&typeof oe=="string"){let ve=oe;oe=oe.replace(WU,"");try{oe=oe!==""?JSON.parse(oe):null}catch(D){oe=ve,Ue&&(Ue=!1,oe={error:D,text:oe})}}Ue?(o.next(new Zf({body:oe,headers:M,status:L,statusText:W,url:te||void 0})),o.complete()):o.error(new Hu({error:oe,headers:M,status:L,statusText:W,url:te||void 0}))},p=M=>{let{url:L}=l(),W=new Hu({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:L||void 0});o.error(W)},m=p;t.timeout&&(m=M=>{let{url:L}=l(),W=new Hu({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:L||void 0});o.error(W)});let y=!1,S=M=>{y||(o.next(l()),y=!0);let L={type:Ia.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(L.total=M.total),t.responseType==="text"&&s.responseText&&(L.partialText=s.responseText),o.next(L)},O=M=>{let L={type:Ia.UploadProgress,loaded:M.loaded};M.lengthComputable&&(L.total=M.total),o.next(L)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",m),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",S),a!==null&&s.upload&&s.upload.addEventListener("progress",O)),s.send(a),o.next({type:Ia.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",S),a!==null&&s.upload&&s.upload.removeEventListener("progress",O)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Q(os))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),kR=new H(""),YU="XSRF-TOKEN",JU=new H("",{providedIn:"root",factory:()=>YU}),ZU="X-XSRF-TOKEN",XU=new H("",{providedIn:"root",factory:()=>ZU}),qu=class{},eB=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Q(rt),Q(JU))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function tB(n,e){let t=n.url.toLowerCase();if(!x(kR)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(qu).getToken(),i=x(XU);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var OE=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(OE||{});function nB(n,e){return{\u0275kind:n,\u0275providers:e}}function FE(...n){let e=[$U,PE,Xf,{provide:ba,useExisting:Xf},{provide:zu,useFactory:()=>x(HU,{optional:!0})??x(PE)},{provide:kE,useValue:tB,multi:!0},{provide:kR,useValue:!0},{provide:qu,useClass:eB}];for(let t of n)e.push(...t.\u0275providers);return vn(e)}function LE(n){return nB(OE.Interceptors,n.map(e=>({provide:kE,useValue:e,multi:!0})))}var OR=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Q(rt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var he="primary",il=Symbol("RouteTitle"),$E=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function us(n){return new $E(n)}function HR(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function iB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Dr(n[t],e[t]))return!1;return!0}function Dr(n,e){let t=n?HE(n):void 0,r=e?HE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!zR(n[i],e[i]))return!1;return!0}function HE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function zR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function qR(n){return n.length>0?n[n.length-1]:null}function ai(n){return yy(n)?n:ri(n)?Le(Promise.resolve(n)):K(n)}var oB={exact:WR,subset:KR},GR={exact:sB,subset:aB,ignored:()=>!0};function FR(n,e,t){return oB[t.paths](n.root,e.root,t.matrixParams)&&GR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function sB(n,e){return Dr(n,e)}function WR(n,e,t){if(!as(n.segments,e.segments)||!np(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!WR(n.children[r],e.children[r],t))return!1;return!0}function aB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zR(n[t],e[t]))}function KR(n,e,t){return QR(n,e,e.segments,t)}function QR(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!as(i,t)||e.hasChildren()||!np(i,t,r))}else if(n.segments.length===t.length){if(!as(n.segments,t)||!np(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!KR(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!as(n.segments,i)||!np(n.segments,i,r)||!n.children[he]?!1:QR(n.children[he],e,o,r)}}function np(n,e,t){return e.every((r,i)=>GR[t](n[i].parameters,r.parameters))}var Sr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=us(this.queryParams),this._queryParamMap}toString(){return lB.serialize(this)}},Me=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rp(this)}},Wi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=us(this.parameters),this._parameterMap}toString(){return JR(this)}};function cB(n,e){return as(n,e)&&n.every((t,r)=>Dr(t.parameters,e[r].parameters))}function as(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function uB(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===he&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==he&&(t=t.concat(e(i,r)))}),t}var ls=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new Ki,providedIn:"root"})}return n})(),Ki=class{parse(e){let t=new qE(e);return new Sr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Gu(e.root,!0)}`,r=fB(e.queryParams),i=typeof e.fragment=="string"?`#${dB(e.fragment)}`:"";return`${t}${r}${i}`}},lB=new Ki;function rp(n){return n.segments.map(e=>JR(e)).join("/")}function Gu(n,e){if(!n.hasChildren())return rp(n);if(e){let t=n.children[he]?Gu(n.children[he],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==he&&r.push(`${i}:${Gu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=uB(n,(r,i)=>i===he?[Gu(n.children[he],!1)]:[`${i}:${Gu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[he]!=null?`${rp(n)}/${t[0]}`:`${rp(n)}/(${t.join("//")})`}}function YR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ep(n){return YR(n).replace(/%3B/gi,";")}function dB(n){return encodeURI(n)}function zE(n){return YR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ip(n){return decodeURIComponent(n)}function LR(n){return ip(n.replace(/\+/g,"%20"))}function JR(n){return`${zE(n.path)}${hB(n.parameters)}`}function hB(n){return Object.entries(n).map(([e,t])=>`;${zE(e)}=${zE(t)}`).join("")}function fB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ep(t)}=${ep(i)}`).join("&"):`${ep(t)}=${ep(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var pB=/^[^\/()?;#]+/;function VE(n){let e=n.match(pB);return e?e[0]:""}var mB=/^[^\/()?;=#]+/;function gB(n){let e=n.match(mB);return e?e[0]:""}var yB=/^[^=?&#]+/;function vB(n){let e=n.match(yB);return e?e[0]:""}var _B=/^[^&#]+/;function EB(n){let e=n.match(_B);return e?e[0]:""}var qE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new Me(e,t)),r}parseSegment(){let e=VE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Wi(ip(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=gB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=VE(this.remaining);i&&(r=i,this.capture(r))}e[ip(t)]=ip(r)}parseQueryParam(e){let t=vB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=EB(this.remaining);s&&(r=s,this.capture(r))}let i=LR(t),o=LR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=VE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=he);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[he]:new Me([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function ZR(n){return n.segments.length>0?new Me([],{[he]:n}):n}function XR(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=XR(i);if(r===he&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Me(n.segments,e);return wB(t)}function wB(n){if(n.numberOfChildren===1&&n.children[he]){let e=n.children[he];return new Me(n.segments.concat(e.segments),e.children)}return n}function Qi(n){return n instanceof Sr}function eN(n,e,t=null,r=null){let i=tN(n);return nN(i,e,t,r)}function tN(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Me(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=ZR(r);return e??i}function nN(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return jE(i,i,i,t,r);let o=IB(e);if(o.toRoot())return jE(i,i,new Me([],{}),t,r);let s=bB(o,i,n),a=s.processChildren?Ku(s.segmentGroup,s.index,o.commands):iN(s.segmentGroup,s.index,o.commands);return jE(i,s.segmentGroup,a,t,r)}function op(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Yu(n){return typeof n=="object"&&n!=null&&n.outlets}function jE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=rN(n,e,t);let a=ZR(XR(s));return new Sr(a,o,i)}function rN(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=rN(o,e,t)}),new Me(n.segments,r)}var sp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&op(r[0]))throw new U(4003,!1);let i=r.find(Yu);if(i&&i!==qR(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function IB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new sp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new sp(t,e,r)}var Sa=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function bB(n,e,t){if(n.isAbsolute)return new Sa(e,!0,0);if(!t)return new Sa(e,!1,NaN);if(t.parent===null)return new Sa(t,!0,0);let r=op(n.commands[0])?0:1,i=t.segments.length-1+r;return TB(t,i,n.numberOfDoubleDots)}function TB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new Sa(r,!1,i-o)}function DB(n){return Yu(n[0])?n[0].outlets:{[he]:n}}function iN(n,e,t){if(n??=new Me([],{}),n.segments.length===0&&n.hasChildren())return Ku(n,e,t);let r=CB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Me(n.segments.slice(0,r.pathIndex),{});return o.children[he]=new Me(n.segments.slice(r.pathIndex),n.children),Ku(o,0,i)}else return r.match&&i.length===0?new Me(n.segments,{}):r.match&&!n.hasChildren()?GE(n,e,t):r.match?Ku(n,0,i):GE(n,e,t)}function Ku(n,e,t){if(t.length===0)return new Me(n.segments,{});{let r=DB(t),i={};if(Object.keys(r).some(o=>o!==he)&&n.children[he]&&n.numberOfChildren===1&&n.children[he].segments.length===0){let o=Ku(n.children[he],e,t);return new Me(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=iN(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Me(n.segments,i)}}function CB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Yu(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!jR(u,l,s))return o;r+=2}else{if(!jR(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function GE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Yu(o)){let u=SB(o.outlets);return new Me(r,u)}if(i===0&&op(t[0])){let u=n.segments[e];r.push(new Wi(u.path,VR(t[0]))),i++;continue}let s=Yu(o)?o.outlets[he]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&op(a)?(r.push(new Wi(s,VR(a))),i+=2):(r.push(new Wi(s,{})),i++)}return new Me(r,{})}function SB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=GE(new Me([],{}),0,r))}),e}function VR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function jR(n,e,t){return n==t.path&&Dr(e,t.parameters)}var Aa="imperative",wt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(wt||{}),Sn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Yi=class extends Sn{type=wt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vn=class extends Sn{urlAfterRedirects;type=wt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},on=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(on||{}),Na=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Na||{}),Cr=class extends Sn{reason;code;type=wt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ar=class extends Sn{reason;code;type=wt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},xa=class extends Sn{error;target;type=wt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ju=class extends Sn{urlAfterRedirects;state;type=wt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class extends Sn{urlAfterRedirects;state;type=wt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cp=class extends Sn{urlAfterRedirects;state;shouldActivate;type=wt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},up=class extends Sn{urlAfterRedirects;state;type=wt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lp=class extends Sn{urlAfterRedirects;state;type=wt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dp=class{route;type=wt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hp=class{route;type=wt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fp=class{snapshot;type=wt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pp=class{snapshot;type=wt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mp=class{snapshot;type=wt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gp=class{snapshot;type=wt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ma=class{routerEvent;position;anchor;type=wt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Zu=class{},Pa=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function AB(n){return!(n instanceof Zu)&&!(n instanceof Pa)}function RB(n,e){return n.providers&&!n._injector&&(n._injector=ya(n.providers,e,`Route: ${n.path}`)),n._injector??e}function nr(n){return n.outlet||he}function NB(n,e){let t=n.filter(r=>nr(r)===e);return t.push(...n.filter(r=>nr(r)!==e)),t}function Fa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var yp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Fa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ds(this.rootInjector)}},ds=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new yp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Q(Ke))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=WE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=WE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=KE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return KE(e,this._root).map(t=>t.value)}};function WE(n,e){if(n===e.value)return e;for(let t of e.children){let r=WE(n,t);if(r)return r}return null}function KE(n,e){if(n===e.value)return[e];for(let t of e.children){let r=KE(n,t);if(r.length)return r.unshift(e),r}return[]}var Cn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ca(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Xu=class extends vp{snapshot;constructor(e,t){super(e),this.snapshot=t,nw(this,e)}toString(){return this.snapshot.toString()}};function oN(n){let e=xB(n),t=new xt([new Wi("",{})]),r=new xt({}),i=new xt({}),o=new xt({}),s=new xt(""),a=new Rr(t,r,o,s,i,he,n,e.root);return a.snapshot=e.root,new Xu(new Cn(a,[]),e)}function xB(n){let e={},t={},r={},o=new cs([],e,r,"",t,he,n,null,{});return new el("",new Cn(o,[]))}var Rr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(J(l=>l[il]))??K(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>us(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>us(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _p(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&aN(i)&&(r.resolve[il]=i.title),r}var cs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[il]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=us(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=us(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},el=class extends vp{url;constructor(e,t){super(t),this.url=e,nw(this,t)}toString(){return sN(this._root)}};function nw(n,e){e.value._routerState=n,e.children.forEach(t=>nw(n,t))}function sN(n){let e=n.children.length>0?` { ${n.children.map(sN).join(", ")} } `:"";return`${n.value}${e}`}function UE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Dr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Dr(e.params,t.params)||n.paramsSubject.next(t.params),iB(e.url,t.url)||n.urlSubject.next(t.url),Dr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function QE(n,e){let t=Dr(n.params,e.params)&&cB(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||QE(n.parent,e.parent))}function aN(n){return typeof n.title=="string"||n.title===null}var cN=new H(""),ol=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=he;activateEvents=new Oe;deactivateEvents=new Oe;attachEvents=new Oe;detachEvents=new Oe;routerOutletData=UA(void 0);parentContexts=x(ds);location=x(Yn);changeDetector=x(Hi);inputBinder=x(sl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new YE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Je({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ti]})}return n})(),YE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Rr?this.route:e===ds?this.childContexts:e===cN?this.outletData:this.parent.get(e,t)}},sl=new H(""),rw=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ko([r.queryParams,r.params,r.data]).pipe(We(([o,s,a],u)=>(a=F(F(F({},o),s),a),u===0?K(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=HA(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),iw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=_e({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Z(0,"router-outlet")},dependencies:[ol],encapsulation:2})}return n})();function ow(n){let e=n.children&&n.children.map(ow),t=e?ee(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=iw),t}function MB(n,e,t){let r=tl(n,e._root,t?t._root:void 0);return new Xu(r,e)}function tl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=PB(n,e,t);return new Cn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>tl(n,a)),s}}let r=kB(e.value),i=e.children.map(o=>tl(n,o));return new Cn(r,i)}}function PB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return tl(n,r,i);return tl(n,r)})}function kB(n){return new Rr(new xt(n.url),new xt(n.params),new xt(n.queryParams),new xt(n.fragment),new xt(n.data),n.outlet,n.component,n)}var ka=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},uN="ngNavigationCancelingError";function Ep(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Qi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lN(!1,on.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function lN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[uN]=!0,t.cancellationCode=e,t}function OB(n){return dN(n)&&Qi(n.url)}function dN(n){return!!n&&n[uN]}var FB=(n,e,t,r)=>J(i=>(new JE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),JE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),UE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ca(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ca(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ca(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ca(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new pp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(UE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),UE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},wp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ra=class{component;route;constructor(e,t){this.component=e,this.route=t}};function LB(n,e,t){let r=n._root,i=e?e._root:null;return Wu(r,i,t,[r.value])}function VB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function La(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Oy(n)?n:e.get(n):r}function Wu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ca(e);return n.children.forEach(s=>{jB(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qu(a,t.getContext(s),i)),i}function jB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=UB(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new wp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Wu(n,e,a?a.children:null,r,i):Wu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ra(a.outlet.component,s))}else s&&Qu(e,a,i),i.canActivateChecks.push(new wp(r)),o.component?Wu(n,null,a?a.children:null,r,i):Wu(n,null,t,r,i);return i}function UB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!as(n.url,e.url);case"pathParamsOrQueryParamsChange":return!as(n.url,e.url)||!Dr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QE(n,e)||!Dr(n.queryParams,e.queryParams);case"paramsChange":default:return!QE(n,e)}}function Qu(n,e,t){let r=Ca(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Qu(s,e.children.getContext(o),t):Qu(s,null,t):Qu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ra(e.outlet.component,i)):t.canDeactivateChecks.push(new Ra(null,i)):t.canDeactivateChecks.push(new Ra(null,i))}function al(n){return typeof n=="function"}function BB(n){return typeof n=="boolean"}function $B(n){return n&&al(n.canLoad)}function HB(n){return n&&al(n.canActivate)}function zB(n){return n&&al(n.canActivateChild)}function qB(n){return n&&al(n.canDeactivate)}function GB(n){return n&&al(n.canMatch)}function hN(n){return n instanceof Hr||n?.name==="EmptyError"}var tp=Symbol("INITIAL_VALUE");function Oa(){return We(n=>ko(n.map(e=>e.pipe(zr(1),ah(tp)))).pipe(J(e=>{for(let t of e)if(t!==!0){if(t===tp)return tp;if(t===!1||WB(t))return t}return!0}),Mt(e=>e!==tp),zr(1)))}function WB(n){return Qi(n)||n instanceof ka}function KB(n,e){return at(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?K(ee(F({},t),{guardsResult:!0})):QB(s,r,i,n).pipe(at(a=>a&&BB(a)?YB(r,o,n,e):K(a)),J(a=>ee(F({},t),{guardsResult:a})))})}function QB(n,e,t,r){return Le(n).pipe(at(i=>t$(i.component,i.route,t,e,r)),qr(i=>i!==!0,!0))}function YB(n,e,t,r){return Le(e).pipe(lr(i=>Zs(ZB(i.route.parent,r),JB(i.route,r),e$(n,i.path,t),XB(n,i.route,t))),qr(i=>i!==!0,!0))}function JB(n,e){return n!==null&&e&&e(new mp(n)),K(!0)}function ZB(n,e){return n!==null&&e&&e(new fp(n)),K(!0)}function XB(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>Kc(()=>{let s=Fa(e)??t,a=La(o,s),u=HB(a)?a.canActivate(e,n):nt(s,()=>a(e,n));return ai(u).pipe(qr())}));return K(i).pipe(Oa())}function e$(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>VB(s)).filter(s=>s!==null).map(s=>Kc(()=>{let a=s.guards.map(u=>{let l=Fa(s.node)??t,h=La(u,l),p=zB(h)?h.canActivateChild(r,n):nt(l,()=>h(r,n));return ai(p).pipe(qr())});return K(a).pipe(Oa())}));return K(o).pipe(Oa())}function t$(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let u=Fa(e)??i,l=La(a,u),h=qB(l)?l.canDeactivate(n,e,t,r):nt(u,()=>l(n,e,t,r));return ai(h).pipe(qr())});return K(s).pipe(Oa())}function n$(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=La(s,n),u=$B(a)?a.canLoad(e,t):nt(n,()=>a(e,t));return ai(u)});return K(o).pipe(Oa(),fN(r))}function fN(n){return Ud(dt(e=>{if(typeof e!="boolean")throw Ep(n,e)}),J(e=>e===!0))}function r$(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=La(s,n),u=GB(a)?a.canMatch(e,t):nt(n,()=>a(e,t));return ai(u)});return K(o).pipe(Oa(),fN(r))}var nl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},rl=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Da(n){return Ys(new nl(n))}function i$(n){return Ys(new U(4e3,!1))}function o$(n){return Ys(lN(!1,on.GuardRejected))}var ZE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[he])return i$(`${e.redirectTo}`);i=i.children[he]}}applyRedirectCommands(e,t,r,i,o){return s$(t,i,o).pipe(J(s=>{if(s instanceof Sr)throw new rl(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new rl(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Sr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Me(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function s$(n,e,t){if(typeof n=="string")return K(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return ai(nt(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var XE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a$(n,e,t,r,i){let o=pN(n,e,t);return o.matched?(r=RB(e,r),r$(r,e,t,i).pipe(J(s=>s===!0?o:F({},XE)))):K(o)}function pN(n,e,t){if(e.path==="**")return c$(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},XE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||HR)(t,n,e);if(!i)return F({},XE);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function c$(n){return{matched:!0,parameters:n.length>0?qR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function UR(n,e,t,r){return t.length>0&&d$(n,t,r)?{segmentGroup:new Me(e,l$(r,new Me(t,n.children))),slicedSegments:[]}:t.length===0&&h$(n,t,r)?{segmentGroup:new Me(n.segments,u$(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Me(n.segments,n.children),slicedSegments:t}}function u$(n,e,t,r){let i={};for(let o of t)if(bp(n,e,o)&&!r[nr(o)]){let s=new Me([],{});i[nr(o)]=s}return F(F({},r),i)}function l$(n,e){let t={};t[he]=e;for(let r of n)if(r.path===""&&nr(r)!==he){let i=new Me([],{});t[nr(r)]=i}return t}function d$(n,e,t){return t.some(r=>bp(n,e,r)&&nr(r)!==he)}function h$(n,e,t){return t.some(r=>bp(n,e,r))}function bp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function f$(n,e,t){return e.length===0&&!n.children[t]}var ew=class{};function p$(n,e,t,r,i,o,s="emptyOnly"){return new tw(n,e,t,r,i,s,o).recognize()}var m$=31,tw=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ZE(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=UR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:t,rootSnapshot:r})=>{let i=new Cn(r,t),o=new el("",i),s=eN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new cs([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),he,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,he,t).pipe(J(r=>({children:r,rootSnapshot:t})),zn(r=>{if(r instanceof rl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(J(s=>s instanceof Cn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Le(o).pipe(lr(s=>{let a=r.children[s],u=NB(t,s);return this.processSegmentGroup(e,u,a,s,i)}),sh((s,a)=>(s.push(...a),s)),Ai(null),_y(),at(s=>{if(s===null)return Da(r);let a=mN(s);return g$(a),K(a)}))}processSegment(e,t,r,i,o,s,a){return Le(t).pipe(lr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(zn(l=>{if(l instanceof nl)return K(null);throw l}))),qr(u=>!!u),zn(u=>{if(hN(u))return f$(r,i,o)?K(new ew):Da(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return nr(r)!==s&&(s===he||!bp(i,o,r))?Da(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Da(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=pN(t,i,o);if(!u)return Da(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>m$&&(this.allowRedirects=!1));let y=new cs(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,BR(i),nr(i),i.component??i._loadedComponent??null,i,$R(i)),S=_p(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(We(M=>this.applyRedirects.lineralizeSegments(i,M)),at(M=>this.processSegment(e,r,t,M.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=a$(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(We(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(We(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new cs(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,BR(r),nr(r),r.component??r._loadedComponent??null,r,$R(r)),O=_p(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(O.params),S.data=Object.freeze(O.data);let{segmentGroup:M,slicedSegments:L}=UR(t,m,y,l);if(L.length===0&&M.hasChildren())return this.processChildren(h,l,M,S).pipe(J(te=>new Cn(S,te)));if(l.length===0&&L.length===0)return K(new Cn(S,[]));let W=nr(r)===o;return this.processSegment(h,l,M,L,W?he:o,!0,S).pipe(J(te=>new Cn(S,te instanceof Cn?[te]:[])))}))):Da(t)))}getChildConfig(e,t,r){return t.children?K({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?K({routes:t._loadedRoutes,injector:t._loadedInjector}):n$(e,t,r,this.urlSerializer).pipe(at(i=>i?this.configLoader.loadChildren(e,t).pipe(dt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):o$(t))):K({routes:[],injector:e})}};function g$(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}function y$(n){let e=n.value.routeConfig;return e&&e.path===""}function mN(n){let e=[],t=new Set;for(let r of n){if(!y$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=mN(r.children);e.push(new Cn(r.value,i))}return e.filter(r=>!t.has(r))}function BR(n){return n.data||{}}function $R(n){return n.resolve||{}}function v$(n,e,t,r,i,o){return at(s=>p$(n,e,t,r,s.extractedUrl,i,o).pipe(J(({state:a,tree:u})=>ee(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function _$(n,e){return at(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of gN(u))s.add(l);let a=0;return Le(s).pipe(lr(u=>o.has(u)?E$(u,r,n,e):(u.data=_p(u,u.parent,n).resolve,K(void 0))),dt(()=>a++),Xs(1),at(u=>a===s.size?K(t):cn))})}function gN(n){let e=n.children.map(t=>gN(t)).flat();return[n,...e]}function E$(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!aN(i)&&(o[il]=i.title),Kc(()=>(n.data=_p(n,n.parent,t).resolve,w$(o,n,e,r).pipe(J(s=>(n._resolvedData=s,n.data=F(F({},n.data),s),null)))))}function w$(n,e,t,r){let i=HE(n);if(i.length===0)return K({});let o={};return Le(i).pipe(at(s=>I$(n[s],e,t,r).pipe(qr(),dt(a=>{if(a instanceof ka)throw Ep(new Ki,a);o[s]=a}))),Xs(1),J(()=>o),zn(s=>hN(s)?cn:Ys(s)))}function I$(n,e,t,r){let i=Fa(e)??r,o=La(n,i),s=o.resolve?o.resolve(e,t):nt(i,()=>o(e,t));return ai(s)}function BE(n){return We(e=>{let t=n(e);return t?Le(t).pipe(J(()=>e)):K(e)})}var sw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===he);return r}getResolvedTitleForRoute(t){return t.data[il]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>x(yN),providedIn:"root"})}return n})(),yN=(()=>{class n extends sw{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Q(OR))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ji=new H("",{providedIn:"root",factory:()=>({})}),hs=new H(""),Tp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(X_);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ai(nt(t,()=>r.loadComponent())).pipe(J(_N),We(EN),dt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Oo(()=>{this.componentLoaders.delete(r)})),o=new Gs(i,()=>new st).pipe(qs());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=vN(r,this.compiler,t,this.onLoadEndListener).pipe(Oo(()=>{this.childrenLoaders.delete(r)})),s=new Gs(o,()=>new st).pipe(qs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vN(n,e,t,r){return ai(nt(t,()=>n.loadChildren())).pipe(J(_N),We(EN),at(i=>i instanceof yf||Array.isArray(i)?K(i):Le(e.compileModuleAsync(i))),J(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(hs,[],{optional:!0,self:!0}).flat()),{routes:s.map(ow),injector:o}}))}function b$(n){return n&&typeof n=="object"&&"default"in n}function _N(n){return b$(n)?n.default:n}function EN(n){return K(n)}var Dp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>x(T$),providedIn:"root"})}return n})(),T$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aw=new H(""),cw=new H("");function wN(n,e,t){let r=n.get(cw),i=n.get(rt);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),D$(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&nt(n,()=>u({transition:a,from:e,to:t})),s}function D$(n){return new Promise(e=>{_f({read:()=>setTimeout(e)},{injector:n})})}var uw=new H(""),Cp=(()=>{class n{currentNavigation=ln(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new st;transitionAbortWithErrorSubject=new st;configLoader=x(Tp);environmentInjector=x(Ke);destroyRef=x(gr);urlSerializer=x(ls);rootContexts=x(ds);location=x(qi);inputBindingEnabled=x(sl,{optional:!0})!==null;titleStrategy=x(sw);options=x(Ji,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Dp);createViewTransition=x(aw,{optional:!0});navigationErrorHandler=x(uw,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new dp(i)),r=i=>this.events.next(new hp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ft(()=>{this.transitions?.next(ee(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new xt(null),this.transitions.pipe(Mt(r=>r!==null),We(r=>{let i=!1;return K(r).pipe(We(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",on.SupersededByNewNavigation),cn;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ee(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Ar(o.id,this.urlSerializer.serialize(o.rawUrl),"",Na.IgnoredSameUrlNavigation)),o.resolve(!1),cn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return K(o).pipe(We(u=>(this.events.next(new Yi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?cn:Promise.resolve(u))),v$(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),dt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Ju(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Yi(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let S=oN(this.rootComponentType).snapshot;return this.currentTransition=r=ee(F({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:ee(F({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(O=>(O.finalUrl=l,O)),K(r)}else return this.events.next(new Ar(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Na.IgnoredByUrlHandlingStrategy)),o.resolve(!1),cn}),dt(o=>{let s=new ap(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),J(o=>(this.currentTransition=r=ee(F({},o),{guards:LB(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),KB(this.environmentInjector,o=>this.events.next(o)),dt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Ep(this.urlSerializer,o.guardsResult);let s=new cp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Mt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",on.GuardRejected),!1)),BE(o=>{if(o.guards.canActivateChecks.length!==0)return K(o).pipe(dt(s=>{let a=new up(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),We(s=>{let a=!1;return K(s).pipe(_$(this.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",on.NoDataFromResolver)}}))}),dt(s=>{let a=new lp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),BE(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Fa(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(dt(h=>{a.component=h}),J(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return ko(s(o.targetSnapshot.root)).pipe(Ai(null),zr(1))}),BE(()=>this.afterPreactivation()),We(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Le(a).pipe(J(()=>r)):K(r)}),J(o=>{let s=MB(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ee(F({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),dt(()=>{this.events.next(new Zu)}),FB(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),zr(1),ch(new Y(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Mt(()=>!i&&!r.targetRouterState),dt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",on.Aborted)}))),dt({next:o=>{i=!0,this.lastSuccessfulNavigation=ft(this.currentNavigation),this.events.next(new Vn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ch(this.transitionAbortWithErrorSubject.pipe(dt(o=>{throw o}))),Oo(()=>{i||this.cancelNavigationTransition(r,"",on.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),zn(o=>{if(this.destroyed)return r.resolve(!1),cn;if(i=!0,dN(o))this.events.next(new Cr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),OB(o)?this.events.next(new Pa(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new xa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=nt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ka){let{message:u,cancellationCode:l}=Ep(this.urlSerializer,a);this.events.next(new Cr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Pa(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return cn}))}))}cancelNavigationTransition(t,r,i){let o=new Cr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ft(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function C$(n){return n!==Aa}var IN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>x(S$),providedIn:"root"})}return n})(),Ip=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},S$=(()=>{class n extends Ip{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ts(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bN=(()=>{class n{urlSerializer=x(ls);options=x(Ji,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(qi);urlHandlingStrategy=x(Dp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Sr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Sr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=oN(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>x(A$),providedIn:"root"})}return n})(),A$=(()=>{class n extends bN{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Yi?this.updateStateMemento():t instanceof Ar?this.commitTransition(r):t instanceof Ju?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Zu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Cr&&t.code!==on.SupersededByNewNavigation&&t.code!==on.Redirect?this.restoreHistory(r):t instanceof xa?this.restoreHistory(r,!0):t instanceof Vn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ts(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sp(n,e){n.events.pipe(Mt(t=>t instanceof Vn||t instanceof Cr||t instanceof xa||t instanceof Ar),J(t=>t instanceof Vn||t instanceof Ar?0:(t instanceof Cr?t.code===on.Redirect||t.code===on.SupersededByNewNavigation:!1)?2:1),Mt(t=>t!==2),zr(1)).subscribe(()=>{e()})}var R$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},N$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(H_);stateManager=x(bN);options=x(Ji,{optional:!0})||{};pendingTasks=x(yr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(Cp);urlSerializer=x(ls);location=x(qi);urlHandlingStrategy=x(Dp);injector=x(Ke);_events=new st;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(IN);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(hs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(sl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new et;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ft(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Cr&&r.code!==on.Redirect&&r.code!==on.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Vn)this.navigated=!0;else if(r instanceof Pa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||C$(i.source)},s);this.scheduleNavigation(a,Aa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}AB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Aa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(nn)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ft(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ow),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=tN(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return nN(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Qi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Aa,null,r)}navigate(t,r={skipLocationChange:!1}){return x$(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},R$):r===!1?i=F({},N$):i=r,Qi(t))return FR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return FR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Sp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function x$(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new U(4008,!1)}var Ap=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ln(null);get href(){return ft(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new st;applicationErrorHandler=x(nn);options=x(Ji,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(x(new Rf("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Vn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Qi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ae(jn),ae(Rr),vu("tabindex"),ae(ni),ae(wn),ae(er))};static \u0275dir=Je({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&De("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&va("href",i.reactiveHref(),g_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",zi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",zi],replaceUrl:[2,"replaceUrl","replaceUrl",zi],routerLink:"routerLink"},features:[ti]})}return n})();var cl=class{};var TN=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Mt(t=>t instanceof Vn),lr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ya(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Le(i).pipe(Js())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=K(null);let o=i.pipe(at(s=>s===null?K(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Le([o,s]).pipe(Js())}else return o})}static \u0275fac=function(r){return new(r||n)(Q(jn),Q(Ke),Q(cl),Q(Tp))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DN=new H(""),M$=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Aa;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Yi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ar&&t.code===Na.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ma&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Ma(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){P_()};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function dw(n,...e){return vn([{provide:hs,multi:!0,useValue:n},[],{provide:Rr,useFactory:CN,deps:[jn]},{provide:Iu,multi:!0,useFactory:SN},e.map(t=>t.\u0275providers)])}function CN(n){return n.routerState.root}function ul(n,e){return{\u0275kind:n,\u0275providers:e}}function SN(){let n=x(tt);return e=>{let t=n.get($i);if(e!==t.components[0])return;let r=n.get(jn),i=n.get(AN);n.get(hw)===1&&r.initialNavigation(),n.get(xN,null,{optional:!0})?.setUpPreloading(),n.get(DN,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var AN=new H("",{factory:()=>new st}),hw=new H("",{providedIn:"root",factory:()=>1});function RN(){let n=[{provide:h_,useValue:!0},{provide:hw,useValue:0},wf(()=>{let e=x(tt);return e.get(cE,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(jn),o=e.get(AN);Sp(i,()=>{r(!0)}),e.get(Cp).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))})];return ul(2,n)}function NN(){let n=[wf(()=>{x(jn).setUpLocationChangeListener()}),{provide:hw,useValue:2}];return ul(3,n)}var xN=new H("");function MN(n){return ul(0,[{provide:xN,useExisting:TN},{provide:cl,useExisting:n}])}function PN(){return ul(8,[rw,{provide:sl,useExisting:rw}])}function kN(n){ga("NgRouterViewTransitions");let e=[{provide:aw,useValue:wN},{provide:cw,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return ul(9,e)}var ON=[qi,{provide:ls,useClass:Ki},jn,ds,{provide:Rr,useFactory:CN,deps:[jn]},Tp,[]],ll=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[ON,[],{provide:hs,multi:!0,useValue:t},[],r?.errorHandler?{provide:uw,useValue:r.errorHandler}:[],{provide:Ji,useValue:r||{}},r?.useHash?k$():O$(),P$(),r?.preloadingStrategy?MN(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?F$(r):[],r?.bindToComponentInputs?PN().\u0275providers:[],r?.enableViewTransitions?kN().\u0275providers:[],L$()]}}static forChild(t){return{ngModule:n,providers:[{provide:hs,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jn({type:n});static \u0275inj=Nn({})}return n})();function P$(){return{provide:DN,useFactory:()=>{let n=x(mR),e=x(Ne),t=x(Ji),r=x(Cp),i=x(ls);return t.scrollOffset&&n.setOffset(t.scrollOffset),new M$(i,r,n,e,t)}}}function k$(){return{provide:er,useClass:yE}}function O$(){return{provide:er,useClass:Pf}}function F$(n){return[n.initialNavigation==="disabled"?NN().\u0275providers:[],n.initialNavigation==="enabledBlocking"?RN().\u0275providers:[]]}var lw=new H("");function L$(){return[{provide:lw,useFactory:SN},{provide:Iu,multi:!0,useExisting:lw}]}var FN=()=>{};var jN=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},j$=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Rp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(jN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):j$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new pw;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},pw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},U$=function(n){let e=jN(n);return Rp.encodeByteArray(e,!0)},hl=function(n){return U$(n).replace(/\./g,"")},Np=function(n){try{return Rp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var B$=()=>gw().__FIREBASE_DEFAULTS__,$$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},H$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Np(n[1]);return e&&JSON.parse(e)},xp=()=>{try{return FN()||B$()||$$()||H$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yw=n=>{var e,t;return(t=(e=xp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},UN=n=>{let e=yw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},vw=()=>{var n;return(n=xp())===null||n===void 0?void 0:n.config},_w=n=>{var e;return(e=xp())===null||e===void 0?void 0:e[`_${n}`]};var fs=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Zi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Mp(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function BN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[hl(JSON.stringify(t)),hl(JSON.stringify(s)),""].join(".")}var dl={};function z$(){let n={prod:[],emulator:[]};for(let e of Object.keys(dl))dl[e]?n.emulator.push(e):n.prod.push(e);return n}function q$(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var LN=!1;function Pp(n,e){if(typeof window>"u"||typeof document>"u"||!Zi(window.location.host)||dl[n]===e||dl[n]||LN)return;dl[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=z$().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{LN=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=q$(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),O=t("learnmore"),M=document.getElementById(O)||document.createElement("a"),L=t("preprendIcon"),W=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let te=m.element;a(te),h(M,O);let oe=l();u(W,L),te.append(W,S,M,oe),document.body.appendChild(te)}o?(S.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $N(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function G$(){var n;let e=(n=xp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zN(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GN(){let n=St();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WN(){return!G$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fl(){try{return typeof indexedDB=="object"}catch{return!1}}function KN(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var W$="FirebaseError",An=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=W$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rr.prototype.create)}},rr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?K$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new An(i,a,r)}};function K$(n,e){return n.replace(Q$,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Q$=/\{\$([^}]+)}/g;function QN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(VN(o)&&VN(s)){if(!Nr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function VN(n){return n!==null&&typeof n=="object"}function pl(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Va(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ja(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function YN(n,e){let t=new mw(n,e);return t.subscribe.bind(t)}var mw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Y$(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=fw),i.error===void 0&&(i.error=fw),i.complete===void 0&&(i.complete=fw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Y$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fw(){}var nae=14400*1e3;function Ft(n){return n&&n._delegate?n._delegate:n}var sn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ps="[DEFAULT]";var Ew=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new fs;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z$(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function J$(n){return n===ps?void 0:n}function Z$(n){return n.instantiationMode==="EAGER"}var kp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ew(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var X$=[],we=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(we||{}),e4={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},t4=we.INFO,n4={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},r4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=n4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xr=class{constructor(e){this.name=e,this._logLevel=t4,this._logHandler=r4,this._userLogHandler=null,X$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var i4=(n,e)=>e.some(t=>n instanceof t),JN,ZN;function o4(){return JN||(JN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s4(){return ZN||(ZN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XN=new WeakMap,Iw=new WeakMap,ex=new WeakMap,ww=new WeakMap,Tw=new WeakMap;function a4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Mr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&XN.set(t,n)}).catch(()=>{}),Tw.set(e,n),e}function c4(n){if(Iw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Iw.set(n,e)}var bw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Iw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ex.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tx(n){bw=n(bw)}function u4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Op(this),e,...t);return ex.set(r,e.sort?e.sort():[e]),Mr(r)}:s4().includes(n)?function(...e){return n.apply(Op(this),e),Mr(XN.get(this))}:function(...e){return Mr(n.apply(Op(this),e))}}function l4(n){return typeof n=="function"?u4(n):(n instanceof IDBTransaction&&c4(n),i4(n,o4())?new Proxy(n,bw):n)}function Mr(n){if(n instanceof IDBRequest)return a4(n);if(ww.has(n))return ww.get(n);let e=l4(n);return e!==n&&(ww.set(n,e),Tw.set(e,n)),e}var Op=n=>Tw.get(n);function rx(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Mr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Mr(s.result),u.oldVersion,u.newVersion,Mr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var d4=["get","getKey","getAll","getAllKeys","count"],h4=["put","add","delete","clear"],Dw=new Map;function nx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Dw.get(e))return Dw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=h4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||d4.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Dw.set(e,o),o}tx(n=>ee(F({},n),{get:(e,t,r)=>nx(e,t)||n.get(e,t,r),has:(e,t)=>!!nx(e,t)||n.has(e,t)}));var Sw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(f4(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function f4(n){let e=n.getComponent();return e?.type==="VERSION"}var Aw="@firebase/app",ix="0.13.2";var ci=new xr("@firebase/app"),p4="@firebase/app-compat",m4="@firebase/analytics-compat",g4="@firebase/analytics",y4="@firebase/app-check-compat",v4="@firebase/app-check",_4="@firebase/auth",E4="@firebase/auth-compat",w4="@firebase/database",I4="@firebase/data-connect",b4="@firebase/database-compat",T4="@firebase/functions",D4="@firebase/functions-compat",C4="@firebase/installations",S4="@firebase/installations-compat",A4="@firebase/messaging",R4="@firebase/messaging-compat",N4="@firebase/performance",x4="@firebase/performance-compat",M4="@firebase/remote-config",P4="@firebase/remote-config-compat",k4="@firebase/storage",O4="@firebase/storage-compat",F4="@firebase/firestore",L4="@firebase/ai",V4="@firebase/firestore-compat",j4="firebase",U4="11.10.0";var Rw="[DEFAULT]",B4={[Aw]:"fire-core",[p4]:"fire-core-compat",[g4]:"fire-analytics",[m4]:"fire-analytics-compat",[v4]:"fire-app-check",[y4]:"fire-app-check-compat",[_4]:"fire-auth",[E4]:"fire-auth-compat",[w4]:"fire-rtdb",[I4]:"fire-data-connect",[b4]:"fire-rtdb-compat",[T4]:"fire-fn",[D4]:"fire-fn-compat",[C4]:"fire-iid",[S4]:"fire-iid-compat",[A4]:"fire-fcm",[R4]:"fire-fcm-compat",[N4]:"fire-perf",[x4]:"fire-perf-compat",[M4]:"fire-rc",[P4]:"fire-rc-compat",[k4]:"fire-gcs",[O4]:"fire-gcs-compat",[F4]:"fire-fst",[V4]:"fire-fst-compat",[L4]:"fire-vertex","fire-js":"fire-js",[j4]:"fire-js-all"};var ml=new Map,$4=new Map,Nw=new Map;function ox(n,e){try{n.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ir(n){let e=n.name;if(Nw.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;Nw.set(e,n);for(let t of ml.values())ox(t,n);for(let t of $4.values())ox(t,n);return!0}function Ua(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function an(n){return n==null?!1:n.settings!==void 0}var H4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new rr("app","Firebase",H4);var xw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}};var eo=U4;function kw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Rw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Xi.create("bad-app-name",{appName:String(i)});if(t||(t=vw()),!t)throw Xi.create("no-options");let o=ml.get(i);if(o){if(Nr(t,o.options)&&Nr(r,o.config))return o;throw Xi.create("duplicate-app",{appName:i})}let s=new kp(i);for(let u of Nw.values())s.addComponent(u);let a=new xw(t,r,s);return ml.set(i,a),a}function ms(n=Rw){let e=ml.get(n);if(!e&&n===Rw&&vw())return kw();if(!e)throw Xi.create("no-app",{appName:n});return e}function Fp(){return Array.from(ml.values())}function ot(n,e,t){var r;let i=(r=B4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(a.join(" "));return}ir(new sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var z4="firebase-heartbeat-database",q4=1,gl="firebase-heartbeat-store",Cw=null;function ux(){return Cw||(Cw=rx(z4,q4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xi.create("idb-open",{originalErrorMessage:n.message})})),Cw}function G4(n){return _(this,null,function*(){try{let t=(yield ux()).transaction(gl),r=yield t.objectStore(gl).get(lx(n));return yield t.done,r}catch(e){if(e instanceof An)ci.warn(e.message);else{let t=Xi.create("idb-get",{originalErrorMessage:e?.message});ci.warn(t.message)}}})}function sx(n,e){return _(this,null,function*(){try{let r=(yield ux()).transaction(gl,"readwrite");yield r.objectStore(gl).put(e,lx(n)),yield r.done}catch(t){if(t instanceof An)ci.warn(t.message);else{let r=Xi.create("idb-set",{originalErrorMessage:t?.message});ci.warn(r.message)}}})}function lx(n){return`${n.name}!${n.options.appId}`}var W4=1024,K4=30,Mw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Pw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ax();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>K4){let s=Y4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ci.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=ax(),{heartbeatsToSend:r,unsentEntries:i}=Q4(this._heartbeatsCache.heartbeats),o=hl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ci.warn(t),""}})}};function ax(){return new Date().toISOString().substring(0,10)}function Q4(n,e=W4){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),cx(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),cx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Pw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return fl()?KN().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield G4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cx(n){return hl(JSON.stringify({version:2,heartbeats:n})).length}function Y4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function J4(n){ir(new sn("platform-logger",e=>new Sw(e),"PRIVATE")),ir(new sn("heartbeat",e=>new Mw(e),"PRIVATE")),ot(Aw,ix,n),ot(Aw,ix,"esm2017"),ot("fire-js","")}J4("");var Z4="firebase",X4="11.10.0";ot(Z4,X4,"app");function dx(n){n===void 0&&(n=x(tt));let e=n.get(Vi);return t=>new Y(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var to=new rs("ANGULARFIRE2_VERSION");function yl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var $a=(n,e)=>{let t=e?[e]:Fp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ba=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Ba||{}),hx=oE()&&typeof Zone<"u"?Ba.WARN:Ba.SILENT;var Lp=class{zone;delegate;constructor(e,t=my){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},no=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=x(Ne);this.outsideAngular=t.runOutsideAngular(()=>new Lp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Lp(typeof Zone>"u"?void 0:Zone.current,py))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fx=!1;function eH(n,e){!fx&&(hx>Ba.SILENT||oE())&&(fx=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),hx>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function tH(n){let e=x(Ne,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function gs(n){let e=x(Ne,{optional:!0});return e?e.run(()=>n()):n()}var nH=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),nt(t,()=>gs(()=>n.apply(void 0,r)))),It=(n,e,t)=>(t||=e?Ba.WARN:Ba.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(no),s=x(Vi),a=x(Ke)}catch{return eH(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=gs(()=>s.add())),i[l]=nH(i[l],r,a));let u=tH(()=>n.apply(this,i));return e?u instanceof Y?u.pipe(Si(o.outsideAngular),Ci(o.insideAngular),dx(a)):u instanceof Promise?gs(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>nt(a,()=>gs(()=>h(m))),m=>nt(a,()=>gs(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:gs(()=>u):u instanceof Y?u.pipe(Si(o.outsideAngular),Ci(o.insideAngular)):gs(()=>u)});var ui=class{constructor(e){return e}},ys=class{constructor(){return Fp()}};function rH(n){return n&&n.length===1?n[0]:new ui(ms())}var Ow=new H("angularfire2._apps"),iH={provide:ui,useFactory:rH,deps:[[new En,Ow]]},oH={provide:ys,deps:[[new En,Ow]]};function sH(n){return(e,t)=>{let r=t.get(Ui);ot("angularfire",to.full,"core"),ot("angularfire",to.full,"app"),ot("angular",BA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ui(i)}}function px(n,...e){return vn([iH,oH,{provide:Ow,useFactory:sH(n),multi:!0,deps:[Ne,tt,no,...e]}])}var mx=It(kw,!0);var aH=new Map,cH={activated:!1,tokenObservers:[]},uH={initialized:!1,enabled:!1};function or(n){return aH.get(n)||Object.assign({},cH)}function _x(){return uH}var lH="https://content-firebaseappcheck.googleapis.com/v1";var dH="exchangeDebugToken",gx={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},oce=1440*60*1e3;var Vw=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new fs,this.pending.promise.catch(t=>{}),yield hH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new fs,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function hH(n){return new Promise(e=>{setTimeout(e,n)})}var fH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ro=new rr("appCheck","AppCheck",fH);function Ex(n){if(!or(n).activated)throw ro.create("use-before-activation",{appName:n.name})}function wx(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw ro.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ro.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ro.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ro.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function Ix(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${lH}/projects/${t}/apps/${r}:${dH}?key=${i}`,body:{debug_token:e}}}var pH="firebase-app-check-database",mH=1,jw="firebase-app-check-store";var Vp=null;function gH(){return Vp||(Vp=new Promise((n,e)=>{try{let t=indexedDB.open(pH,mH);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ro.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(jw,{keyPath:"compositeKey"})}}}catch(t){e(ro.create("storage-open",{originalErrorMessage:t?.message}))}}),Vp)}function yH(n,e){return vH(_H(n),e)}function vH(n,e){return _(this,null,function*(){let r=(yield gH()).transaction(jw,"readwrite"),o=r.objectStore(jw).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ro.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function _H(n){return`${n.options.appId}-${n.name}`}var vl=new xr("@firebase/app-check");function Fw(n,e){return fl()?yH(n,e).catch(t=>{vl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function bx(){return _x().enabled}function Tx(){return _(this,null,function*(){let n=_x();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var EH={error:"UNKNOWN_ERROR"};function wH(n){return Rp.encodeString(JSON.stringify(n),!1)}function Uw(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;Ex(r);let i=or(r),o=i.token,s;if(o&&!_l(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(_l(l)?o=l:yield Fw(r,void 0))}if(!e&&o&&_l(o))return{token:o.token};let a=!1;if(bx())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=wx(Ix(r,yield Tx()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Fw(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?vl.warn(l.message):t&&vl.error(l),Lw(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield or(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?vl.warn(l.message):t&&vl.error(l),s=l}let u;return o?s?_l(o)?u={token:o.token,internalError:s}:u=Lw(s):(u={token:o.token},i.token=o,yield Fw(r,o)):u=Lw(s),a&&DH(r,u),u})}function IH(n){return _(this,null,function*(){let e=n.app;Ex(e);let{provider:t}=or(e);if(bx()){let r=yield Tx(),{token:i}=yield wx(Ix(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function bH(n,e,t,r){let{app:i}=n,o=or(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&_l(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),yx(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>yx(n))}function Dx(n,e){let t=or(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function yx(n){let{app:e}=n,t=or(e),r=t.tokenRefresher;r||(r=TH(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function TH(n){let{app:e}=n;return new Vw(()=>_(null,null,function*(){let t=or(e),r;if(t.token?r=yield Uw(n,!0):r=yield Uw(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=or(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},gx.RETRIAL_MIN_WAIT,gx.RETRIAL_MAX_WAIT)}function DH(n,e){let t=or(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function _l(n){return n.expireTimeMillis-Date.now()>0}function Lw(n){return{token:wH(EH),error:n}}var Bw=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=or(this.app);for(let t of e)Dx(this.app,t.next);return Promise.resolve()}};function CH(n,e){return new Bw(n,e)}function SH(n){return{getToken:e=>Uw(n,e),getLimitedUseToken:()=>IH(n),addTokenListener:e=>bH(n,"INTERNAL",e),removeTokenListener:e=>Dx(n.app,e)}}var AH="@firebase/app-check",RH="0.10.1";var NH="app-check",vx="app-check-internal";function xH(){ir(new sn(NH,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return CH(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(vx).initialize()})),ir(new sn(vx,n=>{let e=n.getProvider("app-check").getImmediate();return SH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ot(AH,RH)}xH();var MH="app-check";var Ha=class{constructor(){return $a(MH)}};var PH=["localhost","0.0.0.0","127.0.0.1"],vce=typeof window<"u"&&PH.includes(window.location.hostname);function Bx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $x=Bx,Hx=new rr("auth","Firebase",Bx());var zp=new xr("@firebase/auth");function kH(n,...e){zp.logLevel<=we.WARN&&zp.warn(`Auth (${eo}): ${n}`,...e)}function Up(n,...e){zp.logLevel<=we.ERROR&&zp.error(`Auth (${eo}): ${n}`,...e)}function Or(n,...e){throw hI(n,...e)}function vs(n,...e){return hI(n,...e)}function zx(n,e,t){let r=Object.assign(Object.assign({},$x()),{[e]:t});return new rr("auth","Firebase",r).create(e,{appName:n.name})}function Pr(n){return zx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Hx.create(n,...e)}function se(n,e,...t){if(!n)throw hI(e,...t)}function li(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Up(e),new Error(e)}function so(n,e){n||li(e)}function qw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OH(){return Cx()==="http:"||Cx()==="https:"}function Cx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function FH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OH()||zN()||"connection"in navigator)?navigator.onLine:!0}function LH(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var _s=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,so(t>e,"Short delay should be less than long delay!"),this.isMobile=$N()||qN()}get(){return FH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function fI(n,e){so(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var qp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var VH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var jH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UH=new _s(3e4,6e4);function co(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function uo(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return qx(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=pl(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return HN()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Zi(n.emulatorConfig.host)&&(y.credentials="include"),qp.fetch()(yield Gx(n,n.config.apiHost,t,p),y)}))})}function qx(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},VH),e);try{let i=new Gw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw jp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw jp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw jp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw jp(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw zx(n,h,l);Or(n,h)}}catch(i){if(i instanceof An)throw i;Or(n,"network-request-failed",{message:String(i)})}})}function Al(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield uo(n,e,t,r,i);return"mfaPendingCredential"in l&&Or(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function Gx(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?fI(n.config,i):`${n.config.apiScheme}://${i}`;return jH.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function BH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Gw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(vs(this.auth,"network-request-failed")),UH.get())})}};function jp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=vs(n,e,r);return i.customData._tokenResponse=t,i}function Sx(n){return n!==void 0&&n.enterprise!==void 0}var Ww=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function $H(n,e){return _(this,null,function*(){return uo(n,"GET","/v2/recaptchaConfig",co(n,e))})}function HH(n,e){return _(this,null,function*(){return uo(n,"POST","/v1/accounts:delete",e)})}function Gp(n,e){return _(this,null,function*(){return uo(n,"POST","/v1/accounts:lookup",e)})}function wl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function pI(n,e=!1){return _(this,null,function*(){let t=Ft(n),r=yield t.getIdToken(e),i=mI(r);se(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:wl($w(i.auth_time)),issuedAtTime:wl($w(i.iat)),expirationTime:wl($w(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function $w(n){return Number(n)*1e3}function mI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Up("JWT malformed, contained fewer than 3 sections"),null;try{let i=Np(t);return i?JSON.parse(i):(Up("Failed to decode base64 JWT payload"),null)}catch(i){return Up("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ax(n){let e=mI(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function bl(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof An&&zH(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function zH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Kw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Tl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Wp(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield bl(n,Gp(t,{idToken:r}));se(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Wx(o.providerUserInfo):[],a=qH(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Tl(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function gI(n){return _(this,null,function*(){let e=Ft(n);yield Wp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function qH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Wx(n){return n.map(e=>{var{providerId:t}=e,r=gy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function GH(n,e){return _(this,null,function*(){let t=yield qx(n,{},()=>_(null,null,function*(){let r=pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield Gx(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Zi(n.emulatorConfig.host)&&(u.credentials="include"),qp.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function WH(n,e){return _(this,null,function*(){return uo(n,"POST","/v2/accounts:revokeToken",co(n,e))})}var Il=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ax(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){se(e.length!==0,"internal-error");let t=Ax(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield GH(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return li("not implemented")}};function io(n,e){se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var oo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=gy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield bl(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return pI(this,e)}reload(){return gI(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Wp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(an(this.auth.app))return Promise.reject(Pr(this.auth));let e=yield this.getIdToken();return yield bl(this,HH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,O=(a=t.tenantId)!==null&&a!==void 0?a:void 0,M=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:te,emailVerified:oe,isAnonymous:Ue,providerData:ve,stsTokenManager:D}=t;se(te&&D,e,"internal-error");let v=Il.fromJSON(this.name,D);se(typeof te=="string",e,"internal-error"),io(p,e.name),io(m,e.name),se(typeof oe=="boolean",e,"internal-error"),se(typeof Ue=="boolean",e,"internal-error"),io(y,e.name),io(S,e.name),io(O,e.name),io(M,e.name),io(L,e.name),io(W,e.name);let w=new n({uid:te,auth:e,email:m,emailVerified:oe,displayName:p,isAnonymous:Ue,photoURL:S,phoneNumber:y,tenantId:O,stsTokenManager:v,createdAt:L,lastLoginAt:W});return ve&&Array.isArray(ve)&&(w.providerData=ve.map(T=>Object.assign({},T))),M&&(w._redirectEventId=M),w}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new Il;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];se(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Wx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Il;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Tl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var Rx=new Map;function di(n){so(n instanceof Function,"Expected a class definition");let e=Rx.get(n);return e?(so(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Rx.set(n,e),e)}var KH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Qw=KH;function Bp(n,e,t){return`firebase:${n}:${e}:${t}`}var Kp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Bp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Bp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Gp(this.auth,{idToken:e}).catch(()=>{});return t?oo._fromGetAccountInfoResponse(this.auth,t,e):null}return oo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(di(Qw),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||di(Qw),s=Bp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Gp(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield oo._fromGetAccountInfoResponse(e,m,h)}else p=oo._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function Nx(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xx(e))return"Blackberry";if(eM(e))return"Webos";if(Qx(e))return"Safari";if((e.includes("chrome/")||Yx(e))&&!e.includes("edge/"))return"Chrome";if(Zx(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Kx(n=St()){return/firefox\//i.test(n)}function Qx(n=St()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yx(n=St()){return/crios\//i.test(n)}function Jx(n=St()){return/iemobile/i.test(n)}function Zx(n=St()){return/android/i.test(n)}function Xx(n=St()){return/blackberry/i.test(n)}function eM(n=St()){return/webos/i.test(n)}function yI(n=St()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QH(n=St()){var e;return yI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YH(){return GN()&&document.documentMode===10}function tM(n=St()){return yI(n)||Zx(n)||eM(n)||Xx(n)||/windows phone/i.test(n)||Jx(n)}function nM(n,e=[]){let t;switch(n){case"Browser":t=Nx(St());break;case"Worker":t=`${Nx(St())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${eo}/${r}`}var Yw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function JH(t){return _(this,arguments,function*(n,e={}){return uo(n,"GET","/v2/passwordPolicy",co(n,e))})}var ZH=6,Jw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:ZH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Zw=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qp(this),this.idTokenSubscription=new Qp(this),this.beforeStateQueue=new Yw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=di(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Kp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Gp(this,{idToken:e}),r=yield oo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(an(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Wp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=LH()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(an(this.app))return Promise.reject(Pr(this));let t=e?Ft(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return an(this.app)?Promise.reject(Pr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return an(this.app)?Promise.reject(Pr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(di(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield JH(this),t=new Jw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield WH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&di(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=yield Kp.create(this,[di(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&kH(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function lo(n){return Ft(n)}var Qp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YN(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var nm={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XH(n){nm=n}function rM(n){return nm.loadJS(n)}function e3(){return nm.recaptchaEnterpriseScript}function t3(){return nm.gapiScript}function iM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Xw=class{constructor(){this.enterprise=new eI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},eI=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var n3="recaptcha-enterprise",oM="NO_RECAPTCHA",tI=class{constructor(e){this.type=n3,this.auth=lo(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){$H(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Ww(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;Sx(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(oM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xw().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&Sx(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=e3();u.length!==0&&(u+=a),rM(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function El(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new tI(n),s;if(i)s=oM;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function nI(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield El(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield El(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield El(n,e,t);return r(n,a).catch(u=>_(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield El(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield El(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function vI(n,e){let t=Ua(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Nr(o,e??{}))return i;Or(i,"already-initialized")}return t.initialize({options:e})}function r3(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(di);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function _I(n,e,t){let r=lo(n);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=sM(e),{host:s,port:a}=i3(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(Nr(l,r.config.emulator)&&Nr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Zi(s)?(Mp(`${o}//${s}${u}`),Pp("Auth",!0)):i||o3()}function sM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function i3(n){let e=sM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:xx(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:xx(s)}}}function xx(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function o3(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Dl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}};function s3(n,e){return _(this,null,function*(){return uo(n,"POST","/v1/accounts:signUp",e)})}function a3(n,e){return _(this,null,function*(){return Al(n,"POST","/v1/accounts:signInWithPassword",co(n,e))})}function c3(n,e){return _(this,null,function*(){return Al(n,"POST","/v1/accounts:signInWithEmailLink",co(n,e))})}function u3(n,e){return _(this,null,function*(){return Al(n,"POST","/v1/accounts:signInWithEmailLink",co(n,e))})}var Cl=class n extends Dl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nI(e,t,"signInWithPassword",a3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return c3(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nI(e,r,"signUpPassword",s3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return u3(e,{idToken:t,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Hw(n,e){return _(this,null,function*(){return Al(n,"POST","/v1/accounts:signInWithIdp",co(n,e))})}function l3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function d3(n){let e=Va(ja(n)).link,t=e?Va(ja(e)).deep_link_id:null,r=Va(ja(n)).deep_link_id;return(r?Va(ja(r)).link:null)||r||t||e||n}var Yp=class n{constructor(e){var t,r,i,o,s,a;let u=Va(ja(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=l3((i=u.mode)!==null&&i!==void 0?i:null);se(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=d3(e);try{return new n(t)}catch{return null}}};var aM=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Cl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Yp.parseLink(r);return se(i,"argument-error"),Cl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Jp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var rI=class extends Jp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function cM(n,e){return _(this,null,function*(){return Al(n,"POST","/v1/accounts:signUp",co(n,e))})}var ao=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield oo._fromIdTokenResponse(e,r,i),s=Mx(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Mx(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Mx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function EI(n){return _(this,null,function*(){var e;if(an(n.app))return Promise.reject(Pr(n));let t=lo(n);if(yield t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ao({user:t.currentUser,providerId:null,operationType:"signIn"});let r=yield cM(t,{returnSecureToken:!0}),i=yield ao._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})}var iI=class n extends An{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function uM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?iI._fromErrorAndOperation(n,o,e,r):o})}function h3(n,e,t=!1){return _(this,null,function*(){let r=yield bl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ao._forOperation(n,"link",r)})}function f3(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(an(r.app))return Promise.reject(Pr(r));let i="reauthenticate";try{let o=yield bl(n,uM(r,i,e,n),t);se(o.idToken,r,"internal-error");let s=mI(o.idToken);se(s,r,"internal-error");let{sub:a}=s;return se(n.uid===a,r,"user-mismatch"),ao._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Or(r,"user-mismatch"),o}})}function lM(n,e,t=!1){return _(this,null,function*(){if(an(n.app))return Promise.reject(Pr(n));let r="signIn",i=yield uM(n,r,e),o=yield ao._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function wI(n,e){return _(this,null,function*(){return lM(lo(n),e)})}function dM(n){return _(this,null,function*(){let e=lo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function II(n,e,t){return _(this,null,function*(){if(an(n.app))return Promise.reject(Pr(n));let r=lo(n),s=yield nI(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cM,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&dM(n),u}),a=yield ao._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function bI(n,e,t){return an(n.app)?Promise.reject(Pr(n)):wI(Ft(n),aM.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&dM(n),r}))}function Rl(n,e,t,r){return Ft(n).onIdTokenChanged(e,t,r)}function TI(n,e,t){return Ft(n).beforeAuthStateChanged(e,t)}function DI(n){return Ft(n).signOut()}var Zp="__sak";var Xp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zp,"1"),this.storage.removeItem(Zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var p3=1e3,m3=10,g3=(()=>{class n extends Xp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);YH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,m3):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},p3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield Ti(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield Ti(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield Ti(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),hM=g3;var y3=(()=>{class n extends Xp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),CI=y3;function v3(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var _3=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield v3(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function fM(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var oI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=fM("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function kr(){return window}function E3(n){kr().location.href=n}function pM(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}function w3(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function I3(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function b3(){return pM()?self:null}var mM="firebaseLocalStorageDb",T3=1,em="firebaseLocalStorage",gM="fbase_key",Es=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function rm(n,e){return n.transaction([em],e?"readwrite":"readonly").objectStore(em)}function D3(){let n=indexedDB.deleteDatabase(mM);return new Es(n).toPromise()}function sI(){let n=indexedDB.open(mM,T3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(em,{keyPath:gM})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(em)?e(r):(r.close(),yield D3(),e(yield sI()))}))})}function Px(n,e,t){return _(this,null,function*(){let r=rm(n,!0).put({[gM]:e,value:t});return new Es(r).toPromise()})}function C3(n,e){return _(this,null,function*(){let t=rm(n,!1).get(e),r=yield new Es(t).toPromise();return r===void 0?null:r.value})}function kx(n,e){let t=rm(n,!0).delete(e);return new Es(t).toPromise()}var S3=800,A3=3,R3=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield sI(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>A3)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return pM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=_3._getInstance(b3()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield w3(),!this.activeServiceWorker)return;this.sender=new oI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||I3()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield sI();return yield Px(t,Zp,"1"),yield kx(t,Zp),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>Px(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>C3(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>kx(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=rm(o,!1).getAll();return new Es(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),S3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),yM=R3;var Cce=iM("rcb"),Sce=new _s(3e4,6e4);function N3(n,e){return e?di(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Sl=class extends Dl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Hw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Hw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function x3(n){return lM(n.auth,new Sl(n),n.bypassAuthState)}function M3(n){let{auth:e,user:t}=n;return se(t,e,"internal-error"),f3(t,new Sl(n),n.bypassAuthState)}function P3(n){return _(this,null,function*(){let{auth:e,user:t}=n;return se(t,e,"internal-error"),h3(t,new Sl(n),n.bypassAuthState)})}var aI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x3;case"linkViaPopup":case"linkViaRedirect":return P3;case"reauthViaPopup":case"reauthViaRedirect":return M3;default:Or(this.auth,"internal-error")}}resolve(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ace=new _s(2e3,1e4);var k3="pendingRedirect",$p=new Map,cI=class n extends aI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=$p.get(this.auth._key());if(!e){try{let r=(yield O3(this.resolver,this.auth))?yield Ti(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$p.set(this.auth._key(),e)}return this.bypassAuthState||$p.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Ti(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ti(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function O3(n,e){return _(this,null,function*(){let t=V3(e),r=L3(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function F3(n,e){$p.set(n._key(),e)}function L3(n){return di(n._redirectPersistence)}function V3(n){return Bp(k3,n.config.apiKey,n.name)}function j3(n,e,t=!1){return _(this,null,function*(){if(an(n.app))return Promise.reject(Pr(n));let r=lo(n),i=N3(r,e),s=yield new cI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var U3=600*1e3,uI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(vs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ox(e))}saveEventToCache(e){this.cachedEventUids.add(Ox(e)),this.lastProcessedEventTime=Date.now()}};function Ox(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function B3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vM(n);default:return!1}}function $3(t){return _(this,arguments,function*(n,e={}){return uo(n,"GET","/v1/projects",e)})}var H3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z3=/^https?/;function q3(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield $3(n);for(let t of e)try{if(G3(t))return}catch{}Or(n,"unauthorized-domain")})}function G3(n){let e=qw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!z3.test(t))return!1;if(H3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var W3=new _s(3e4,6e4);function Fx(){let n=kr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function K3(n){return new Promise((e,t)=>{var r,i,o;function s(){Fx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fx(),t(vs(n,"network-request-failed"))},timeout:W3.get()})}if(!((i=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=kr().gapi)===null||o===void 0)&&o.load)s();else{let a=iM("iframefcb");return kr()[a]=()=>{gapi.load?s():t(vs(n,"network-request-failed"))},rM(`${t3()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Hp=null,e})}var Hp=null;function Q3(n){return Hp=Hp||K3(n),Hp}var Y3=new _s(5e3,15e3),J3="__/auth/iframe",Z3="emulator/auth/iframe",X3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t6(n){let e=n.config;se(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?fI(e,Z3):`https://${n.config.authDomain}/${J3}`,r={apiKey:e.apiKey,appName:n.name,v:eo},i=e6.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${pl(r).slice(1)}`}function n6(n){return _(this,null,function*(){let e=yield Q3(n),t=kr().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:t6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X3,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=vs(n,"network-request-failed"),a=kr().setTimeout(()=>{o(s)},Y3.get());function u(){kr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var r6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i6=500,o6=600,s6="_blank",a6="http://localhost",tm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function c6(n,e,t,r=i6,i=o6){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},r6),{width:r.toString(),height:i.toString(),top:o,left:s}),l=St().toLowerCase();t&&(a=Yx(l)?s6:t),Kx(l)&&(e=e||a6,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(QH(l)&&a!=="_self")return u6(e||"",a),new tm(null);let p=window.open(e||"",a,h);se(p,n,"popup-blocked");try{p.focus()}catch{}return new tm(p)}function u6(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var l6="__/auth/handler",d6="emulator/auth/handler",h6=encodeURIComponent("fac");function Lx(n,e,t,r,i,o){return _(this,null,function*(){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:eo,eventId:i};if(e instanceof Jp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",QN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof rI){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${h6}=${encodeURIComponent(u)}`:"";return`${f6(n)}?${pl(a).slice(1)}${l}`})}function f6({config:n}){return n.emulator?fI(n,d6):`https://${n.authDomain}/${l6}`}var zw="webStorageSupport",lI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CI,this._completeRedirectFn=j3,this._overrideRedirectResult=F3}_openPopup(e,t,r,i){return _(this,null,function*(){var o;so((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Lx(e,t,r,qw(),i);return c6(e,s,fM())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield Lx(e,t,r,qw(),i);return E3(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(so(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield n6(e),r=new uI(e);return t.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zw,{type:zw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[zw];s!==void 0&&t(!!s),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=q3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tM()||Qx()||yI()}},_M=lI;var Vx="@firebase/auth",jx="1.10.8";var dI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function p6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m6(n){ir(new sn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nM(n)},l=new Zw(r,i,o,u);return r3(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ir(new sn("auth-internal",e=>{let t=lo(e.getProvider("auth").getImmediate());return(r=>new dI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(Vx,jx,p6(n)),ot(Vx,jx,"esm2017")}var g6=300,y6=_w("authIdTokenMaxAge")||g6,Ux=null,v6=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>y6)return;let i=t?.token;Ux!==i&&(Ux=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function SI(n=ms()){let e=Ua(n,"auth");if(e.isInitialized())return e.getImmediate();let t=vI(n,{popupRedirectResolver:_M,persistence:[yM,hM,CI]}),r=_w("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=v6(o.toString());TI(t,s,()=>s(t.currentUser)),Rl(t,a=>s(a))}}let i=yw("auth");return i&&_I(t,`http://${i}`),t}function _6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}XH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=vs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",_6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m6("Browser");function IM(n){return new Y(function(e){var t=Rl(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var bM="auth",sr=class{constructor(e){return e}},Nl=class{constructor(){return $a(bM)}};var AI=new H("angularfire2.auth-instances");function oz(n,e){let t=yl(bM,n,e);return t&&new sr(t)}function sz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new sr(r)}}var az={provide:Nl,deps:[[new En,AI]]},cz={provide:sr,useFactory:oz,deps:[[new En,AI],ui]};function TM(n,...e){return ot("angularfire",to.full,"auth"),vn([cz,az,{provide:AI,useFactory:sz(n),multi:!0,deps:[Ne,tt,no,ys,[new En,Ha],...e]}])}var im=It(IM,!0);var DM=It(II,!0,2);var CM=It(SI,!0);var SM=It(EI,!0,2);var AM=It(bI,!0,2);var RM=It(DI,!0,2);var NM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xM={};var hi,RI;(function(){var n;function e(D,v){function w(){}w.prototype=v.prototype,D.D=v.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(T,C,R){for(var E=Array(arguments.length-2),Ur=2;Ur<arguments.length;Ur++)E[Ur-2]=arguments[Ur];return v.prototype[C].apply(T,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,w){w||(w=0);var T=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)T[C]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(C=0;16>C;++C)T[C]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=D.g[0],w=D.g[1],C=D.g[2];var R=D.g[3],E=v+(R^w&(C^R))+T[0]+3614090360&4294967295;v=w+(E<<7&4294967295|E>>>25),E=R+(C^v&(w^C))+T[1]+3905402710&4294967295,R=v+(E<<12&4294967295|E>>>20),E=C+(w^R&(v^w))+T[2]+606105819&4294967295,C=R+(E<<17&4294967295|E>>>15),E=w+(v^C&(R^v))+T[3]+3250441966&4294967295,w=C+(E<<22&4294967295|E>>>10),E=v+(R^w&(C^R))+T[4]+4118548399&4294967295,v=w+(E<<7&4294967295|E>>>25),E=R+(C^v&(w^C))+T[5]+1200080426&4294967295,R=v+(E<<12&4294967295|E>>>20),E=C+(w^R&(v^w))+T[6]+2821735955&4294967295,C=R+(E<<17&4294967295|E>>>15),E=w+(v^C&(R^v))+T[7]+4249261313&4294967295,w=C+(E<<22&4294967295|E>>>10),E=v+(R^w&(C^R))+T[8]+1770035416&4294967295,v=w+(E<<7&4294967295|E>>>25),E=R+(C^v&(w^C))+T[9]+2336552879&4294967295,R=v+(E<<12&4294967295|E>>>20),E=C+(w^R&(v^w))+T[10]+4294925233&4294967295,C=R+(E<<17&4294967295|E>>>15),E=w+(v^C&(R^v))+T[11]+2304563134&4294967295,w=C+(E<<22&4294967295|E>>>10),E=v+(R^w&(C^R))+T[12]+1804603682&4294967295,v=w+(E<<7&4294967295|E>>>25),E=R+(C^v&(w^C))+T[13]+4254626195&4294967295,R=v+(E<<12&4294967295|E>>>20),E=C+(w^R&(v^w))+T[14]+2792965006&4294967295,C=R+(E<<17&4294967295|E>>>15),E=w+(v^C&(R^v))+T[15]+1236535329&4294967295,w=C+(E<<22&4294967295|E>>>10),E=v+(C^R&(w^C))+T[1]+4129170786&4294967295,v=w+(E<<5&4294967295|E>>>27),E=R+(w^C&(v^w))+T[6]+3225465664&4294967295,R=v+(E<<9&4294967295|E>>>23),E=C+(v^w&(R^v))+T[11]+643717713&4294967295,C=R+(E<<14&4294967295|E>>>18),E=w+(R^v&(C^R))+T[0]+3921069994&4294967295,w=C+(E<<20&4294967295|E>>>12),E=v+(C^R&(w^C))+T[5]+3593408605&4294967295,v=w+(E<<5&4294967295|E>>>27),E=R+(w^C&(v^w))+T[10]+38016083&4294967295,R=v+(E<<9&4294967295|E>>>23),E=C+(v^w&(R^v))+T[15]+3634488961&4294967295,C=R+(E<<14&4294967295|E>>>18),E=w+(R^v&(C^R))+T[4]+3889429448&4294967295,w=C+(E<<20&4294967295|E>>>12),E=v+(C^R&(w^C))+T[9]+568446438&4294967295,v=w+(E<<5&4294967295|E>>>27),E=R+(w^C&(v^w))+T[14]+3275163606&4294967295,R=v+(E<<9&4294967295|E>>>23),E=C+(v^w&(R^v))+T[3]+4107603335&4294967295,C=R+(E<<14&4294967295|E>>>18),E=w+(R^v&(C^R))+T[8]+1163531501&4294967295,w=C+(E<<20&4294967295|E>>>12),E=v+(C^R&(w^C))+T[13]+2850285829&4294967295,v=w+(E<<5&4294967295|E>>>27),E=R+(w^C&(v^w))+T[2]+4243563512&4294967295,R=v+(E<<9&4294967295|E>>>23),E=C+(v^w&(R^v))+T[7]+1735328473&4294967295,C=R+(E<<14&4294967295|E>>>18),E=w+(R^v&(C^R))+T[12]+2368359562&4294967295,w=C+(E<<20&4294967295|E>>>12),E=v+(w^C^R)+T[5]+4294588738&4294967295,v=w+(E<<4&4294967295|E>>>28),E=R+(v^w^C)+T[8]+2272392833&4294967295,R=v+(E<<11&4294967295|E>>>21),E=C+(R^v^w)+T[11]+1839030562&4294967295,C=R+(E<<16&4294967295|E>>>16),E=w+(C^R^v)+T[14]+4259657740&4294967295,w=C+(E<<23&4294967295|E>>>9),E=v+(w^C^R)+T[1]+2763975236&4294967295,v=w+(E<<4&4294967295|E>>>28),E=R+(v^w^C)+T[4]+1272893353&4294967295,R=v+(E<<11&4294967295|E>>>21),E=C+(R^v^w)+T[7]+4139469664&4294967295,C=R+(E<<16&4294967295|E>>>16),E=w+(C^R^v)+T[10]+3200236656&4294967295,w=C+(E<<23&4294967295|E>>>9),E=v+(w^C^R)+T[13]+681279174&4294967295,v=w+(E<<4&4294967295|E>>>28),E=R+(v^w^C)+T[0]+3936430074&4294967295,R=v+(E<<11&4294967295|E>>>21),E=C+(R^v^w)+T[3]+3572445317&4294967295,C=R+(E<<16&4294967295|E>>>16),E=w+(C^R^v)+T[6]+76029189&4294967295,w=C+(E<<23&4294967295|E>>>9),E=v+(w^C^R)+T[9]+3654602809&4294967295,v=w+(E<<4&4294967295|E>>>28),E=R+(v^w^C)+T[12]+3873151461&4294967295,R=v+(E<<11&4294967295|E>>>21),E=C+(R^v^w)+T[15]+530742520&4294967295,C=R+(E<<16&4294967295|E>>>16),E=w+(C^R^v)+T[2]+3299628645&4294967295,w=C+(E<<23&4294967295|E>>>9),E=v+(C^(w|~R))+T[0]+4096336452&4294967295,v=w+(E<<6&4294967295|E>>>26),E=R+(w^(v|~C))+T[7]+1126891415&4294967295,R=v+(E<<10&4294967295|E>>>22),E=C+(v^(R|~w))+T[14]+2878612391&4294967295,C=R+(E<<15&4294967295|E>>>17),E=w+(R^(C|~v))+T[5]+4237533241&4294967295,w=C+(E<<21&4294967295|E>>>11),E=v+(C^(w|~R))+T[12]+1700485571&4294967295,v=w+(E<<6&4294967295|E>>>26),E=R+(w^(v|~C))+T[3]+2399980690&4294967295,R=v+(E<<10&4294967295|E>>>22),E=C+(v^(R|~w))+T[10]+4293915773&4294967295,C=R+(E<<15&4294967295|E>>>17),E=w+(R^(C|~v))+T[1]+2240044497&4294967295,w=C+(E<<21&4294967295|E>>>11),E=v+(C^(w|~R))+T[8]+1873313359&4294967295,v=w+(E<<6&4294967295|E>>>26),E=R+(w^(v|~C))+T[15]+4264355552&4294967295,R=v+(E<<10&4294967295|E>>>22),E=C+(v^(R|~w))+T[6]+2734768916&4294967295,C=R+(E<<15&4294967295|E>>>17),E=w+(R^(C|~v))+T[13]+1309151649&4294967295,w=C+(E<<21&4294967295|E>>>11),E=v+(C^(w|~R))+T[4]+4149444226&4294967295,v=w+(E<<6&4294967295|E>>>26),E=R+(w^(v|~C))+T[11]+3174756917&4294967295,R=v+(E<<10&4294967295|E>>>22),E=C+(v^(R|~w))+T[2]+718787259&4294967295,C=R+(E<<15&4294967295|E>>>17),E=w+(R^(C|~v))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(C+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+R&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var w=v-this.blockSize,T=this.B,C=this.h,R=0;R<v;){if(C==0)for(;R<=w;)i(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<v;)if(T[C++]=D.charCodeAt(R++),C==this.blockSize){i(this,T),C=0;break}}else for(;R<v;)if(T[C++]=D[R++],C==this.blockSize){i(this,T),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var w=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=w&255,w/=256;for(this.u(D),D=Array(16),v=w=0;4>v;++v)for(var T=0;32>T;T+=8)D[w++]=this.g[v]>>>T&255;return D};function o(D,v){var w=a;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=v(D)}function s(D,v){this.h=v;for(var w=[],T=!0,C=D.length-1;0<=C;C--){var R=D[C]|0;T&&R==v||(w[C]=R,T=!1)}this.g=w}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return M(l(-D));for(var v=[],w=1,T=0;D>=w;T++)v[T]=D/w|0,w*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return M(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(v,8)),T=p,C=0;C<D.length;C+=8){var R=Math.min(8,D.length-C),E=parseInt(D.substring(C,C+R),v);8>R?(R=l(Math.pow(v,R)),T=T.j(R).add(l(E))):(T=T.j(w),T=T.add(l(E)))}return T}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(O(this))return-M(this).m();for(var D=0,v=1,w=0;w<this.g.length;w++){var T=this.i(w);D+=(0<=T?T:4294967296+T)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(O(this))return"-"+M(this).toString(D);for(var v=l(Math.pow(D,6)),w=this,T="";;){var C=oe(w,v).g;w=L(w,C.j(v));var R=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=C,S(w))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function O(D){return D.h==-1}n.l=function(D){return D=L(this,D),O(D)?-1:S(D)?0:1};function M(D){for(var v=D.g.length,w=[],T=0;T<v;T++)w[T]=~D.g[T];return new s(w,~D.h).add(m)}n.abs=function(){return O(this)?M(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],T=0,C=0;C<=v;C++){var R=T+(this.i(C)&65535)+(D.i(C)&65535),E=(R>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);T=E>>>16,R&=65535,E&=65535,w[C]=E<<16|R}return new s(w,w[w.length-1]&-2147483648?-1:0)};function L(D,v){return D.add(M(v))}n.j=function(D){if(S(this)||S(D))return p;if(O(this))return O(D)?M(this).j(M(D)):M(M(this).j(D));if(O(D))return M(this.j(M(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,w=[],T=0;T<2*v;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<D.g.length;C++){var R=this.i(T)>>>16,E=this.i(T)&65535,Ur=D.i(C)>>>16,bc=D.i(C)&65535;w[2*T+2*C]+=E*bc,W(w,2*T+2*C),w[2*T+2*C+1]+=R*bc,W(w,2*T+2*C+1),w[2*T+2*C+1]+=E*Ur,W(w,2*T+2*C+1),w[2*T+2*C+2]+=R*Ur,W(w,2*T+2*C+2)}for(T=0;T<v;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=v;T<2*v;T++)w[T]=0;return new s(w,0)};function W(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function te(D,v){this.g=D,this.h=v}function oe(D,v){if(S(v))throw Error("division by zero");if(S(D))return new te(p,p);if(O(D))return v=oe(M(D),v),new te(M(v.g),M(v.h));if(O(v))return v=oe(D,M(v)),new te(M(v.g),v.h);if(30<D.g.length){if(O(D)||O(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,T=v;0>=T.l(D);)w=Ue(w),T=Ue(T);var C=ve(w,1),R=ve(T,1);for(T=ve(T,2),w=ve(w,2);!S(T);){var E=R.add(T);0>=E.l(D)&&(C=C.add(w),R=E),T=ve(T,1),w=ve(w,1)}return v=L(D,C.j(v)),new te(C,v)}for(C=p;0<=D.l(v);){for(w=Math.max(1,Math.floor(D.m()/v.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=l(w),E=R.j(v);O(E)||0<E.l(D);)w-=T,R=l(w),E=R.j(v);S(R)&&(R=m),C=C.add(R),D=L(D,E)}return new te(C,D)}n.A=function(D){return oe(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],T=0;T<v;T++)w[T]=this.i(T)&D.i(T);return new s(w,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],T=0;T<v;T++)w[T]=this.i(T)|D.i(T);return new s(w,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],T=0;T<v;T++)w[T]=this.i(T)^D.i(T);return new s(w,this.h^D.h)};function Ue(D){for(var v=D.g.length+1,w=[],T=0;T<v;T++)w[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(w,D.h)}function ve(D,v){var w=v>>5;v%=32;for(var T=D.g.length-w,C=[],R=0;R<T;R++)C[R]=0<v?D.i(R+w)>>>v|D.i(R+w+1)<<32-v:D.i(R+w);return new s(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RI=xM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,hi=xM.Integer=s}).apply(typeof NM<"u"?NM:typeof self<"u"?self:typeof window<"u"?window:{});var om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fi={};var NI,uz,za,xI,xl,sm,MI,PI,kI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof om=="object"&&om];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var A=c[g];if(!(A in f))break e;f=f[A]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,A={next:function(){if(!g&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return g=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,g),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,A,P){for(var $=Array(arguments.length-2),je=2;je<arguments.length;je++)$[je-2]=arguments[je];return d.prototype[A].apply(g,$)}}function O(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let A=c.length||0,P=g.length||0;c.length=A+P;for(let $=0;$<P;$++)c[A+$]=g[$]}else c.push(g)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var Ue=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function ve(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,g;for(let A=1;A<arguments.length;A++){g=arguments[A];for(f in g)c[f]=g[f];for(let P=0;P<w.length;P++)f=w[P],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function R(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Cg;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Ur{constructor(){this.h=this.g=null}add(d,f){let g=bc.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var bc=new L(()=>new Pk,c=>c.reset());class Pk{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Tc,Dc=!1,Cg=new Ur,eT=()=>{let c=a.Promise.resolve(void 0);Tc=()=>{c.then(kk)}};var kk=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){R(f)}var d=bc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Dc=!1};function Ei(){this.s=this.s,this.C=this.C}Ei.prototype.s=!1,Ei.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ei.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Lt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var Ok=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function Cc(c,d){if(Lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ue){e:{try{oe(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Fk[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Cc.aa.h.call(this)}}S(Cc,Lt);var Fk={2:"touch",3:"pen",4:"mouse"};Cc.prototype.h=function(){Cc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Sc="closure_listenable_"+(1e6*Math.random()|0),Lk=0;function Vk(c,d,f,g,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=A,this.key=++Lk,this.da=this.fa=!1}function cd(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ud(c){this.src=c,this.g={},this.h=0}ud.prototype.add=function(c,d,f,g,A){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var $=Ag(c,d,g,A);return-1<$?(d=c[$],f||(d.fa=!1)):(d=new Vk(d,this.src,P,!!g,A),d.fa=f,c.push(d)),d};function Sg(c,d){var f=d.type;if(f in c.g){var g=c.g[f],A=Array.prototype.indexOf.call(g,d,void 0),P;(P=0<=A)&&Array.prototype.splice.call(g,A,1),P&&(cd(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ag(c,d,f,g){for(var A=0;A<c.length;++A){var P=c[A];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==g)return A}return-1}var Rg="closure_lm_"+(1e6*Math.random()|0),Ng={};function tT(c,d,f,g,A){if(g&&g.once)return rT(c,d,f,g,A);if(Array.isArray(d)){for(var P=0;P<d.length;P++)tT(c,d[P],f,g,A);return null}return f=kg(f),c&&c[Sc]?c.K(d,f,l(g)?!!g.capture:!!g,A):nT(c,d,f,!1,g,A)}function nT(c,d,f,g,A,P){if(!d)throw Error("Invalid event type");var $=l(A)?!!A.capture:!!A,je=Mg(c);if(je||(c[Rg]=je=new ud(c)),f=je.add(d,f,g,$,P),f.proxy)return f;if(g=jk(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)Ok||(A=$),A===void 0&&(A=!1),c.addEventListener(d.toString(),g,A);else if(c.attachEvent)c.attachEvent(oT(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function jk(){function c(f){return d.call(c.src,c.listener,f)}let d=Uk;return c}function rT(c,d,f,g,A){if(Array.isArray(d)){for(var P=0;P<d.length;P++)rT(c,d[P],f,g,A);return null}return f=kg(f),c&&c[Sc]?c.L(d,f,l(g)?!!g.capture:!!g,A):nT(c,d,f,!0,g,A)}function iT(c,d,f,g,A){if(Array.isArray(d))for(var P=0;P<d.length;P++)iT(c,d[P],f,g,A);else g=l(g)?!!g.capture:!!g,f=kg(f),c&&c[Sc]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=Ag(P,f,g,A),-1<f&&(cd(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=Mg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ag(d,f,g,A)),(f=-1<c?d[c]:null)&&xg(f))}function xg(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Sc])Sg(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(oT(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Mg(d))?(Sg(f,c),f.h==0&&(f.src=null,d[Rg]=null)):cd(c)}}}function oT(c){return c in Ng?Ng[c]:Ng[c]="on"+c}function Uk(c,d){if(c.da)c=!0;else{d=new Cc(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&xg(c),c=f.call(g,d)}return c}function Mg(c){return c=c[Rg],c instanceof ud?c:null}var Pg="__closure_events_fn_"+(1e9*Math.random()>>>0);function kg(c){return typeof c=="function"?c:(c[Pg]||(c[Pg]=function(d){return c.handleEvent(d)}),c[Pg])}function Vt(){Ei.call(this),this.i=new ud(this),this.M=this,this.F=null}S(Vt,Ei),Vt.prototype[Sc]=!0,Vt.prototype.removeEventListener=function(c,d,f,g){iT(this,c,d,f,g)};function Zt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Lt(d,c);else if(d instanceof Lt)d.target=d.target||c;else{var A=d;d=new Lt(g,c),T(d,A)}if(A=!0,f)for(var P=f.length-1;0<=P;P--){var $=d.g=f[P];A=ld($,g,!0,d)&&A}if($=d.g=c,A=ld($,g,!0,d)&&A,A=ld($,g,!1,d)&&A,f)for(P=0;P<f.length;P++)$=d.g=f[P],A=ld($,g,!1,d)&&A}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)cd(f[g]);delete c.g[d],c.h--}}this.F=null},Vt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Vt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function ld(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,P=0;P<d.length;++P){var $=d[P];if($&&!$.da&&$.capture==f){var je=$.listener,Nt=$.ha||$.src;$.fa&&Sg(c.i,$),A=je.call(Nt,g)!==!1&&A}}return A&&!g.defaultPrevented}function sT(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function aT(c){c.g=sT(()=>{c.g=null,c.i&&(c.i=!1,aT(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Bk extends Ei{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:aT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ac(c){Ei.call(this),this.h=c,this.g={}}S(Ac,Ei);var cT=[];function uT(c){ve(c.g,function(d,f){this.g.hasOwnProperty(f)&&xg(d)},c),c.g={}}Ac.prototype.N=function(){Ac.aa.N.call(this),uT(this)},Ac.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Og=a.JSON.stringify,$k=a.JSON.parse,Hk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Fg(){}Fg.prototype.h=null;function lT(c){return c.h||(c.h=c.i())}function dT(){}var Rc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lg(){Lt.call(this,"d")}S(Lg,Lt);function Vg(){Lt.call(this,"c")}S(Vg,Lt);var Co={},hT=null;function dd(){return hT=hT||new Vt}Co.La="serverreachability";function fT(c){Lt.call(this,Co.La,c)}S(fT,Lt);function Nc(c){let d=dd();Zt(d,new fT(d))}Co.STAT_EVENT="statevent";function pT(c,d){Lt.call(this,Co.STAT_EVENT,c),this.stat=d}S(pT,Lt);function Xt(c){let d=dd();Zt(d,new pT(d,c))}Co.Ma="timingevent";function mT(c,d){Lt.call(this,Co.Ma,c),this.size=d}S(mT,Lt);function xc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Mc(){this.g=!0}Mc.prototype.xa=function(){this.g=!1};function zk(c,d,f,g,A,P){c.info(function(){if(c.g)if(P)for(var $="",je=P.split("&"),Nt=0;Nt<je.length;Nt++){var Re=je[Nt].split("=");if(1<Re.length){var jt=Re[0];Re=Re[1];var Ut=jt.split("_");$=2<=Ut.length&&Ut[1]=="type"?$+(jt+"="+Re+"&"):$+(jt+"=redacted&")}}else $=null;else $=P;return"XMLHTTP REQ ("+g+") [attempt "+A+"]: "+d+`
`+f+`
`+$})}function qk(c,d,f,g,A,P,$){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+A+"]: "+d+`
`+f+`
`+P+" "+$})}function Ns(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Wk(c,f)+(g?" "+g:"")})}function Gk(c,d){c.info(function(){return"TIMEOUT: "+d})}Mc.prototype.info=function(){};function Wk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var A=g[1];if(Array.isArray(A)&&!(1>A.length)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(var $=1;$<A.length;$++)A[$]=""}}}}return Og(f)}catch{return d}}var hd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jg;function fd(){}S(fd,Fg),fd.prototype.g=function(){return new XMLHttpRequest},fd.prototype.i=function(){return{}},jg=new fd;function wi(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ac(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yT}function yT(){this.i=null,this.g="",this.h=!1}var vT={},Ug={};function Bg(c,d,f){c.L=1,c.v=yd(Br(d)),c.m=f,c.P=!0,_T(c,null)}function _T(c,d){c.F=Date.now(),pd(c),c.A=Br(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),PT(f.i,"t",g),c.C=0,f=c.j.J,c.h=new yT,c.g=JT(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Bk(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(cT[0]=A.toString()),A=cT);for(var P=0;P<A.length;P++){var $=tT(f,A[P],g||d.handleEvent,!1,d.h||d);if(!$)break;d.g[$.key]=$}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Nc(),zk(c.i,c.u,c.A,c.l,c.R,c.m)}wi.prototype.ca=function(c){c=c.target;let d=this.M;d&&$r(c)==3?d.j():this.Y(c)},wi.prototype.Y=function(c){try{if(c==this.g)e:{let Ut=$r(this.g);var d=this.g.Ba();let Ps=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||UT(this.g)))){this.J||Ut!=4||d==7||(d==8||0>=Ps?Nc(3):Nc(2)),$g(this);var f=this.g.Z();this.X=f;t:if(ET(this)){var g=UT(this.g);c="";var A=g.length,P=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){So(this),Pc(this);var $="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(P&&d==A-1)});g.length=0,this.h.g+=c,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=f==200,qk(this.i,this.u,this.A,this.l,this.R,Ut,f),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Nt=this.g;if((je=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(je)){var Re=je;break t}}Re=null}if(f=Re)Ns(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hg(this,f);else{this.o=!1,this.s=3,Xt(12),So(this),Pc(this);break e}}if(this.P){f=!0;let $n;for(;!this.J&&this.C<$.length;)if($n=Kk(this,$),$n==Ug){Ut==4&&(this.s=4,Xt(14),f=!1),Ns(this.i,this.l,null,"[Incomplete Response]");break}else if($n==vT){this.s=4,Xt(15),Ns(this.i,this.l,$,"[Invalid Chunk]"),f=!1;break}else Ns(this.i,this.l,$n,null),Hg(this,$n);if(ET(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||$.length!=0||this.h.h||(this.s=1,Xt(16),f=!1),this.o=this.o&&f,!f)Ns(this.i,this.l,$,"[Invalid Chunked Response]"),So(this),Pc(this);else if(0<$.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Qg(jt),jt.M=!0,Xt(11))}}else Ns(this.i,this.l,$,null),Hg(this,$);Ut==4&&So(this),this.o&&!this.J&&(Ut==4?WT(this.j,this):(this.o=!1,pd(this)))}else dO(this.g),f==400&&0<$.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),So(this),Pc(this)}}}catch{}finally{}};function ET(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Kk(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Ug:(f=Number(d.substring(f,g)),isNaN(f)?vT:(g+=1,g+f>d.length?Ug:(d=d.slice(g,g+f),c.C=g+f,d)))}wi.prototype.cancel=function(){this.J=!0,So(this)};function pd(c){c.S=Date.now()+c.I,wT(c,c.I)}function wT(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xc(m(c.ba,c),d)}function $g(c){c.B&&(a.clearTimeout(c.B),c.B=null)}wi.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Gk(this.i,this.A),this.L!=2&&(Nc(),Xt(17)),So(this),this.s=2,Pc(this)):wT(this,this.S-c)};function Pc(c){c.j.G==0||c.J||WT(c.j,c)}function So(c){$g(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,uT(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Hg(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||zg(f.h,c))){if(!c.K&&zg(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var A=g;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Id(f),Ed(f);else break e;Kg(f),Xt(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=xc(m(f.Za,f),6e3));if(1>=TT(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ro(f,11)}else if((c.K||f.g==c)&&Id(f),!W(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Re=A[d];if(f.T=Re[0],Re=Re[1],f.G==2)if(Re[0]=="c"){f.K=Re[1],f.ia=Re[2];let jt=Re[3];jt!=null&&(f.la=jt,f.j.info("VER="+f.la));let Ut=Re[4];Ut!=null&&(f.Aa=Ut,f.j.info("SVER="+f.Aa));let Ps=Re[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(g=1.5*Ps,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let $n=c.g;if($n){let Td=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Td){var P=g.h;P.g||Td.indexOf("spdy")==-1&&Td.indexOf("quic")==-1&&Td.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(qg(P,P.h),P.h=null))}if(g.D){let Yg=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;Yg&&(g.ya=Yg,$e(g.I,g.D,Yg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var $=c;if(g.qa=YT(g,g.J?g.ia:null,g.W),$.K){DT(g.h,$);var je=$,Nt=g.L;Nt&&(je.I=Nt),je.B&&($g(je),pd(je)),g.g=$}else qT(g);0<f.i.length&&wd(f)}else Re[0]!="stop"&&Re[0]!="close"||Ro(f,7);else f.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Ro(f,7):Wg(f):Re[0]!="noop"&&f.l&&f.l.ta(Re),f.v=0)}}Nc(4)}catch{}}var Qk=class{constructor(c,d){this.g=c,this.map=d}};function IT(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bT(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function TT(c){return c.h?1:c.g?c.g.size:0}function zg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function qg(c,d){c.g?c.g.add(d):c.h=d}function DT(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}IT.prototype.cancel=function(){if(this.i=CT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function CT(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return O(c.i)}function Yk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function Jk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function ST(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Jk(c),g=Yk(c),A=g.length,P=0;P<A;P++)d.call(void 0,g[P],f&&f[P],c)}var AT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zk(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),A=null;if(0<=g){var P=c[f].substring(0,g);A=c[f].substring(g+1)}else P=c[f];d(P,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Ao(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ao){this.h=c.h,md(this,c.j),this.o=c.o,this.g=c.g,gd(this,c.s),this.l=c.l;var d=c.i,f=new Fc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),RT(this,f),this.m=c.m}else c&&(d=String(c).match(AT))?(this.h=!1,md(this,d[1]||"",!0),this.o=kc(d[2]||""),this.g=kc(d[3]||"",!0),gd(this,d[4]),this.l=kc(d[5]||"",!0),RT(this,d[6]||"",!0),this.m=kc(d[7]||"")):(this.h=!1,this.i=new Fc(null,this.h))}Ao.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Oc(d,NT,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Oc(d,NT,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Oc(f,f.charAt(0)=="/"?tO:eO,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Oc(f,rO)),c.join("")};function Br(c){return new Ao(c)}function md(c,d,f){c.j=f?kc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function gd(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function RT(c,d,f){d instanceof Fc?(c.i=d,iO(c.i,c.h)):(f||(d=Oc(d,nO)),c.i=new Fc(d,c.h))}function $e(c,d,f){c.i.set(d,f)}function yd(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Oc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Xk),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var NT=/[#\/\?@]/g,eO=/[#\?:]/g,tO=/[#\?]/g,nO=/[#\?@]/g,rO=/#/g;function Fc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ii(c){c.g||(c.g=new Map,c.h=0,c.i&&Zk(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Fc.prototype,n.add=function(c,d){Ii(this),this.i=null,c=xs(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function xT(c,d){Ii(c),d=xs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function MT(c,d){return Ii(c),d=xs(c,d),c.g.has(d)}n.forEach=function(c,d){Ii(this),this.g.forEach(function(f,g){f.forEach(function(A){c.call(d,A,g,this)},this)},this)},n.na=function(){Ii(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let A=c[g];for(let P=0;P<A.length;P++)f.push(d[g])}return f},n.V=function(c){Ii(this);let d=[];if(typeof c=="string")MT(this,c)&&(d=d.concat(this.g.get(xs(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Ii(this),this.i=null,c=xs(this,c),MT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function PT(c,d,f){xT(c,d),0<f.length&&(c.i=null,c.g.set(xs(c,d),O(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let P=encodeURIComponent(String(g)),$=this.V(g);for(g=0;g<$.length;g++){var A=P;$[g]!==""&&(A+="="+encodeURIComponent(String($[g]))),c.push(A)}}return this.i=c.join("&")};function xs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function iO(c,d){d&&!c.j&&(Ii(c),c.i=null,c.g.forEach(function(f,g){var A=g.toLowerCase();g!=A&&(xT(this,g),PT(this,A,f))},c)),c.j=d}function oO(c,d){let f=new Mc;if(a.Image){let g=new Image;g.onload=y(bi,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(bi,f,"TestLoadImage: error",!1,d,g),g.onabort=y(bi,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(bi,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function sO(c,d){let f=new Mc,g=new AbortController,A=setTimeout(()=>{g.abort(),bi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(P=>{clearTimeout(A),P.ok?bi(f,"TestPingServer: ok",!0,d):bi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),bi(f,"TestPingServer: error",!1,d)})}function bi(c,d,f,g,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),g(f)}catch{}}function aO(){this.g=new Hk}function cO(c,d,f){let g=f||"";try{ST(c,function(A,P){let $=A;l(A)&&($=Og(A)),d.push(g+P+"="+encodeURIComponent($))})}catch(A){throw d.push(g+"type="+encodeURIComponent("_badmap")),A}}function Lc(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Lc,Fg),Lc.prototype.g=function(){return new vd(this.l,this.j)},Lc.prototype.i=(function(c){return function(){return c}})({});function vd(c,d){Vt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(vd,Vt),n=vd.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,jc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,jc(this)),this.g&&(this.readyState=3,jc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kT(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function kT(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Vc(this):jc(this),this.readyState==3&&kT(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Vc(this))},n.Qa=function(c){this.g&&(this.response=c,Vc(this))},n.ga=function(){this.g&&Vc(this)};function Vc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,jc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function jc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function OT(c){let d="";return ve(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Gg(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=OT(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):$e(c,d,f))}function Xe(c){Vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Xe,Vt);var uO=/^https?$/i,lO=["POST","PUT"];n=Xe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jg.g(),this.v=this.o?lT(this.o):lT(jg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){FT(this,P);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var A in g)f.set(A,g[A]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let P of g.keys())f.set(P,g.get(P));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lO,d,void 0))||g||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,$]of f)this.g.setRequestHeader(P,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jT(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){FT(this,P)}};function FT(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,LT(c),_d(c)}function LT(c){c.A||(c.A=!0,Zt(c,"complete"),Zt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Zt(this,"complete"),Zt(this,"abort"),_d(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_d(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?VT(this):this.bb())},n.bb=function(){VT(this)};function VT(c){if(c.h&&typeof s<"u"&&(!c.v[1]||$r(c)!=4||c.Z()!=2)){if(c.u&&$r(c)==4)sT(c.Ea,0,c);else if(Zt(c,"readystatechange"),$r(c)==4){c.h=!1;try{let $=c.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=$===0){var A=String(c.D).match(AT)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),g=!uO.test(A?A.toLowerCase():"")}f=g}if(f)Zt(c,"complete"),Zt(c,"success");else{c.m=6;try{var P=2<$r(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",LT(c)}}finally{_d(c)}}}}function _d(c,d){if(c.g){jT(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Zt(c,"ready");try{f.onreadystatechange=g}catch{}}}function jT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function $r(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),$k(d)}};function UT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dO(c){let d={};c=(c.g&&2<=$r(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(W(c[g]))continue;var f=C(c[g]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[A]||[];d[A]=P,P.push(f)}D(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Uc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function BT(c){this.Aa=0,this.i=[],this.j=new Mc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uc("baseRetryDelayMs",5e3,c),this.cb=Uc("retryDelaySeedMs",1e4,c),this.Wa=Uc("forwardChannelMaxRetries",2,c),this.wa=Uc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new IT(c&&c.concurrentRequestLimit),this.Da=new aO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=BT.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Xt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=YT(this,null,this.W),wd(this)};function Wg(c){if($T(c),c.G==3){var d=c.U++,f=Br(c.I);if($e(f,"SID",c.K),$e(f,"RID",d),$e(f,"TYPE","terminate"),Bc(c,f),d=new wi(c,c.j,d),d.L=2,d.v=yd(Br(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=JT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),pd(d)}QT(c)}function Ed(c){c.g&&(Qg(c),c.g.cancel(),c.g=null)}function $T(c){Ed(c),c.u&&(a.clearTimeout(c.u),c.u=null),Id(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function wd(c){if(!bT(c.h)&&!c.s){c.s=!0;var d=c.Ga;Tc||eT(),Dc||(Tc(),Dc=!0),Cg.add(d,c),c.B=0}}function hO(c,d){return TT(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xc(m(c.Ga,c,d),KT(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new wi(this,this.j,c),P=this.o;if(this.S&&(P?(P=v(P),T(P,this.S)):P=this.S),this.m!==null||this.O||(A.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=zT(this,A,d),f=Br(this.I),$e(f,"RID",c),$e(f,"CVER",22),this.D&&$e(f,"X-HTTP-Session-Id",this.D),Bc(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(OT(P)))+"&"+d:this.m&&Gg(f,this.m,P)),qg(this.h,A),this.Ua&&$e(f,"TYPE","init"),this.P?($e(f,"$req",d),$e(f,"SID","null"),A.T=!0,Bg(A,f,null)):Bg(A,f,d),this.G=2}}else this.G==3&&(c?HT(this,c):this.i.length==0||bT(this.h)||HT(this))};function HT(c,d){var f;d?f=d.l:f=c.U++;let g=Br(c.I);$e(g,"SID",c.K),$e(g,"RID",f),$e(g,"AID",c.T),Bc(c,g),c.m&&c.o&&Gg(g,c.m,c.o),f=new wi(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=zT(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qg(c.h,f),Bg(f,g,d)}function Bc(c,d){c.H&&ve(c.H,function(f,g){$e(d,g,f)}),c.l&&ST({},function(f,g){$e(d,g,f)})}function zT(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var A=c.i;let P=-1;for(;;){let $=["count="+f];P==-1?0<f?(P=A[0].g,$.push("ofs="+P)):P=0:$.push("ofs="+P);let je=!0;for(let Nt=0;Nt<f;Nt++){let Re=A[Nt].g,jt=A[Nt].map;if(Re-=P,0>Re)P=Math.max(0,A[Nt].g-100),je=!1;else try{cO(jt,$,"req"+Re+"_")}catch{g&&g(jt)}}if(je){g=$.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function qT(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Tc||eT(),Dc||(Tc(),Dc=!0),Cg.add(d,c),c.v=0}}function Kg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xc(m(c.Fa,c),KT(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,GT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xc(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),Ed(this),GT(this))};function Qg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function GT(c){c.g=new wi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Br(c.qa);$e(d,"RID","rpc"),$e(d,"SID",c.K),$e(d,"AID",c.T),$e(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(d,"TO",c.ja),$e(d,"TYPE","xmlhttp"),Bc(c,d),c.m&&c.o&&Gg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=yd(Br(d)),f.m=null,f.P=!0,_T(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Ed(this),Kg(this),Xt(19))};function Id(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function WT(c,d){var f=null;if(c.g==d){Id(c),Qg(c),c.g=null;var g=2}else if(zg(c.h,d))f=d.D,DT(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;g=dd(),Zt(g,new mT(g,f)),wd(c)}else qT(c);else if(A=d.s,A==3||A==0&&0<d.X||!(g==1&&hO(c,d)||g==2&&Kg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:Ro(c,5);break;case 4:Ro(c,10);break;case 3:Ro(c,6);break;default:Ro(c,2)}}}function KT(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ro(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let A=!g;g=new Ao(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||md(g,"https"),yd(g),A?oO(g.toString(),f):sO(g.toString(),f)}else Xt(2);c.G=0,c.l&&c.l.sa(d),QT(c),$T(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function QT(c){if(c.G=0,c.ka=[],c.l){let d=CT(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function YT(c,d,f){var g=f instanceof Ao?Br(f):new Ao(f);if(g.g!="")d&&(g.g=d+"."+g.g),gd(g,g.s);else{var A=a.location;g=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var P=new Ao(null);g&&md(P,g),d&&(P.g=d),A&&gd(P,A),f&&(P.l=f),g=P}return f=c.D,d=c.ya,f&&d&&$e(g,f,d),$e(g,"VER",c.la),Bc(c,g),g}function JT(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Xe(new Lc({eb:f})):new Xe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ZT(){}n=ZT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bd(){}bd.prototype.g=function(c,d){return new mn(c,d)};function mn(c,d){Vt.call(this),this.g=new BT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ms(this)}S(mn,Vt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Wg(this.g)},mn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Og(c),c=f);d.i.push(new Qk(d.Ya++,c)),d.G==3&&wd(d)},mn.prototype.N=function(){this.g.l=null,delete this.j,Wg(this.g),delete this.g,mn.aa.N.call(this)};function XT(c){Lg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(XT,Lg);function eD(){Vg.call(this),this.status=1}S(eD,Vg);function Ms(c){this.g=c}S(Ms,ZT),Ms.prototype.ua=function(){Zt(this.g,"a")},Ms.prototype.ta=function(c){Zt(this.g,new XT(c))},Ms.prototype.sa=function(c){Zt(this.g,new eD)},Ms.prototype.ra=function(){Zt(this.g,"b")},bd.prototype.createWebChannel=bd.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,kI=fi.createWebChannelTransport=function(){return new bd},PI=fi.getStatEventTarget=function(){return dd()},MI=fi.Event=Co,sm=fi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hd.NO_ERROR=0,hd.TIMEOUT=8,hd.HTTP_ERROR=6,xl=fi.ErrorCode=hd,gT.COMPLETE="complete",xI=fi.EventType=gT,dT.EventType=Rc,Rc.OPEN="a",Rc.CLOSE="b",Rc.ERROR="c",Rc.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,za=fi.WebChannel=dT,uz=fi.FetchXmlHttpFactory=Lc,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,NI=fi.XhrIo=Xe}).apply(typeof om<"u"?om:typeof self<"u"?self:typeof window<"u"?window:{});var MM="@firebase/firestore",PM="4.8.0";var At=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");var hc="11.10.0";var Cs=new xr("@firebase/firestore");function qa(){return Cs.logLevel}function G(n,...e){if(Cs.logLevel<=we.DEBUG){let t=e.map(wb);Cs.debug(`Firestore (${hc}): ${n}`,...t)}}function mi(n,...e){if(Cs.logLevel<=we.ERROR){let t=e.map(wb);Cs.error(`Firestore (${hc}): ${n}`,...t)}}function yo(n,...e){if(Cs.logLevel<=we.WARN){let t=e.map(wb);Cs.warn(`Firestore (${hc}): ${n}`,...t)}}function wb(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ue(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,S1(n,r,t)}function S1(n,e,t){let r=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw mi(r),new Error(r)}function Ze(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||S1(e,i,r)}function Se(n,e){return n}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends An{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ho=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var fm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},UI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(At.UNAUTHENTICATED))}shutdown(){}},BI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},$I=class{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new ho;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ho,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ho)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new fm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new At(e)}},HI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},zI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new HI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}},pm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},qI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pm(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new pm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function lz(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function A1(){return new TextEncoder}var Vl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=lz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ye(n,e){return n<e?-1:n>e?1:0}function GI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ye(r,i);{let o=A1(),s=dz(o.encode(kM(n,t)),o.encode(kM(e,t)));return s!==0?s:ye(r,i)}}t+=r>65535?2:1}return ye(n.length,e.length)}function kM(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function dz(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ye(n[t],e[t]);return ye(n.length,e.length)}function ec(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var OM="__name__",mm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ye(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):GI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hi.fromString(e.substring(4,e.length-2))}},Ge=class n extends mm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},hz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bn=class n extends mm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return hz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OM}static keyField(){return new n([OM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new q(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new q(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ge.fromString(e))}static fromName(e){return new n(Ge.fromString(e).popFirst(5))}static empty(){return new n(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ge(e.slice()))}};function R1(n,e,t){if(!t)throw new q(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fz(n,e,t,r){if(e===!0&&r===!0)throw new q(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function FM(n){if(!X.isDocumentKey(n))throw new q(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LM(n){if(X.isDocumentKey(n))throw new q(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function N1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Hm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ue(12329,{type:typeof n})}function lm(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Hm(n);throw new q(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function vt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Xl(n,e){if(!N1(n))throw new q(j.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new q(j.INVALID_ARGUMENT,t);return!0}var VM=-62135596800,jM=1e6,bt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*jM);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<VM)throw new q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jM}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xl(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-VM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:vt("string",bt._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};var fe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new bt(0,0))}static max(){return new n(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jl=-1,WI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};WI.UNKNOWN_ID=-1;function pz(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new bt(t+1,0):new bt(t,r));return new Ss(i,X.empty(),e)}function mz(n){return new Ss(n.readTime,n.key,jl)}var Ss=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(fe.min(),X.empty(),jl)}static max(){return new n(fe.max(),X.empty(),jl)}};function gz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:ye(n.largestBatchId,e.largestBatchId))}var yz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",KI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function zm(n){return _(this,null,function*(){if(n.code!==j.FAILED_PRECONDITION||n.message!==yz)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function vz(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fc(n){return n.name==="IndexedDbTransactionError"}var Ib=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),_z=-1;function qm(n){return n==null}function Ul(n){return n===0&&1/n==-1/0}function Ez(n){return typeof n=="number"&&Number.isInteger(n)&&!Ul(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var x1="";function wz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=UM(e)),e=Iz(n.get(t),e);return UM(e)}function Iz(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case x1:t+="";break;default:t+=o}}return t}function UM(n){return n+x1+""}var bz="remoteDocuments",M1="owner";var P1="mutationQueues";var k1="mutations";var O1="documentMutations",Tz="remoteDocumentsV14";var F1="remoteDocumentGlobal";var L1="targets";var V1="targetDocuments";var j1="targetGlobal",U1="collectionParents";var B1="clientMetadata";var $1="bundles";var H1="namedQueries";var Dz="indexConfiguration";var Cz="indexState";var Sz="indexEntries";var z1="documentOverlays";var Az="globals";var Rz=[P1,k1,O1,bz,L1,M1,j1,V1,B1,F1,U1,$1,H1],kue=[...Rz,z1],Nz=[P1,k1,O1,Tz,L1,M1,j1,V1,B1,F1,U1,$1,H1,z1],xz=Nz,Mz=[...xz,Dz,Cz,Sz];var Oue=[...Mz,Az];function BM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function q1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ut=class n{constructor(e,t){this.comparator=e,this.root=t||Fr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qa(this.root,e,this.comparator,!0)}},Qa=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}};Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1;Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Fr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Rt=class n{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gm(this.data.getIterator())}getIteratorFrom(e){return new gm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},gm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ws=class n{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Rt(Bn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var ym=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Jt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ym("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Jt.EMPTY_BYTE_STRING=new Jt("");var Pz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(n){if(Ze(!!n,39018),typeof n=="string"){let e=0,t=Pz.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(n.seconds),nanos:qe(n.nanos)}}function qe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yi(n){return typeof n=="string"?Jt.fromBase64String(n):Jt.fromUint8Array(n)}var G1="server_timestamp",W1="__type__",K1="__previous_value__",Q1="__local_write_time__";function bb(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[W1])===null||t===void 0?void 0:t.stringValue)===G1}function Gm(n){let e=n.mapValue.fields[K1];return bb(e)?Gm(e):e}function Bl(n){let e=gi(n.mapValue.fields[Q1].timestampValue);return new bt(e.seconds,e.nanos)}var QI=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},vm="(default)",_m=class n{constructor(e,t){this.projectId=e,this.database=t||vm}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===vm}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Tb="__type__",Y1="__max__",am={mapValue:{fields:{__type__:{stringValue:Y1}}}},Db="__vector__",tc="value";function vo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bb(n)?4:Z1(n)?9007199254740991:J1(n)?10:11:ue(28295,{value:n})}function Vr(n,e){if(n===e)return!0;let t=vo(n);if(t!==vo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bl(n).isEqual(Bl(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=gi(i.timestampValue),a=gi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return yi(i.bytesValue).isEqual(yi(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return qe(i.geoPointValue.latitude)===qe(o.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return qe(i.integerValue)===qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=qe(i.doubleValue),a=qe(o.doubleValue);return s===a?Ul(s)===Ul(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return ec(n.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(BM(s)!==BM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Vr(s[u],a[u])))return!1;return!0})(n,e);default:return ue(52216,{left:n})}}function $l(n,e){return(n.values||[]).find(t=>Vr(t,e))!==void 0}function nc(n,e){if(n===e)return 0;let t=vo(n),r=vo(e);if(t!==r)return ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ye(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=qe(o.integerValue||o.doubleValue),u=qe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return $M(n.timestampValue,e.timestampValue);case 4:return $M(Bl(n),Bl(e));case 5:return GI(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=yi(o),u=yi(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ye(a[l],u[l]);if(h!==0)return h}return ye(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ye(qe(o.latitude),qe(s.latitude));return a!==0?a:ye(qe(o.longitude),qe(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return HM(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[tc])===null||a===void 0?void 0:a.arrayValue,S=(u=m[tc])===null||u===void 0?void 0:u.arrayValue,O=ye(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return O!==0?O:HM(y,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===am.mapValue&&s===am.mapValue)return 0;if(o===am.mapValue)return 1;if(s===am.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=GI(u[p],h[p]);if(m!==0)return m;let y=nc(a[u[p]],l[h[p]]);if(y!==0)return y}return ye(u.length,h.length)})(n.mapValue,e.mapValue);default:throw ue(23264,{le:t})}}function $M(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ye(n,e);let t=gi(n),r=gi(e),i=ye(t.seconds,r.seconds);return i!==0?i:ye(t.nanos,r.nanos)}function HM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=nc(t[i],r[i]);if(o)return o}return ye(t.length,r.length)}function rc(n){return YI(n)}function YI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=gi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return yi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return X.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=YI(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${YI(t.fields[s])}`;return i+"}"})(n.mapValue):ue(61005,{value:n})}function dm(n){switch(vo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Gm(n);return e?16+dm(e):16;case 5:return 2*n.stringValue.length;case 6:return yi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+dm(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return pc(r.fields,(o,s)=>{i+=o.length+dm(s)}),i})(n.mapValue);default:throw ue(13486,{value:n})}}function zM(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function JI(n){return!!n&&"integerValue"in n}function Cb(n){return!!n&&"arrayValue"in n}function qM(n){return!!n&&"nullValue"in n}function GM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function OI(n){return!!n&&"mapValue"in n}function J1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tb])===null||t===void 0?void 0:t.stringValue)===Db}function Pl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return pc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Z1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Y1}var Lue={mapValue:{fields:{[Tb]:{stringValue:Db},[tc]:{arrayValue:{}}}}};var pi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!OI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(t)}setAll(e){let t=Bn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Pl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());OI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];OI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){pc(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Pl(this.value))}};var ar=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,fe.min(),fe.min(),fe.min(),pi.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,fe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,fe.min(),fe.min(),pi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,fe.min(),fe.min(),pi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ic=class{constructor(e,t){this.position=e,this.inclusive=t}};function WM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),t.key):r=nc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vr(n.position[t],e.position[t]))return!1;return!0}var As=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function kz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Em=class{},yt=class n extends Em{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new XI(e,t,r):t==="array-contains"?new n0(e,r):t==="in"?new r0(e,r):t==="not-in"?new i0(e,r):t==="array-contains-any"?new o0(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new e0(e,r):new t0(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nc(t,this.value)):t!==null&&vo(this.value)===vo(t)&&this.matchesComparison(nc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},cr=class n extends Em{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return X1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function X1(n){return n.op==="and"}function eP(n){return Oz(n)&&X1(n)}function Oz(n){for(let e of n.filters)if(e instanceof cr)return!1;return!0}function ZI(n){if(n instanceof yt)return n.field.canonicalString()+n.op.toString()+rc(n.value);if(eP(n))return n.filters.map(e=>ZI(e)).join(",");{let e=n.filters.map(t=>ZI(t)).join(",");return`${n.op}(${e})`}}function tP(n,e){return n instanceof yt?(function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&Vr(r.value,i.value)})(n,e):n instanceof cr?(function(r,i){return i instanceof cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&tP(s,i.filters[a]),!0):!1})(n,e):void ue(19439)}function nP(n){return n instanceof yt?(function(t){return`${t.field.canonicalString()} ${t.op} ${rc(t.value)}`})(n):n instanceof cr?(function(t){return t.op.toString()+" {"+t.getFilters().map(nP).join(" ,")+"}"})(n):"Filter"}var XI=class extends yt{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},e0=class extends yt{constructor(e,t){super(e,"in",t),this.keys=rP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},t0=class extends yt{constructor(e,t){super(e,"not-in",t),this.keys=rP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function rP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}var n0=class extends yt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Cb(t)&&$l(t.arrayValue,this.value)}},r0=class extends yt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&$l(this.value.arrayValue,t)}},i0=class extends yt{constructor(e,t){super(e,"not-in",t)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$l(this.value.arrayValue,t)}},o0=class extends yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Cb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$l(this.value.arrayValue,r))}};var s0=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function QM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new s0(n,e,t,r,i,o,s)}function Sb(n){let e=Se(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ZI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),qm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rc(r)).join(",")),e.Pe=t}return e.Pe}function Ab(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KM(n.startAt,e.startAt)&&KM(n.endAt,e.endAt)}function a0(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var _o=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Fz(n,e,t,r,i,o,s,a){return new _o(n,e,t,r,i,o,s,a)}function Rb(n){return new _o(n)}function YM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iP(n){return n.collectionGroup!==null}function kl(n){let e=Se(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Rt(Bn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new As(o,r))}),t.has(Bn.keyField().canonicalString())||e.Te.push(new As(Bn.keyField(),r))}return e.Te}function Lr(n){let e=Se(n);return e.Ie||(e.Ie=Lz(e,kl(n))),e.Ie}function Lz(n,e){if(n.limitType==="F")return QM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new As(i.field,o)});let t=n.endAt?new ic(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ic(n.startAt.position,n.startAt.inclusive):null;return QM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function c0(n,e){let t=n.filters.concat([e]);return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function u0(n,e,t){return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wm(n,e){return Ab(Lr(n),Lr(e))&&n.limitType===e.limitType}function oP(n){return`${Sb(Lr(n))}|lt:${n.limitType}`}function Ga(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>nP(i)).join(", ")}]`),qm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>rc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>rc(i)).join(",")),`Target(${r})`})(Lr(n))}; limitType=${n.limitType})`}function Km(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of kl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=WM(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,kl(r),i)||r.endAt&&!(function(s,a,u){let l=WM(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,kl(r),i))})(n,e)}function Vz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sP(n){return(e,t)=>{let r=!1;for(let i of kl(n)){let o=jz(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function jz(n,e,t){let r=n.field.isKeyField()?X.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?nc(u,l):ue(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:n.dir})}}var vi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pc(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return q1(this.inner)}size(){return this.innerSize}};var Uz=new ut(X.comparator);function Eo(){return Uz}var aP=new ut(X.comparator);function Ml(...n){let e=aP;for(let t of n)e=e.insert(t.key,t);return e}function Bz(n){let e=aP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Is(){return Ol()}function cP(){return Ol()}function Ol(){return new vi(n=>n.toString(),(n,e)=>n.isEqual(e))}var Vue=new ut(X.comparator),$z=new Rt(X.comparator);function Ae(...n){let e=$z;for(let t of n)e=e.add(t);return e}var Hz=new Rt(ye);function zz(){return Hz}function Nb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(e)?"-0":e}}function uP(n){return{integerValue:""+n}}function qz(n,e){return Ez(e)?uP(e):Nb(n,e)}var oc=class{constructor(){this._=void 0}};function Gz(n,e,t){return n instanceof Hl?(function(i,o){let s={fields:{[W1]:{stringValue:G1},[Q1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&bb(o)&&(o=Gm(o)),o&&(s.fields[K1]=o),{mapValue:s}})(t,e):n instanceof sc?lP(n,e):n instanceof ac?dP(n,e):(function(i,o){let s=Kz(i,o),a=JM(s)+JM(i.Ee);return JI(s)&&JI(i.Ee)?uP(a):Nb(i.serializer,a)})(n,e)}function Wz(n,e,t){return n instanceof sc?lP(n,e):n instanceof ac?dP(n,e):t}function Kz(n,e){return n instanceof zl?(function(r){return JI(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Hl=class extends oc{},sc=class extends oc{constructor(e){super(),this.elements=e}};function lP(n,e){let t=hP(e);for(let r of n.elements)t.some(i=>Vr(i,r))||t.push(r);return{arrayValue:{values:t}}}var ac=class extends oc{constructor(e){super(),this.elements=e}};function dP(n,e){let t=hP(e);for(let r of n.elements)t=t.filter(i=>!Vr(i,r));return{arrayValue:{values:t}}}var zl=class extends oc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function JM(n){return qe(n.integerValue||n.doubleValue)}function hP(n){return Cb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Qz(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof sc&&i instanceof sc||r instanceof ac&&i instanceof ac?ec(r.elements,i.elements,Vr):r instanceof zl&&i instanceof zl?Vr(r.Ee,i.Ee):r instanceof Hl&&i instanceof Hl})(n.transform,e.transform)}var Fl=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function hm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ql=class{};function fP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new l0(n.key,Fl.none()):new Gl(n.key,n.data,Fl.none());{let t=n.data,r=pi.empty(),i=new Rt(Bn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new cc(n.key,r,new ws(i.toArray()),Fl.none())}}function Yz(n,e,t){n instanceof Gl?(function(i,o,s){let a=i.value.clone(),u=XM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof cc?(function(i,o,s){if(!hm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=XM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(pP(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Ll(n,e,t,r){return n instanceof Gl?(function(o,s,a,u){if(!hm(o.precondition,s))return a;let l=o.value.clone(),h=e1(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof cc?(function(o,s,a,u){if(!hm(o.precondition,s))return a;let l=e1(o.fieldTransforms,u,s),h=s.data;return h.setAll(pP(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return hm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function ZM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ec(r,i,(o,s)=>Qz(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Gl=class extends ql{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},cc=class extends ql{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function pP(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function XM(n,e,t){let r=new Map;Ze(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Wz(s,a,t[i]))}return r}function e1(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Gz(o,s,e))}return r}var l0=class extends ql{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var d0=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Yz(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ll(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Ll(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=cP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=fP(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(t,r)=>ZM(t,r))&&ec(this.baseMutations,e.baseMutations,(t,r)=>ZM(t,r))}};var h0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var f0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var mt,Ce;function mP(n){if(n===void 0)return mi("GRPC error has no .code"),j.UNKNOWN;switch(n){case mt.OK:return j.OK;case mt.CANCELLED:return j.CANCELLED;case mt.UNKNOWN:return j.UNKNOWN;case mt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case mt.INTERNAL:return j.INTERNAL;case mt.UNAVAILABLE:return j.UNAVAILABLE;case mt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case mt.NOT_FOUND:return j.NOT_FOUND;case mt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case mt.ABORTED:return j.ABORTED;case mt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case mt.DATA_LOSS:return j.DATA_LOSS;default:return ue(39323,{code:n})}}(Ce=mt||(mt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var t1=null;var Jz=new hi([4294967295,4294967295],0);function n1(n){let e=A1().encode(n),t=new RI;return t.update(e),new Uint8Array(t.digest())}function r1(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new hi([t,r],0),new hi([i,o],0)]}var p0=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bs(`Invalid padding: ${t}`);if(r<0)throw new bs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bs(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=hi.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(hi.fromNumber(r)));return i.compare(Jz)===1&&(i=new hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=n1(e),[r,i]=r1(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=n1(e),[r,i]=r1(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},bs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wm=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(fe.min(),i,new ut(ye),Eo(),Ae())}},Wl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ae(),Ae(),Ae())}};var Ya=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Im=class{constructor(e,t){this.targetId=e,this.De=t}},bm=class{constructor(e,t,r=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Tm=class{constructor(){this.ve=0,this.Ce=i1(),this.Fe=Jt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ae(),t=Ae(),r=Ae();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ue(38017,{changeType:o})}}),new Wl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=i1()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},m0=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Eo(),this.je=cm(),this.Je=cm(),this.He=new ut(ye)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(a0(o))if(r===0){let s=new X(o.path);this.Xe(t,s,ar.newNoDocument(s,fe.min()))}else Ze(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}t1?.ct((function(h,p,m,y,S){var O,M,L,W,te,oe;let Ue={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ve=p.unchangedNames;return ve&&(Ue.bloomFilter={applied:S===0,hashCount:(O=ve?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(W=(L=(M=ve?.bits)===null||M===void 0?void 0:M.bitmap)===null||L===void 0?void 0:L.length)!==null&&W!==void 0?W:0,padding:(oe=(te=ve?.bits)===null||te===void 0?void 0:te.padding)!==null&&oe!==void 0?oe:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Ue})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=yi(r).toUint8Array()}catch(u){if(u instanceof ym)return yo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new p0(s,i,o)}catch(u){return yo(u instanceof bs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&a0(a.target)){let u=new X(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,ar.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Ae();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new wm(e,t,this.He,this.ze,r);return this.ze=Eo(),this.je=cm(),this.Je=cm(),this.He=new ut(ye),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Tm,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Rt(ye),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Rt(ye),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Tm),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function cm(){return new ut(X.comparator)}function i1(){return new ut(X.comparator)}var Zz={asc:"ASCENDING",desc:"DESCENDING"},Xz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e5={and:"AND",or:"OR"},g0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function y0(n,e){return n.useProto3Json||qm(e)?e:{value:e}}function v0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ja(n){return Ze(!!n,49232),fe.fromTimestamp((function(t){let r=gi(t);return new bt(r.seconds,r.nanos)})(n))}function yP(n,e){return _0(n,e).canonicalString()}function _0(n,e){let t=(function(i){return new Ge(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function vP(n){let e=Ge.fromString(n);return Ze(bP(e),10190,{key:e.toString()}),e}function FI(n,e){let t=vP(e);if(t.get(1)!==n.databaseId.projectId)throw new q(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(EP(t))}function _P(n,e){return yP(n.databaseId,e)}function t5(n){let e=vP(n);return e.length===4?Ge.emptyPath():EP(e)}function o1(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EP(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function n5(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ue(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Ze(h===void 0||typeof h=="string",58123),Jt.fromBase64String(h||"")):(Ze(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Jt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?j.UNKNOWN:mP(l.code);return new q(h,l.message||"")})(s);t=new bm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=FI(n,r.document.name),o=Ja(r.document.updateTime),s=r.document.createTime?Ja(r.document.createTime):fe.min(),a=new pi({mapValue:{fields:r.document.fields}}),u=ar.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ya(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=FI(n,r.document),o=r.readTime?Ja(r.readTime):fe.min(),s=ar.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ya([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=FI(n,r.document),o=r.removedTargetIds||[];t=new Ya([],o,i,null)}else{if(!("filter"in e))return ue(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new f0(i,o),a=r.targetId;t=new Im(a,s)}}return t}function r5(n,e){return{documents:[_P(n,e.path)]}}function i5(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_P(n,i);let o=(function(l){if(l.length!==0)return IP(cr.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Wa(m.field),direction:a5(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=y0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function o5(n){let e=t5(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ze(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=wP(p);return m instanceof cr&&eP(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new As(Ka(S.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,qm(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new ic(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new ic(y,m)})(t.endAt)),Fz(e,i,s,o,a,"F",u,l)}function s5(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wP(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ka(t.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ka(t.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ka(t.unaryFilter.field);return yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ka(t.unaryFilter.field);return yt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}})(n):n.fieldFilter!==void 0?(function(t){return yt.create(Ka(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return cr.create(t.compositeFilter.filters.map(r=>wP(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue(1026)}})(t.compositeFilter.op))})(n):ue(30097,{filter:n})}function a5(n){return Zz[n]}function c5(n){return Xz[n]}function u5(n){return e5[n]}function Wa(n){return{fieldPath:n.canonicalString()}}function Ka(n){return Bn.fromServerFormat(n.fieldPath)}function IP(n){return n instanceof yt?(function(t){if(t.op==="=="){if(GM(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NAN"}};if(qM(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(GM(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NOT_NAN"}};if(qM(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(t.field),op:c5(t.op),value:t.value}}})(n):n instanceof cr?(function(t){let r=t.getFilters().map(i=>IP(i));return r.length===1?r[0]:{compositeFilter:{op:u5(t.op),filters:r}}})(n):ue(54877,{filter:n})}function bP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Kl=class n{constructor(e,t,r,i,o=fe.min(),s=fe.min(),a=Jt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var E0=class{constructor(e){this.gt=e}};function l5(n){let e=o5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?u0(e,e.limit,"L"):e}var Dm=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(qe(e.integerValue));else if("doubleValue"in e){let r=qe(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Ul(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=gi(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(yi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?Z1(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):J1(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ue(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=tc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(qe(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),X.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Dm.Ut=new Dm;var w0=class{constructor(){this.Dn=new I0}addToCollectionParentIndex(e,t){return this.Dn.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(Ss.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},I0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Rt(Ge.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(Ge.comparator)).toArray()}};var jue=new Uint8Array(0);var s1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TP=41943040,Un=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(TP,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);var Ql=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var a1="LruGarbageCollector",d5=1048576;function c1([n,e],[t,r]){let i=ye(n,t);return i===0?ye(e,r):i}var b0=class{constructor(e){this.Tr=e,this.buffer=new Rt(c1),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();c1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},T0=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){G(a1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){fc(t)?G(a1,"Ignoring IndexedDB error during garbage collection: ",t):yield zm(t)}yield this.Rr(3e5)}))}},D0=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return V.resolve(Ib.ue);let r=new b0(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(s1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s1):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),qa()<=we.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function h5(n,e){return new D0(n,e)}var C0=class{constructor(){this.changes=new vi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var S0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var A0=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ll(r.mutation,i,ws.empty(),bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ae()){let i=Is();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ml();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Is();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ae()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Eo(),s=Ol(),a=(function(){return Ol()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof cc)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Ll(h.mutation,l,h.mutation.getFieldMask(),bt.now())):s.set(l.key,ws.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new S0(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Ol(),i=new ut((s,a)=>s-a),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||ws.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ae()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=cP();h.forEach(m=>{if(!o.has(m)){let y=fP(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):V.resolve(Is()),a=jl,u=o;return s.next(l=>V.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ae())).next(h=>({batchId:a,changes:Bz(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=Ml();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ml();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,u=>{let l=(function(p,m){return new _o(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,ar.newInvalidDocument(h)))});let a=Ml();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Ll(h.mutation,l,ws.empty(),bt.now()),Km(t,l)&&(a=a.insert(u,l))}),a})}};var R0=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return V.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Ja(i.createTime)}})(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:l5(i.bundledQuery),readTime:Ja(i.readTime)}})(t)),V.resolve()}};var N0=class{constructor(){this.overlays=new ut(X.comparator),this.kr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Is();return V.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=Is(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ut((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Is(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Is(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return V.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new h0(t,r));let o=this.kr.get(t);o===void 0&&(o=Ae(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var x0=class{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var Yl=class{constructor(){this.qr=new Rt(gt.Qr),this.$r=new Rt(gt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new gt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new gt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new X(new Ge([])),r=new gt(t,e),i=new gt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new X(new Ge([])),r=new gt(t,e),i=new gt(t,e+1),o=Ae();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new gt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},gt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return X.comparator(e.key,t.key)||ye(e.Hr,t.Hr)}static Ur(e,t){return ye(e.Hr,t.Hr)||X.comparator(e.key,t.key)}};var M0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Rt(gt.Qr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new d0(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new gt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,t){return V.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?_z:this.er-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new gt(t,0),i=new gt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(ye);return t.forEach(i=>{let o=new gt(i,0),s=new gt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),V.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new gt(new X(o),0),a=new Rt(ye);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),V.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ze(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return V.forEach(t.mutations,i=>{let o=new gt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new gt(t,0),i=this.Yr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var P0=class{constructor(e){this.ni=e,this.docs=(function(){return new ut(X.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(t))}getEntries(e,t){let r=Eo();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ar.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Eo(),s=t.path,a=new X(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||gz(mz(h),r)<=0||(i.has(h.key)||Km(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ue(9500)}ri(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new k0(this)}getSize(e){return V.resolve(this.size)}},k0=class extends C0{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var O0=class{constructor(e){this.persistence=e,this.ii=new vi(t=>Sb(t),Ab),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.si=0,this.oi=new Yl,this.targetCount=0,this._i=Ql.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),V.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Ql(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.hr(t),V.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.oi.containsKey(t))}};var Cm=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new Ib(0),this.ci=!1,this.ci=!0,this.li=new x0,this.referenceDelegate=e(this),this.hi=new O0(this),this.indexManager=new w0,this.remoteDocumentCache=(function(i){return new P0(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new E0(t),this.Ti=new R0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new N0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new M0(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){G("MemoryPersistence","Starting transaction:",e);let i=new F0(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return V.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},F0=class extends KI{constructor(e){super(),this.currentSequenceNumber=e}},L0=class n{constructor(e){this.persistence=e,this.Ai=new Yl,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ue(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),V.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.mi,r=>{let i=X.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,fe.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return V.or([()=>V.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Sm=class n{constructor(e,t){this.persistence=e,this.gi=new vi(r=>wz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=h5(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return V.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return V.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?V.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=dm(e.data.value)),t}Sr(e,t,r){return V.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var V0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ae(),i=Ae();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var j0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var U0=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return WN()?8:vz(St())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new j0;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(qa()<=we.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ga(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),V.resolve()):(qa()<=we.DEBUG&&G("QueryEngine","Query:",Ga(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(qa()<=we.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ga(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(t))):V.resolve())}ps(e,t){if(YM(t))return V.resolve(null);let r=Lr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=u0(t,null,"F"),r=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ae(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,u0(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return YM(t)||i.isEqual(fe.min())?V.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?V.resolve(null):(qa()<=we.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ga(t)),this.vs(e,s,t,pz(i,jl)).next(a=>a))})}bs(e,t){let r=new Rt(sP(e));return t.forEach((i,o)=>{Km(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return qa()<=we.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ga(t)),this.gs.getDocumentsMatchingQuery(e,t,Ss.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var xb="LocalStore",f5=3e8,B0=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ut(ye),this.Ms=new vi(o=>Sb(o),Ab),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A0(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function p5(n,e,t,r){return new B0(n,e,t,r)}function DP(n,e){return _(this,null,function*(){let t=Se(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ae();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function CP(n){let e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function m5(n,e){let t=Se(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Jt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(O,M,L){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=f5?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=Eo(),l=Ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(g5(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(fe.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function g5(n,e,t){let r=Ae(),i=Ae();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Eo();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(fe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):G(xb,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function y5(n,e){let t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Kl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function $0(n,e,t){return _(this,null,function*(){let r=Se(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!fc(s))throw s;G(xb,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function u1(n,e,t){let r=Se(n),i=fe.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=Se(u),m=p.Ms.get(h);return m!==void 0?V.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,Lr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:fe.min(),t?o:Ae())).next(a=>(v5(r,Vz(e),a),{documents:a,qs:o})))}function v5(n,e,t){let r=n.xs.get(e)||fe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Am=class{constructor(){this.activeTargetIds=zz()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var H0=class{constructor(){this.Fo=new Am,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Am,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var z0=class{xo(e){}shutdown(){}};var l1="ConnectivityMonitor",Rm=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){G(l1,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){G(l1,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var um=null;function q0(){return um===null?um=(function(){return 268435456+Math.round(2147483648*Math.random())})():um++,"0x"+um.toString(16)}var LI="RestConnection",_5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},G0=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===vm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=q0(),a=this.Go(e,t.toUriEncodedString());G(LI,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Zi(l);return this.jo(e,a,u,r,h).then(p=>(G(LI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw yo(LI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=_5[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var W0=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Qt="WebChannelConnection",K0=class extends G0{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=q0();return new Promise((a,u)=>{let l=new NI;l.setWithCredentials(!0),l.listenOnce(xI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xl.NO_ERROR:let p=l.getResponseJson();G(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case xl.TIMEOUT:G(Qt,`RPC '${e}' ${s} timed out`),u(new q(j.DEADLINE_EXCEEDED,"Request time out"));break;case xl.HTTP_ERROR:let m=l.getStatus();if(G(Qt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let O=(function(L){let W=L.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(W)>=0?W:j.UNKNOWN})(S.status);u(new q(O,S.message))}else u(new q(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new q(j.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{G(Qt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);G(Qt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=q0(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kI(),a=PI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");G(Qt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,S=new W0({Ho:M=>{y?G(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(G(Qt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),G(Qt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},Yo:()=>p.close()}),O=(M,L,W)=>{M.listen(L,te=>{try{W(te)}catch(oe){setTimeout(()=>{throw oe},0)}})};return O(p,za.EventType.OPEN,()=>{y||(G(Qt,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),O(p,za.EventType.CLOSE,()=>{y||(y=!0,G(Qt,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),O(p,za.EventType.ERROR,M=>{y||(y=!0,yo(Qt,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),S.__(new q(j.UNAVAILABLE,"The operation could not be completed")))}),O(p,za.EventType.MESSAGE,M=>{var L;if(!y){let W=M.data[0];Ze(!!W,16349);let te=W,oe=te?.error||((L=te[0])===null||L===void 0?void 0:L.error);if(oe){G(Qt,`RPC '${e}' stream ${i} received error:`,oe);let Ue=oe.status,ve=(function(w){let T=mt[w];if(T!==void 0)return mP(T)})(Ue),D=oe.message;ve===void 0&&(ve=j.INTERNAL,D="Unknown error status: "+Ue+" with message "+oe.message),y=!0,S.__(new q(ve,D)),p.close()}else G(Qt,`RPC '${e}' stream ${i} received:`,W),S.a_(W)}}),O(a,MI.STAT_EVENT,M=>{M.stat===sm.PROXY?G(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===sm.NOPROXY&&G(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function VI(){return typeof document<"u"?document:null}function Qm(n){return new g0(n,!0)}var Nm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var d1="PersistentStream",Q0=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Nm(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new q(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return G(d1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(G(d1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Y0=class extends Q0{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=n5(this.serializer,e),r=(function(o){if(!("targetChange"in o))return fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?Ja(s.readTime):fe.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=o1(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=a0(u)?{documents:r5(o,u)}:{query:i5(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gP(o,s.resumeToken);let l=y0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=v0(o,s.snapshotVersion.toTimestamp());let l=y0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=s5(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=o1(this.serializer),t.removeTarget=e,this.k_(t)}};var J0=class{},Z0=class extends J0{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new q(j.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,_0(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(j.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,_0(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(j.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},X0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(mi(t),this._a=!1):G("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var uc="RemoteStore",eb=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){td(this)&&(G(uc,"Restarting streams for network reachability change."),yield(function(u){return _(this,null,function*(){let l=Se(u);l.Ia.add(4),yield ed(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Ym(l)})})(this))}))}),this.Aa=new X0(r,i)}};function Ym(n){return _(this,null,function*(){if(td(n))for(let e of n.da)yield e(!0)})}function ed(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function SP(n,e){let t=Se(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Ob(t)?kb(t):mc(t).x_()&&Pb(t,e))}function Mb(n,e){let t=Se(n),r=mc(t);t.Ta.delete(e),r.x_()&&AP(t,e),t.Ta.size===0&&(r.x_()?r.B_():td(t)&&t.Aa.set("Unknown"))}function Pb(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mc(n).H_(e)}function AP(n,e){n.Ra.$e(e),mc(n).Y_(e)}function kb(n){n.Ra=new m0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),mc(n).start(),n.Aa.aa()}function Ob(n){return td(n)&&!mc(n).M_()&&n.Ta.size>0}function td(n){return Se(n).Ia.size===0}function RP(n){n.Ra=void 0}function E5(n){return _(this,null,function*(){n.Aa.set("Online")})}function w5(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{Pb(n,e)})})}function I5(n,e){return _(this,null,function*(){RP(n),Ob(n)?(n.Aa.la(e),kb(n)):n.Aa.set("Unknown")})}function b5(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof bm&&e.state===2&&e.cause)try{yield(function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){G(uc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield h1(n,r)}else if(e instanceof Ya?n.Ra.Ye(e):e instanceof Im?n.Ra.it(e):n.Ra.et(e),!t.isEqual(fe.min()))try{let r=yield CP(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Jt.EMPTY_BYTE_STRING,h.snapshotVersion)),AP(o,u);let p=new Kl(h.target,u,l,h.sequenceNumber);Pb(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){G(uc,"Failed to raise snapshot:",r),yield h1(n,r)}})}function h1(n,e,t){return _(this,null,function*(){if(!fc(e))throw e;n.Ia.add(1),yield ed(n),n.Aa.set("Offline"),t||(t=()=>CP(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){G(uc,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Ym(n)}))})}function f1(n,e){return _(this,null,function*(){let t=Se(n);t.asyncQueue.verifyOperationInProgress(),G(uc,"RemoteStore received new credentials");let r=td(t);t.Ia.add(3),yield ed(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Ym(t)})}function T5(n,e){return _(this,null,function*(){let t=Se(n);e?(t.Ia.delete(2),yield Ym(t)):e||(t.Ia.add(2),yield ed(t),t.Aa.set("Unknown"))})}function mc(n){return n.Va||(n.Va=(function(t,r,i){let o=Se(t);return o.ia(),new Y0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:E5.bind(null,n),e_:w5.bind(null,n),n_:I5.bind(null,n),J_:b5.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),Ob(n)?kb(n):n.Aa.set("Unknown")):(yield n.Va.stop(),RP(n))}))),n.Va}var tb=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function NP(n,e){if(mi("AsyncQueue",`${e}: ${n}`),fc(n))return new q(j.UNAVAILABLE,`${e}: ${n}`);throw n}var xm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=Ml(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Mm=class{constructor(){this.fa=new ut(X.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ue(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},lc=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,xm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var nb=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},rb=class{constructor(){this.queries=p1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=Se(t),o=i.queries;i.queries=p1(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new q(j.ABORTED,"Firestore shutting down"))}};function p1(){return new vi(n=>oP(n),Wm)}function D5(n,e){return _(this,null,function*(){let t=Se(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new nb,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=NP(s,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&Fb(t)})}function C5(n,e){return _(this,null,function*(){let t=Se(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function S5(n,e){let t=Se(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&Fb(t)}function A5(n,e,t){let r=Se(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function Fb(n){n.Da.forEach(e=>{e.next()})}var ib,m1;(m1=ib||(ib={})).Fa="default",m1.Cache="cache";var ob=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new lc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ib.Cache}};var Pm=class{constructor(e){this.key=e}},km=class{constructor(e){this.key=e}},sb=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ae(),this.mutatedKeys=Ae(),this.Xa=sP(e),this.eu=new xm(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Mm,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Km(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),O=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;m&&y?m.data.isEqual(y.data)?S!==O&&(r.track({type:3,doc:y}),M=!0):this.iu(m,y)||(r.track({type:2,doc:y}),M=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),M=!0):m&&!y&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(y?(s=s.add(y),o=O?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,S){let O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{At:M})}};return O(y)-O(S)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new lc(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Mm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Ae(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new km(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Pm(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ae();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return lc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Lb="SyncEngine",ab=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},cb=class{constructor(e){this.key=e,this.lu=!1}},ub=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new vi(a=>oP(a),Wm),this.Tu=new Map,this.Iu=new Set,this.du=new ut(X.comparator),this.Eu=new Map,this.Au=new Yl,this.Ru={},this.Vu=new Map,this.mu=Ql.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function R5(n,e,t=!0){return _(this,null,function*(){let r=OP(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield xP(r,e,t,!0),i})}function N5(n,e){return _(this,null,function*(){let t=OP(n);yield xP(t,e,!0,!1)})}function xP(n,e,t,r){return _(this,null,function*(){let i=yield y5(n.localStore,Lr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield x5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&SP(n.remoteStore,i),a})}function x5(n,e,t,r,i){return _(this,null,function*(){n.gu=(p,m,y)=>(function(O,M,L,W){return _(this,null,function*(){let te=M.view.nu(L);te.Ds&&(te=yield u1(O.localStore,M.query,!1).then(({documents:D})=>M.view.nu(D,te)));let oe=W&&W.targetChanges.get(M.targetId),Ue=W&&W.targetMismatches.get(M.targetId)!=null,ve=M.view.applyChanges(te,O.isPrimaryClient,oe,Ue);return y1(O,M.targetId,ve._u),ve.snapshot})})(n,p,m,y);let o=yield u1(n.localStore,e,!0),s=new sb(e,o.qs),a=s.nu(o.documents),u=Wl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);y1(n,t,l._u);let h=new ab(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function M5(n,e,t){return _(this,null,function*(){let r=Se(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Wm(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield $0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Mb(r.remoteStore,i.targetId),lb(r,i.targetId)}).catch(zm))):(lb(r,i.targetId),yield $0(r.localStore,i.targetId,!0))})}function P5(n,e){return _(this,null,function*(){let t=Se(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Mb(t.remoteStore,r.targetId))})}function MP(n,e){return _(this,null,function*(){let t=Se(n);try{let r=yield m5(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ze(s.lu,14607):i.removedDocuments.size>0&&(Ze(s.lu,42227),s.lu=!1))}),yield kP(t,r,e)}catch(r){yield zm(r)}})}function g1(n,e,t){let r=Se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=Se(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&Fb(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function k5(n,e,t){return _(this,null,function*(){let r=Se(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ut(X.comparator);s=s.insert(o,ar.newNoDocument(o,fe.min()));let a=Ae().add(o),u=new wm(fe.min(),new Map,new ut(ye),s,a);yield MP(r,u),r.du=r.du.remove(o),r.Eu.delete(e),Vb(r)}else yield $0(r.localStore,e,!1).then(()=>lb(r,e,t)).catch(zm)})}function lb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||PP(n,r)})}function PP(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(Mb(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Vb(n))}function y1(n,e,t){for(let r of t)r instanceof Pm?(n.Au.addReference(r.key,e),O5(n,r)):r instanceof km?(G(Lb,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||PP(n,r.key)):ue(19791,{yu:r})}function O5(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(G(Lb,"New document in limbo: "+t),n.Iu.add(r),Vb(n))}function Vb(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new X(Ge.fromString(e)),r=n.mu.next();n.Eu.set(r,new cb(t)),n.du=n.du.insert(t,r),SP(n.remoteStore,new Kl(Lr(Rb(t.path)),r,"TargetPurposeLimboResolution",Ib.ue))}}function kP(n,e,t){return _(this,null,function*(){let r=Se(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=V0.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return _(this,null,function*(){let h=Se(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(l,m=>V.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>V.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!fc(p))throw p;G(xb,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),S=y.snapshotVersion,O=y.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(m,O)}}})})(r.localStore,o))})}function F5(n,e){return _(this,null,function*(){let t=Se(n);if(!t.currentUser.isEqual(e)){G(Lb,"User change. New user:",e.toKey());let r=yield DP(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new q(j.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield kP(t,r.Bs)}})}function L5(n,e){let t=Se(n),r=t.Eu.get(e);if(r&&r.lu)return Ae().add(r.key);{let i=Ae(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function OP(n){let e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k5.bind(null,e),e.hu.J_=S5.bind(null,e.eventManager),e.hu.pu=A5.bind(null,e.eventManager),e}var FP=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Qm(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return p5(this.persistence,new U0,t.initialUser,this.serializer)}Du(t){return new Cm(L0.Vi,this.serializer)}bu(t){return new H0}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),db=class extends FP{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ze(this.persistence.referenceDelegate instanceof Sm,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new T0(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new Cm(r=>Sm.Vi(r,t),this.serializer)}};var V5=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>g1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=F5.bind(null,this.syncEngine),yield T5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new rb})()}createDatastore(t){let r=Qm(t.databaseInfo.databaseId),i=(function(s){return new K0(s)})(t.databaseInfo);return(function(s,a,u,l){return new Z0(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new eb(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>g1(this.syncEngine,r,0),(function(){return Rm.C()?new Rm:new z0})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new ub(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield(function(o){return _(this,null,function*(){let s=Se(o);G(uc,"RemoteStore shutting down."),s.Ia.add(5),yield ed(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var hb=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var wo="FirestoreClient",fb=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=Vl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){G(wo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G(wo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=NP(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function jI(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G(wo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield DP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{yo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{G("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{yo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function v1(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield j5(n);G(wo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>f1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>f1(e.remoteStore,i)),n._onlineComponents=e})}function j5(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G(wo,"Using user provided OfflineComponentProvider");try{yield jI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;yo("Error using user provided cache. Falling back to memory cache: "+t),yield jI(n,new FP)}}else G(wo,"Using default OfflineComponentProvider"),yield jI(n,new db(void 0));return n._offlineComponents})}function U5(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G(wo,"Using user provided OnlineComponentProvider"),yield v1(n,n._uninitializedComponentsProvider._online)):(G(wo,"Using default OnlineComponentProvider"),yield v1(n,new V5))),n._onlineComponents})}function _1(n){return _(this,null,function*(){let e=yield U5(n),t=e.eventManager;return t.onListen=R5.bind(null,e.syncEngine),t.onUnlisten=M5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=N5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=P5.bind(null,e.syncEngine),t})}function LP(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var E1=new Map;var VP="firestore.googleapis.com",w1=!0,Om=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VP,this.ssl=w1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:w1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d5)throw new q(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},dc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UI;switch(r.type){case"firstParty":return new zI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=E1.get(t);r&&(G("ComponentProvider","Removing Datastore"),E1.delete(t),r.terminate())})(this),Promise.resolve()}};function jP(n,e,t,r={}){var i;n=lm(n,dc);let o=Zi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Mp(`https://${u}`),Pp("Firestore",!0)),s.host!==VP&&s.host!==u&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Nr(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=At.MOCK_USER;else{h=BN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new q(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new At(m)}n._authCredentials=new BI(new fm(h,p))}}var Rs=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Yt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Xl(t,n._jsonSchema))return new n(e,r||null,new X(Ge.fromString(t.referencePath)))}};Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:vt("string",Yt._jsonSchemaVersion),referencePath:vt("string")};var fo=class n extends Rs{constructor(e,t,r){super(e,t,Rb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function UP(n,e,...t){if(n=Ft(n),R1("collection","path",e),n instanceof dc){let r=Ge.fromString(e,...t);return LM(r),new fo(n,null,r)}{if(!(n instanceof Yt||n instanceof fo))throw new q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ge.fromString(e,...t));return LM(r),new fo(n.firestore,null,r)}}function BP(n,e,...t){if(n=Ft(n),arguments.length===1&&(e=Vl.newId()),R1("doc","path",e),n instanceof dc){let r=Ge.fromString(e,...t);return FM(r),new Yt(n,null,new X(r))}{if(!(n instanceof Yt||n instanceof fo))throw new q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ge.fromString(e,...t));return FM(r),new Yt(n.firestore,n instanceof fo?n.converter:null,new X(r))}}var I1="AsyncQueue",Fm=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Nm(this,"async_queue_retry"),this.oc=()=>{let r=VI();r&&G(I1,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=VI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=VI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new ho;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!fc(e))throw e;G(I1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,mi("INTERNAL UNHANDLED ERROR: ",b1(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=tb.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ue(47125,{hc:b1(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function b1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function T1(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Jl=class extends dc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Fm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Fm(e),this._firestoreClient=void 0,yield e}})}};function $P(n,e){let t=typeof n=="object"?n:ms(),r=typeof n=="string"?n:e||vm,i=Ua(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=UN("firestore");o&&jP(i,...o)}return i}function B5(n){if(n._terminated)throw new q(j.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$5(n),n._firestoreClient}function $5(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new QI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new fb(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var po=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Jt.fromBase64String(e))}catch(t){throw new q(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xl(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};po._jsonSchemaVersion="firestore/bytes/1.0",po._jsonSchema={type:vt("string",po._jsonSchemaVersion),bytes:vt("string")};var Lm=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vm=class{constructor(e){this._methodName=e}};var mo=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Xl(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};mo._jsonSchemaVersion="firestore/geoPoint/1.0",mo._jsonSchema={type:vt("string",mo._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};var go=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xl(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new q(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};go._jsonSchemaVersion="firestore/vectorValue/1.0",go._jsonSchema={type:vt("string",go._jsonSchemaVersion),vectorValues:vt("object")};var H5=/^__.*__$/;function HP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{Ec:n})}}var pb=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return gb(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(HP(this.Ec)&&H5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},mb=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qm(e)}Dc(e,t,r,i=!1){return new pb({Ec:e,methodName:t,bc:r,path:Bn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function z5(n){let e=n._freezeSettings(),t=Qm(n._databaseId);return new mb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function q5(n,e,t,r=!1){return jb(t,n.Dc(r?4:3,e))}function jb(n,e){if(zP(n=Ft(n)))return W5("Unsupported field value:",e,n),G5(n,e);if(n instanceof Vm)return(function(r,i){if(!HP(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=jb(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=bt.fromDate(r);return{timestampValue:v0(i.serializer,o)}}if(r instanceof bt){let o=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:v0(i.serializer,o)}}if(r instanceof mo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof po)return{bytesValue:gP(i.serializer,r._byteString)};if(r instanceof Yt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yP(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof go)return(function(s,a){return{mapValue:{fields:{[Tb]:{stringValue:Db},[tc]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return Nb(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Hm(r)}`)})(n,e)}function G5(n,e){let t={};return q1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pc(n,(r,i)=>{let o=jb(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function zP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof mo||n instanceof po||n instanceof Yt||n instanceof Vm||n instanceof go)}function W5(n,e,t){if(!zP(t)||!N1(t)){let r=Hm(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}var K5=new RegExp("[~\\*/\\[\\]]");function Q5(n,e,t){if(e.search(K5)>=0)throw gb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lm(...e.split("."))._internalPath}catch{throw gb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gb(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new q(j.INVALID_ARGUMENT,a+n+u)}var jm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Jm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},yb=class extends jm{data(){return super.data()}};function Jm(n,e){return typeof e=="string"?Q5(n,e):e instanceof Lm?e._internalPath:e._delegate._internalPath}function Y5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zl=class{},Um=class extends Zl{};function qP(n,e,...t){let r=[];e instanceof Zl&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof vb).length,a=o.filter(u=>u instanceof Bm).length;if(s>1||s>0&&a>0)throw new q(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Bm=class n extends Um{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return KP(e._query,t),new Rs(e.firestore,e.converter,c0(e._query,t))}_parse(e){let t=z5(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){C1(p,h);let S=[];for(let O of p)S.push(D1(u,o,O));m={arrayValue:{values:S}}}else m=D1(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||C1(p,h),m=q5(a,s,p,h==="in"||h==="not-in");return yt.create(l,h,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function GP(n,e,t){let r=e,i=Jm("where",n);return Bm._create(i,r,t)}var vb=class n extends Zl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:cr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)KP(s,u),s=c0(s,u)})(e._query,t),new Rs(e.firestore,e.converter,c0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var _b=class n extends Um{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new q(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new As(o,s)})(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new _o(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function WP(n,e="asc"){let t=e,r=Jm("orderBy",n);return _b._create(r,t)}function D1(n,e,t){if(typeof(t=Ft(t))=="string"){if(t==="")throw new q(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iP(e)&&t.indexOf("/")!==-1)throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ge.fromString(t));if(!X.isDocumentKey(r))throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zM(n,new X(r))}if(t instanceof Yt)return zM(n,t._key);throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(t)}.`)}function C1(n,e){if(!Array.isArray(n)||n.length===0)throw new q(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KP(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new q(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Eb=class{convertValue(e,t="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return pc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[tc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>qe(s.doubleValue));return new go(o)}convertGeoPoint(e){return new mo(qe(e.latitude),qe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Gm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){let t=gi(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ge.fromString(e);Ze(bP(r),9688,{name:e});let i=new _m(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(t)||mi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Ts=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ds=class n extends jm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Za(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Jm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ds._jsonSchema={type:vt("string",Ds._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};var Za=class extends Ds{data(e={}){return super.data(e)}},Xa=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ts(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Za(this._firestore,this._userDataWriter,r.key,r,new Ts(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Za(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ts(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Za(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ts(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:J5(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function J5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:n})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:vt("string",Xa._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};var $m=class extends Eb{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}};function Zm(n,...e){var t,r,i;n=Ft(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||T1(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(T1(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Yt)l=lm(n.firestore,Jl),h=Rb(n._key.path),u={next:p=>{e[s]&&e[s](Z5(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=lm(n,Rs);l=lm(p.firestore,Jl),h=p._query;let m=new $m(l);u={next:y=>{e[s]&&e[s](new Xa(l,m,p,y))},error:e[s+1],complete:e[s+2]},Y5(n._query)}return(function(m,y,S,O){let M=new hb(O),L=new ob(y,M,S);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return D5(yield _1(m),L)})),()=>{M.Ou(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return C5(yield _1(m),L)}))}})(B5(l),h,a,u)}function Z5(n,e,t){let r=t.docs.get(e._key),i=new $m(n);return new Ds(n,i,e._key,r,new Ts(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){hc=i})(eo),ir(new sn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Jl(new $I(r.getProvider("auth-internal")),new qI(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new q(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _m(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ot(MM,PM,e),ot(MM,PM,"esm2017")})();var Xm=function(){return Xm=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Xm.apply(this,arguments)};var t8={includeMetadataChanges:!1};function QP(n,e){return e===void 0&&(e=t8),new Y(function(t){var r=Zm(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function YP(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Xm(Xm({},r),(t={},t[e.idField]=n.id,t))}function JP(n){return QP(n,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function ZP(n,e){return e===void 0&&(e={}),JP(n).pipe(J(function(t){return t.map(function(r){return YP(r,e)})}))}var _i=class{constructor(e){return e}},XP="firestore",Ub=class{constructor(){return $a(XP)}};var Bb=new H("angularfire2.firestore-instances");function n8(n,e){let t=yl(XP,n,e);return t&&new _i(t)}function r8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new _i(r)}}var i8={provide:Ub,deps:[[new En,Bb]]},o8={provide:_i,useFactory:n8,deps:[[new En,Bb],ui]};function ek(n,...e){return ot("angularfire",to.full,"fst"),vn([o8,i8,{provide:Bb,useFactory:r8(n),multi:!0,deps:[Ne,tt,no,ys,[new En,Nl],[new En,Ha],...e]}])}var $b=It(ZP,!0);var jr=It(UP,!0,2);var tk=It(BP,!0,2);var nk=It($P,!0);var Io=It(Zm,!0);var eg=It(WP,!0,2),bo=It(qP,!0,2);var Rn=It(GP,!0,2);var gc=class n{firestore=x(_i);constructor(){}getCollection(e){let t=jr(this.firestore,e);return $b(t,{idField:"id"})}getShortlistRealtime(e){let t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59),i=jr(this.firestore,"predictions"),o=bo(i,Rn("matchDate",">=",t.toISOString()),Rn("matchDate","<=",r.toISOString()),eg("matchDate","asc"));return $b(o,{idField:"id"}).pipe(J(s=>({report:null,predictions:s.filter(l=>l.odd!=null&&l.odd>=1.3).map(l=>{let h="UNKNOWN";return l.result==="WON"?h="WON":l.result==="LOST"&&(h="LOST"),ee(F({},l),{resultStatus:h})})})))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var To=class n{firestore=x(_i);firestoreService=x(gc);constructor(){}getSimulationCharacters(){return this.firestoreService.getCollection("simulation_characters")}getSimulationHistory(){let e=jr(this.firestore,"simulation_history"),t=bo(e,eg("month","desc"));return new Y(r=>{let i=Io(t,o=>{let s=[];o.forEach(a=>{s.push(a.data())}),r.next(s)},o=>{r.error(o)});return()=>i()})}createRealtimeObservable(e,t){let r=bo(e,Rn("date","==",t));return new Y(i=>{let o=Io(r,s=>{let a=[];s.forEach(u=>{a.push(F({id:u.id},u.data()))}),i.next(a)},s=>{i.error(s)});return()=>o()})}getTickets(e){let t=jr(this.firestore,"tickets");return this.createRealtimeObservable(t,e)}getTicketsForCurrentMonth(){let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0),i=bo(jr(this.firestore,"tickets"),Rn("date",">=",t.toISOString().split("T")[0]),Rn("date","<=",r.toISOString().split("T")[0]));return new Y(o=>{let s=Io(i,a=>{let u=[];a.forEach(l=>{u.push(F({id:l.id},l.data()))}),o.next(u)},a=>{console.error("[ApiService] Error fetching monthly tickets:",a),o.error(a)});return()=>s()})}getMonthlyOracleTickets(e){let t=new Date;t.setDate(t.getDate()+e);let r=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth()+1,0),o=bo(jr(this.firestore,"tickets"),Rn("title","==","The Oracle's Choice"),Rn("date",">=",r.toISOString().split("T")[0]),Rn("date","<=",i.toISOString().split("T")[0]));return new Y(s=>{let a=Io(o,u=>{let l=[];u.forEach(p=>{l.push(F({id:p.id},p.data()))});let h=l.sort((p,m)=>new Date(p.date).getTime()-new Date(m.date).getTime());s.next(h)},u=>{console.error("[ApiService] Error fetching monthly oracle tickets:",u),s.error(u)});return()=>a()})}getShortlist(e){let t=new Date(e.setHours(0,0,0,0)),r=new Date(e.setHours(23,59,59,999)),i=bo(jr(this.firestore,"predictions"),Rn("matchDate",">=",t.toISOString()),Rn("matchDate","<=",r.toISOString()),Rn("odd",">=",1.25));return new Y(o=>{let s=Io(i,a=>{let u=a.docs.map(y=>F({id:y.id},y.data())),l=new Map;u.forEach(y=>{y.fixtureId&&y.league&&l.set(y.fixtureId,y.league)});let h=u.map(y=>!y.league&&y.fixtureId&&l.has(y.fixtureId)?ee(F({},y),{league:l.get(y.fixtureId)}):y),p=[],m=new Set;for(let y of h)m.has(y.id)||(m.add(y.id),p.push(y));p.sort((y,S)=>new Date(y.matchDate).getTime()-new Date(S.matchDate).getTime()),console.log("[ApiService] Donn\xE9es brutes re\xE7ues de Firestore (Pr\xE9dictions):",p),o.next(p)});return()=>s()}).pipe(We(o=>{if(o.length===0)return K({report:null,predictions:[]});let s=o[0].backtestExecutionId;if(!s)return K({report:null,predictions:o.map(p=>ee(F({},p),{resultStatus:"UNKNOWN"}))});let a=tk(this.firestore,"prediction_reports",s),u=jr(this.firestore,`prediction_reports/${s}/results`),l=new Y(p=>{let m=Io(a,y=>{p.next(y.exists()?F({executionId:s},y.data()):null)});return()=>m()}),h=new Y(p=>{let m=Io(u,y=>{p.next(y.docs.map(S=>S.data()))});return()=>m()});return ko([l,h]).pipe(J(([p,m])=>{let y=new Map(m.map(O=>[O.predictionId,O.result])),S=o.map(O=>{let M=y.get(O.id);return M?ee(F({},O),{resultStatus:M}):p?.status==="PROCESSING"?ee(F({},O),{resultStatus:"IN_PROGRESS"}):ee(F({},O),{resultStatus:"UNKNOWN"})});return{report:p,predictions:S}}))}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var s8=(n,e)=>({"bg-[#222] border border-[#00FF41]":n,"bg-[#111] hover:bg-[#1A1A1A]":e});function a8(n,e){if(n&1){let t=Et();I(0,"button",9),De("click",function(){let i=He(t).$implicit,o=ie();return ze(o.onSelectDay(i))}),I(1,"span",10),N(2),b(),I(3,"span",11),N(4),b()()}if(n&2){let t=e.$implicit,r=ie();B("ngClass",oi(3,s8,t===r.selectedDayOffset,t!==r.selectedDayOffset)),k(2),ge(" ",t===0?"Aujourd'hui":t>0?"J+"+t:"J"+t," "),k(2),ge(" ",r.getDateForOffset(t).getDate()," ")}}var tg=class n{selectedDayOffset=0;selectDay=new Oe;dayOffsets=Array.from({length:8},(e,t)=>t-6);getDateForOffset(e){let t=new Date;return t.setDate(t.getDate()+e),t}formatDate(e,t){if(t===0)return"Aujourd'hui";let r=e.toLocaleDateString("fr-FR",{weekday:"short"}),i=e.getDate();return`${r.charAt(0).toUpperCase()+r.slice(1)} ${i}`}onSelectDay(e){this.selectDay.emit(e)}prevDay(){this.selectedDayOffset>-6&&this.onSelectDay(this.selectedDayOffset-1)}nextDay(){this.selectedDayOffset<1&&this.onSelectDay(this.selectedDayOffset+1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-day-selector"]],inputs:{selectedDayOffset:"selectedDayOffset"},outputs:{selectDay:"selectDay"},decls:12,vars:4,consts:[[1,"mb-8"],[1,"flex","justify-between","items-center","mb-4"],[1,"p-2","rounded-full","hover:bg-[#222]","transition-colors","disabled:opacity-50",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6"],["d","m15 18-6-6 6-6"],[1,"text-xl","font-bold"],["d","m9 18 6-6-6-6"],[1,"flex","justify-center","overflow-x-auto","pb-4","space-x-2","scrollbar-hide"],["class","flex flex-col items-center justify-center min-w-[60px] h-16 rounded p-2 transition-all relative",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","justify-center","min-w-[60px]","h-16","rounded","p-2","transition-all","relative",3,"click","ngClass"],[1,"text-xs"],[1,"text-sm","font-mono"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"div",1)(2,"button",2),De("click",function(){return r.prevDay()}),ke(),I(3,"svg",3),Z(4,"path",4),b()(),Ye(),I(5,"h2",5),N(6),b(),I(7,"button",2),De("click",function(){return r.nextDay()}),ke(),I(8,"svg",3),Z(9,"path",6),b()()(),Ye(),I(10,"div",7),re(11,a8,5,6,"button",8),b()()),t&2&&(k(2),B("disabled",r.selectedDayOffset<=-6),k(4),ge(" ",r.formatDate(r.getDateForOffset(r.selectedDayOffset),r.selectedDayOffset)," "),k(),B("disabled",r.selectedDayOffset>=1),k(4),B("ngForOf",r.dayOffsets))},dependencies:[be,rn,Ct],encapsulation:2})};var yc=class n{translations={"Match Odds":"R\xE9sultat du Match",home_win:"\xC9quipe \xE0 domicile gagne",away_win:"\xC9quipe \xE0 l'ext\xE9rieur gagne",draw:"Match Nul",favorite_win:"Le favori gagne",outsider_win:"L'outsider gagne",double_chance_favorite:"Double Chance (Favori ou Nul)",double_chance_outsider:"Double Chance (Outsider ou Nul)",home_draw:"Double Chance (Domicile ou Nul)",away_draw:"Double Chance (Ext\xE9rieur ou Nul)",home_away:"Double Chance (Domicile ou Ext\xE9rieur)",btts:"Les 2 \xE9quipes marquent",btts_no:"Une seule ou aucune \xE9quipe ne marque","match_over_0.5":"+0.5 buts dans le match","match_under_0.5":"-0.5 buts dans le match","match_over_1.5":"+1.5 buts dans le match","match_under_1.5":"-1.5 buts dans le match","match_over_2.5":"+2.5 buts dans le match","match_under_2.5":"-2.5 buts dans le match","match_over_3.5":"+3.5 buts dans le match","match_under_3.5":"-3.5 buts dans le match","ht_over_0.5":"+0.5 buts en 1\xE8re mi-temps","ht_under_0.5":"-0.5 buts en 1\xE8re mi-temps","ht_over_1.5":"+1.5 buts en 1\xE8re mi-temps","ht_under_1.5":"-1.5 buts en 1\xE8re mi-temps","st_over_0.5":"+0.5 buts en 2\xE8me mi-temps","st_under_0.5":"-0.5 buts en 2\xE8me mi-temps","st_over_1.5":"+1.5 buts en 2\xE8me mi-temps","st_under_1.5":"-1.5 buts en 2\xE8me mi-temps","home_over_0.5":"+0.5 buts (Domicile)","home_under_0.5":"-0.5 buts (Domicile)","home_over_1.5":"+1.5 buts (Domicile)","home_under_1.5":"-1.5 buts (Domicile)","away_over_0.5":"+0.5 buts (Ext\xE9rieur)","away_under_0.5":"-0.5 buts (Ext\xE9rieur)","away_over_1.5":"+1.5 buts (Ext\xE9rieur)","away_under_1.5":"-1.5 buts (Ext\xE9rieur)","asian_handicap_home_-0.5":"Handicap Asiatique : Domicile -0.5","asian_handicap_away_+0.5":"Handicap Asiatique : Ext\xE9rieur +0.5","asian_handicap_home_+0.5":"Handicap Asiatique : Domicile +0.5","asian_handicap_away_-0.5":"Handicap Asiatique : Ext\xE9rieur -0.5"};transform(e){return this.translations[e]||e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Bi({name:"marketTranslate",type:n,pure:!0})};var c8=n=>({"highlight-tranche":n});function u8(n,e){if(n&1&&(I(0,"tr",27)(1,"td"),N(2),b(),I(3,"td"),N(4),b(),I(5,"td"),N(6),b(),I(7,"td"),N(8),b()()),n&2){let t=e.$implicit,r=ie().$implicit,i=ie(2);B("ngClass",Cu(5,c8,i.getTrancheKey(r.score)===t)),k(2),Ee(t),k(2),Ee(r.market_performance[t].success),k(2),Ee(r.market_performance[t].total),k(2),ge("",(r.market_performance[t].success/r.market_performance[t].total*100).toFixed(0),"%")}}function l8(n,e){n&1&&Z(0,"hr",28)}function d8(n,e){if(n&1&&(I(0,"div")(1,"div",7)(2,"div",8),N(3),b(),I(4,"div",9)(5,"div",10),Z(6,"img",11),I(7,"span",12),N(8),b()(),I(9,"span",13),N(10,"vs"),b(),I(11,"div",10)(12,"span",12),N(13),b(),Z(14,"img",11),b()(),I(15,"div",8),N(16),ht(17,"date"),b(),I(18,"div",14)(19,"div",15),N(20),ht(21,"marketTranslate"),b(),I(22,"div",16)(23,"span",17),N(24),b(),I(25,"span",18),N(26),b(),I(27,"span",19),N(28),b()()(),I(29,"details",20)(30,"summary",21),N(31,"Performance du march\xE9"),b(),I(32,"div",22)(33,"table",23)(34,"thead")(35,"tr",24)(36,"th"),N(37,"Tranche"),b(),I(38,"th"),N(39,"Succ\xE8s"),b(),I(40,"th"),N(41,"Total"),b(),I(42,"th"),N(43,"Taux"),b()()(),I(44,"tbody"),re(45,u8,9,7,"tr",25),b()()()()(),re(46,l8,1,0,"hr",26),b()),n&2){let t=e.$implicit,r=e.last,i=ie(2);k(3),br("",t.league==null?null:t.league.name," (",t.league==null?null:t.league.country,")"),k(3),B("alt",Sf("",t.home_team==null?null:t.home_team.name," logo"))("src",t.home_team==null?null:t.home_team.logo,Eu),k(2),Ee(t.home_team==null?null:t.home_team.name),k(5),Ee(t.away_team==null?null:t.away_team.name),k(),B("alt",Sf("",t.away_team==null?null:t.away_team.name," logo"))("src",t.away_team==null?null:t.away_team.logo,Eu),k(2),Ee(Zn(17,17,t.matchDate,"dd/MM/yyyy HH:mm")),k(4),Ee(Tn(21,20,t.market)),k(4),ge("@ ",t.odd==null?null:t.odd.toFixed(2)),k(2),Ee(t.bookmaker),k(2),ge("Confiance: ",t.score.toFixed(0),"%"),k(17),B("ngForOf",i.objectKeys(t.market_performance)),k(),B("ngIf",!r)}}function h8(n,e){if(n&1&&(I(0,"div",1)(1,"div",2)(2,"h3",3),N(3),b(),I(4,"div",4),N(5),b()(),I(6,"div",5),re(7,d8,47,22,"div",6),b()()),n&2){let t=ie();k(3),ge(" Cote Totale : ",t.ticket.totalOdd.toFixed(2)," "),k(2),ge(" Score de Fiabilit\xE9 : ",t.compositeScore.toFixed(2)," "),k(2),B("ngForOf",t.ticket.bets)}}var ng=class n{ticket;objectKeys=Object.keys;calculateHistoricalQuality(e){if(!e)return 0;let t=["70-79","80-89","90-100"],r=0,i=0;if(t.forEach(a=>{let u=e[a]||{success:0,total:0};r+=u.success,i+=u.total}),i===0)return 0;let o=r/i,s=Math.min(1,i/50);return o*s}calculatePredictionQuality(e){let t=e.score/100,r=this.calculateHistoricalQuality(e.market_performance);return t*r}get compositeScore(){if(!this.ticket||!this.ticket.bets||this.ticket.bets.length===0)return 0;let e=this.ticket.bets.map(i=>this.calculatePredictionQuality(i));if(this.ticket.bets.length===1)return(this.ticket.bets[0].odd||0)*e[0];let t=e.reduce((i,o)=>i+o,0)/e.length,r=Math.min(...e);return this.ticket.totalOdd*t*r}getTrancheKey(e){return e>=90?"90-100":e>=80?"80-89":e>=70?"70-79":e>=60?"60-69":"0-59"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-ticket-card"]],inputs:{ticket:"ticket"},decls:1,vars:1,consts:[["class","h-full rounded-lg border border-[#222] bg-[#121212] overflow-hidden flex flex-col",4,"ngIf"],[1,"h-full","rounded-lg","border","border-[#222]","bg-[#121212]","overflow-hidden","flex","flex-col"],[1,"p-3","border-b","border-[#222]","bg-[#0F0F0F]","text-center"],[1,"font-bold","text-lg","text-[#00FF41]"],[1,"text-xs","text-gray-400"],[1,"p-4","flex-grow"],[4,"ngFor","ngForOf"],[1,"py-3"],[1,"text-xs","text-gray-400","mb-2"],[1,"flex","items-center","justify-between","mb-2"],[1,"flex","items-center","gap-2"],[1,"w-5","h-5",3,"src","alt"],[1,"font-semibold"],[1,"text-gray-500"],[1,"bg-[#0A0A0A]","p-2","rounded-md","text-center"],[1,"text-sm","text-gray-300"],[1,"flex","items-center","justify-center","gap-4"],[1,"font-mono","font-bold","text-white"],[1,"text-sm","text-gray-400"],[1,"text-sm","text-[#00FF41]"],[1,"text-xs","mt-2"],[1,"cursor-pointer","text-gray-400"],[1,"p-2","bg-[#0A0A0A]","rounded-md","mt-1"],[1,"w-full","text-left"],[1,"text-gray-300"],[3,"ngClass",4,"ngFor","ngForOf"],["class","border-[#222]",4,"ngIf"],[3,"ngClass"],[1,"border-[#222]"]],template:function(t,r){t&1&&re(0,h8,8,3,"div",0),t&2&&B("ngIf",r.ticket)},dependencies:[be,rn,Ct,ct,Ou,yc],styles:[".highlight-tranche[_ngcontent-%COMP%]{background-color:#00ff4120}"]})};function f8(n,e){if(n&1){let t=Et();I(0,"div")(1,"button",11),De("click",function(){He(t);let i=ie();return ze(i.onActionClick())}),N(2),b()()}if(n&2){let t=ie();k(2),ge(" ",t.actionText," ")}}var vc=class n{title="Aucune Donn\xE9e";message="Il n'y a rien \xE0 afficher pour le moment.";actionText;action=new Oe;onActionClick(){this.action.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-empty-state"]],inputs:{title:"title",message:"message",actionText:"actionText"},outputs:{action:"action"},decls:13,vars:3,consts:[[1,"w-full","bg-[#0A0A0A]","border","border-[#333]","rounded-lg","p-8","text-center","flex","flex-col","items-center","font-mono"],[1,"mb-4","text-[#999]"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","M10 15.5c.5 0 1 .2 1.4.6"],["d","M10 13c-1.7 0-3 1.3-3 3 0 1.5 1 2.8 2.5 3"],["d","M14 18c0-1.7-1.3-3-3-3"],[1,"text-xl","font-bold","text-[#FF0000]","mb-2"],[1,"text-[#E0E0E0]","max-w-sm","mx-auto","mb-6"],[4,"ngIf"],[1,"px-6","py-2","bg-transparent","border","border-[#FF0000]","text-[#FF0000]","rounded","hover:bg-[#FF0000]","hover:bg-opacity-10","transition-colors",3,"click"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"div",1),ke(),I(2,"svg",2),Z(3,"path",3)(4,"polyline",4)(5,"path",5)(6,"path",6)(7,"path",7),b()(),Ye(),I(8,"h3",8),N(9),b(),I(10,"p",9),N(11),b(),re(12,f8,3,1,"div",10),b()),t&2&&(k(9),Ee(r.title),k(2),Ee(r.message),k(),B("ngIf",r.actionText))},dependencies:[be,ct],encapsulation:2,changeDetection:0})};function p8(n,e){if(n&1&&(I(0,"div",4)(1,"h2",5),N(2,"Le Choix de l'Oracle"),b(),I(3,"div",6),Z(4,"app-ticket-card",7),b()()),n&2){let t=ie(2);k(4),B("ticket",t.oraclesChoice)}}function m8(n,e){if(n&1&&(I(0,"div",12),Z(1,"app-ticket-card",7),b()),n&2){let t=e.$implicit;k(),B("ticket",t)}}function g8(n,e){if(n&1&&(I(0,"div",8)(1,"h3",9),N(2,"Autres Tickets G\xE9n\xE9r\xE9s"),b(),I(3,"div",10),re(4,m8,2,1,"div",11),b()()),n&2){let t=ie(2);k(4),B("ngForOf",t.otherTickets)}}function y8(n,e){if(n&1&&(I(0,"div"),re(1,p8,5,1,"div",2)(2,g8,5,1,"div",3),b()),n&2){let t=ie();k(),B("ngIf",t.oraclesChoice),k(),B("ngIf",t.otherTickets.length>0)}}function v8(n,e){n&1&&Z(0,"app-empty-state",13)}var rg=class n{ticketsData=null;selectedDayOffset=0;get selectedDayKey(){let e=new Date;return e.setDate(e.getDate()+this.selectedDayOffset),e.toISOString().split("T")[0]}get ticketsForSelectedDay(){if(!this.ticketsData)return[];let e=this.ticketsData[this.selectedDayKey];return e?Object.values(e).flat():[]}calculateTicketScore(e){return!e.bets||e.bets.length===0?0:e.bets.reduce((r,i)=>r+i.score,0)/e.bets.length}get sortedTickets(){return this.ticketsForSelectedDay.sort((e,t)=>this.calculateTicketScore(t)-this.calculateTicketScore(e))}get oraclesChoice(){return this.sortedTickets.length>0?this.sortedTickets[0]:null}get otherTickets(){return this.sortedTickets.slice(1)}get areTicketsAvailable(){return this.ticketsForSelectedDay.length>0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-tickets-list"]],inputs:{ticketsData:"ticketsData",selectedDayOffset:"selectedDayOffset"},decls:3,vars:2,consts:[["noTickets",""],[4,"ngIf","ngIfElse"],["class","mb-8",4,"ngIf"],["class","mt-12",4,"ngIf"],[1,"mb-8"],[1,"text-2xl","font-bold","text-center","mb-4","text-green-400"],[1,"max-w-md","mx-auto"],[3,"ticket"],[1,"mt-12"],[1,"text-xl","font-bold","text-center","mb-4"],[1,"flex","flex-wrap","justify-center","gap-6"],["class","w-full max-w-md",4,"ngFor","ngForOf"],[1,"w-full","max-w-md"],["title","Aucun Ticket Trouv\xE9","message","Il n'y a aucun ticket g\xE9n\xE9r\xE9 pour ce jour. Veuillez consulter les pronostics ou essayer une autre date."]],template:function(t,r){if(t&1&&re(0,y8,3,2,"div",1)(1,v8,1,0,"ng-template",null,0,hn),t&2){let i=Wt(2);B("ngIf",r.areTicketsAvailable)("ngIfElse",i)}},dependencies:[be,Ct,ct,ng,vc],encapsulation:2})};var _8=(n,e,t)=>({"text-[#00FF41]":n,"text-red-500":e,"text-[#888]":t}),ig=class n{character;cardClick=new Oe;get progressPercentage(){return this.character.progress/this.character.goal*100}onCardClick(){this.cardClick.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-character-card"]],inputs:{character:"character"},outputs:{cardClick:"cardClick"},decls:29,vars:20,consts:[[1,"character-card-button","bg-[#0F0F0F]","border","border-[#222]","rounded-lg","p-3","flex","flex-col","text-left","w-full",3,"click"],[1,"flex","justify-between","items-center","mb-2"],[1,"font-bold","text-[#00FF41]"],[1,"text-xs","font-mono","text-[#888]"],[1,"w-full","h-2","bg-[#222]","rounded-full","mb-3","overflow-hidden"],[1,"h-full","bg-[#00FF41]"],[1,"flex","justify-between","items-center","mb-1"],[1,"text-xs","text-[#888]"],[1,"font-mono","font-bold"],[1,"font-mono","font-bold",3,"ngClass"],[1,"flex","justify-between","items-center"],[1,"text-green-500"],[1,"text-red-500"]],template:function(t,r){t&1&&(I(0,"button",0),De("click",function(){return r.onCardClick()}),I(1,"div",1)(2,"h3",2),N(3),b(),I(4,"span",3),N(5),b()(),I(6,"div",4),Z(7,"div",5),b(),I(8,"div",6)(9,"span",7),N(10,"Bankroll:"),b(),I(11,"span",8),N(12),ht(13,"number"),b()(),I(14,"div",6)(15,"span",7),N(16,"Performance mois:"),b(),I(17,"span",9),N(18),ht(19,"number"),b()(),I(20,"div",10)(21,"span",7),N(22,"Bilan du mois:"),b(),I(23,"span",8)(24,"span",11),N(25),b(),N(26," / "),I(27,"span",12),N(28),b()()()()),t&2&&(k(3),Ee(r.character.name),k(2),ge(" Palier: ",r.character.goal," "),k(2),Tf("width",r.progressPercentage,"%"),k(5),ge("",Zn(13,10,r.character.bankroll,"1.2-2"),"\u20AC"),k(5),B("ngClass",J_(16,_8,r.character.performance>0,r.character.performance<0,r.character.performance===0)),k(),br(" ",r.character.performance>0?"+":"","",Zn(19,13,r.character.performance,"1.2-2"),"\u20AC "),k(7),ge("",r.character.totalWins||0," G"),k(3),ge("",r.character.losses," P"))},dependencies:[be,rn,Fu],styles:[".character-card-button[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.character-card-button[_ngcontent-%COMP%]:hover{cursor:pointer;transform:translateY(-3px);box-shadow:0 4px 12px #00ff411a}"]})};function E8(n,e){if(n&1&&(I(0,"tr",16)(1,"td",17),N(2),b(),I(3,"td",18),N(4),b(),I(5,"td",14),N(6),b(),I(7,"td",14),N(8),b()()),n&2){let t=e.$implicit;k(2),Ee(t.name),k(),B("ngClass",t.performance>0?"text-green-400":"text-red-400"),k(),ge(" ",t.performance.toFixed(2)," \u20AC "),k(2),ge("",t.bankroll.toFixed(2)," \u20AC"),k(2),Ee(t.losses)}}function w8(n,e){if(n&1&&(I(0,"div",7)(1,"h4",8),N(2),b(),I(3,"div",9)(4,"table",10)(5,"thead",11)(6,"tr",12)(7,"th",13),N(8,"PERSONNAGE"),b(),I(9,"th",14),N(10,"PERFORMANCE"),b(),I(11,"th",14),N(12,"BANKROLL FINALE"),b(),I(13,"th",14),N(14,"PERTES"),b()()(),I(15,"tbody"),re(16,E8,9,5,"tr",15),b()()()()),n&2){let t=e.$implicit;k(2),ge("Mois : ",t.month),k(14),B("ngForOf",t.characters)}}function I8(n,e){n&1&&(I(0,"div",19)(1,"p"),N(2,"Aucun historique de simulation n'a encore \xE9t\xE9 archiv\xE9."),b(),I(3,"p",20),N(4,"Le premier bilan sera disponible \xE0 la fin du mois en cours."),b()())}function b8(n,e){if(n&1&&(I(0,"div",4),re(1,w8,17,2,"div",5)(2,I8,5,0,"div",6),b()),n&2){let t=e.ngIf;k(),B("ngForOf",t),k(),B("ngIf",t.length===0)}}function T8(n,e){n&1&&(I(0,"div",19)(1,"p"),N(2,"Chargement des archives..."),b()())}var og=class n{apiService=x(To);history$;ngOnInit(){this.history$=this.apiService.getSimulationHistory()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-simulation-history"]],decls:7,vars:4,consts:[["loading",""],[1,"font-mono","text-sm","text-[#666]","p-4"],[1,"text-lg","font-bold","text-center","mb-6","text-[#00FF41]"],["class","space-y-8",4,"ngIf","ngIfElse"],[1,"space-y-8"],["class","bg-[#0A0A0A] border border-[#222] rounded-lg p-4",4,"ngFor","ngForOf"],["class","text-center p-8 text-[#666]",4,"ngIf"],[1,"bg-[#0A0A0A]","border","border-[#222]","rounded-lg","p-4"],[1,"text-base","font-bold","text-white","mb-3"],[1,"overflow-x-auto"],[1,"w-full","border-collapse","text-xs"],[1,"text-[#666]"],[1,"border-b","border-[#222]"],[1,"p-2","text-left"],[1,"p-2","text-right"],["class","border-b border-[#111]",4,"ngFor","ngForOf"],[1,"border-b","border-[#111]"],[1,"p-2","font-bold","text-white"],[1,"p-2","text-right",3,"ngClass"],[1,"text-center","p-8","text-[#666]"],[1,"text-xs","mt-2"]],template:function(t,r){if(t&1&&(I(0,"div",1)(1,"h3",2),N(2,"ARCHIVES DES PERFORMANCES MENSUELLES"),b(),re(3,b8,3,2,"div",3),ht(4,"async"),re(5,T8,3,0,"ng-template",null,0,hn),b()),t&2){let i=Wt(6);k(3),B("ngIf",Tn(4,2,r.history$))("ngIfElse",i)}},dependencies:[be,rn,Ct,ct,is],encapsulation:2})};var D8=(n,e)=>({"ticket-won":n,"ticket-lost":e}),rk=(n,e)=>({"text-green-400":n,"text-red-400":e});function C8(n,e){if(n&1&&(I(0,"div",21),N(1),b()),n&2){let t=e.$implicit;k(),Df(" - ",t.home_team==null?null:t.home_team.name," vs ",t.away_team==null?null:t.away_team.name," (",t.market,") ")}}function S8(n,e){if(n&1&&(I(0,"tr",16)(1,"td",17),N(2),b(),I(3,"td",17)(4,"span",18),N(5),ht(6,"uppercase"),b()(),I(7,"td",19),N(8),ht(9,"number"),b(),I(10,"td",17),N(11),ht(12,"number"),b(),I(13,"td",17),re(14,C8,2,3,"div",20),b()()),n&2){let t=e.$implicit,r=ie(2);B("ngClass",oi(17,D8,t.status==="won",t.status==="lost")),k(2),Ee(t.date),k(2),B("ngClass",oi(20,rk,t.status==="won",t.status==="lost")),k(),ge(" ",Tn(6,9,t.status)," "),k(2),B("ngClass",oi(23,rk,t.status==="won",t.status==="lost")),k(),br(" ",t.status==="won"?"+":"-","",Zn(9,11,r.getTicketProfit(t),"1.2-2"),"\u20AC "),k(3),Ee(Zn(12,14,t.totalOdd,"1.2-2")),k(3),B("ngForOf",t.bets)}}function A8(n,e){if(n&1&&(qt(0),I(1,"table",11)(2,"thead",12)(3,"tr",13)(4,"th",14),N(5,"DATE"),b(),I(6,"th",14),N(7,"STATUT"),b(),I(8,"th",14),N(9,"BILAN"),b(),I(10,"th",14),N(11,"COTE"),b(),I(12,"th",14),N(13,"PARIS"),b()()(),I(14,"tbody"),re(15,S8,15,26,"tr",15),b()(),Gt()),n&2){let t=ie();k(15),B("ngForOf",t.characterTickets)}}function R8(n,e){n&1&&(I(0,"div",22)(1,"p"),N(2,"Aucun ticket 'The Oracle\\'s Choice' gagn\xE9 ou perdu ce mois-ci."),b()())}var sg=class n{character;characterTickets=[];close=new Oe;ngOnInit(){}closeModal(){this.close.emit()}getTicketProfit(e){return e.status==="won"?this.character.initialBankroll*e.totalOdd-this.character.initialBankroll:e.status==="lost"?this.character.initialBankroll:0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-character-history-modal"]],inputs:{character:"character",characterTickets:"characterTickets"},outputs:{close:"close"},decls:14,vars:5,consts:[["noHistory",""],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"text-sm","font-mono","text-[#666]"],[1,"close-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"modal-body"],[4,"ngIf","ngIfElse"],[1,"w-full","border-collapse","font-mono","text-xs"],[1,"text-[#666]"],[1,"border-b","border-[#222]"],[1,"p-2","text-left"],["class","border-b border-[#111]",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-[#111]",3,"ngClass"],[1,"p-2","align-top"],[1,"font-bold",3,"ngClass"],[1,"p-2","align-top","font-bold",3,"ngClass"],["class","text-gray-300",4,"ngFor","ngForOf"],[1,"text-gray-300"],[1,"text-center","p-8","text-[#666]"]],template:function(t,r){if(t&1){let i=Et();I(0,"div",1),De("click",function(){return He(i),ze(r.closeModal())}),I(1,"div",2),De("click",function(s){return He(i),ze(s.stopPropagation())}),I(2,"div",3)(3,"h3",4),N(4),ht(5,"uppercase"),b(),I(6,"button",5),De("click",function(){return He(i),ze(r.closeModal())}),ke(),I(7,"svg",6),Z(8,"line",7)(9,"line",8),b()()(),Ye(),I(10,"div",9),re(11,A8,16,1,"ng-container",10)(12,R8,3,0,"ng-template",null,0,hn),b()()()}if(t&2){let i=Wt(13);k(4),ge(" HISTORIQUE MENSUEL // ",Tn(5,3,r.character.name)," "),k(7),B("ngIf",r.characterTickets.length>0)("ngIfElse",i)}},dependencies:[be,rn,Ct,ct,wE,Fu],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.modal-content[_ngcontent-%COMP%]{background-color:#0f0f0f;border:1px solid #222;border-radius:8px;width:90%;max-width:600px;max-height:80vh;display:flex;flex-direction:column;overflow:hidden}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid #222}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#888;font-size:2rem;line-height:1;cursor:pointer;transition:color .2s ease}.close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-body[_ngcontent-%COMP%]{padding:1rem;overflow-y:auto}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1a1a1a}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#333;border-radius:4px;border:2px solid #1a1a1a}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#555}"]})};function N8(n,e){n&1&&(ke(),I(0,"svg",14),Z(1,"path",15),b())}function x8(n,e){n&1&&(ke(),I(0,"svg",14),Z(1,"path",16),b())}function M8(n,e){if(n&1){let t=Et();I(0,"div",12),De("click",function(){He(t);let i=ie(3);return ze(i.toggleMatrix())}),re(1,N8,2,0,"svg",13)(2,x8,2,0,"svg",13),b()}if(n&2){let t=ie(3);k(),B("ngIf",!t.otherCharactersVisible),k(),B("ngIf",t.otherCharactersVisible)}}function P8(n,e){if(n&1){let t=Et();I(0,"div",9)(1,"app-character-card",10),De("cardClick",function(){let i=He(t).$implicit,o=ie(2);return ze(o.onCharacterCardClick(i))}),b(),re(2,M8,3,2,"div",11),b()}if(n&2){let t=e.$implicit,r=e.index,i=ie().ngIf,o=ie();Ir("first-card-wrapper",r===0),k(),B("character",t),k(),B("ngIf",r===0&&o.isMobile&&i.length>1)}}function k8(n,e){if(n&1&&(qt(0),I(1,"div",7),re(2,P8,3,4,"div",8),b(),Gt()),n&2){let t=e.ngIf,r=ie();k(),Ir("grid",!r.isMobile)("md:grid-cols-2",!r.isMobile)("lg:grid-cols-3",!r.isMobile)("xl:grid-cols-5",!r.isMobile)("gap-6",!r.isMobile)("expanded",!r.isMobile||r.otherCharactersVisible),k(),B("ngForOf",t)}}function O8(n,e){if(n&1){let t=Et();I(0,"app-character-history-modal",17),De("close",function(){He(t);let i=ie();return ze(i.closeHistoryModal())}),b()}if(n&2){let t=ie();B("character",t.selectedCharacter)("characterTickets",t.processedOracleTickets)}}var ag=class n{apiService=x(To);characters$;allMonthTickets=[];processedOracleTickets=[];selectedCharacter=null;otherCharactersVisible=!1;isMobile=window.innerWidth<768;onResize(e){this.isMobile=e.target.innerWidth<768}initialCharacters=[{name:"Cypher",goal:1,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0,totalWins:0},{name:"Morpheus",goal:2,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0,totalWins:0},{name:"Trinity",goal:3,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0,totalWins:0},{name:"Neo",goal:4,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0,totalWins:0},{name:"L'Oracle",goal:5,bankroll:20,initialBankroll:20,progress:0,losses:0,performance:0,totalWins:0}];ngOnInit(){this.characters$=this.apiService.getSimulationCharacters().pipe(J(e=>(e.length>0?e:this.initialCharacters).sort((r,i)=>r.goal-i.goal))),this.apiService.getTicketsForCurrentMonth().subscribe(e=>{this.allMonthTickets=e,this.processedOracleTickets=e.filter(t=>(t.status==="won"||t.status==="lost")&&t.title==="The Oracle's Choice")})}onCharacterCardClick(e){this.selectedCharacter=e}closeHistoryModal(){this.selectedCharacter=null}toggleMatrix(){this.otherCharactersVisible=!this.otherCharactersVisible}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-architects-simulator"]],hostBindings:function(t,r){t&1&&De("resize",function(o){return r.onResize(o)},y_)},decls:12,vars:4,consts:[[1,"mb-8","p-4","bg-[#0A0A0A]","border","border-[#222]","rounded-lg"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-xl","font-bold","text-[#00FF41]","flex","items-center","gap-2"],[1,"text-xs","font-mono","text-[#666]"],[4,"ngIf"],[1,"border-t-2","border-dashed","border-[#222]","my-4"],[3,"character","characterTickets","close",4,"ngIf"],[1,"cards-container"],["class","card-wrapper",3,"first-card-wrapper",4,"ngFor","ngForOf"],[1,"card-wrapper"],[3,"cardClick","character"],["class","reveal-icon-container",3,"click",4,"ngIf"],[1,"reveal-icon-container",3,"click"],["class","w-8 h-8","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 15l7-7 7 7"],[3,"close","character","characterTickets"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span",3),N(4,"[SYSTEM]"),b(),I(5,"span"),N(6,"LA SIMULATION DE L'ARCHITECTE"),b()()(),re(7,k8,3,13,"ng-container",4),ht(8,"async"),Z(9,"hr",5)(10,"app-simulation-history"),b(),re(11,O8,1,2,"app-character-history-modal",6)),t&2&&(k(7),B("ngIf",Tn(8,2,r.characters$)),k(4),B("ngIf",r.selectedCharacter))},dependencies:[be,Ct,ct,ig,og,sg,is],styles:[".first-card-wrapper[_ngcontent-%COMP%]{position:relative;z-index:10}.reveal-icon-container[_ngcontent-%COMP%]{position:absolute;bottom:-10px;left:50%;transform:translate(-50%);background-color:#0a0a0a;border-radius:50%;padding:2px;cursor:pointer;z-index:20;transition:transform .3s ease}.reveal-icon-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#00ff41}.reveal-icon-container[_ngcontent-%COMP%]:hover{transform:translate(-50%) scale(1.1)}.cards-container[_ngcontent-%COMP%]:not(.grid){position:relative;transition:height .7s cubic-bezier(.645,.045,.355,1);height:215px}.cards-container[_ngcontent-%COMP%]:not(.grid)   .card-wrapper[_ngcontent-%COMP%]{transition:transform .7s cubic-bezier(.645,.045,.355,1);width:100%;position:absolute;top:0;left:0}.cards-container[_ngcontent-%COMP%]:not(.grid):not(.expanded)   .card-wrapper[_ngcontent-%COMP%]:nth-child(1){z-index:10;transform:translateY(0)}.cards-container[_ngcontent-%COMP%]:not(.grid):not(.expanded)   .card-wrapper[_ngcontent-%COMP%]:nth-child(2){z-index:9;transform:translateY(4px)}.cards-container[_ngcontent-%COMP%]:not(.grid):not(.expanded)   .card-wrapper[_ngcontent-%COMP%]:nth-child(3){z-index:8;transform:translateY(8px)}.cards-container[_ngcontent-%COMP%]:not(.grid):not(.expanded)   .card-wrapper[_ngcontent-%COMP%]:nth-child(4){z-index:7;transform:translateY(12px)}.cards-container[_ngcontent-%COMP%]:not(.grid):not(.expanded)   .card-wrapper[_ngcontent-%COMP%]:nth-child(5){z-index:6;transform:translateY(16px)}.cards-container[_ngcontent-%COMP%]:not(.grid).expanded{height:950px}.cards-container[_ngcontent-%COMP%]:not(.grid).expanded   .card-wrapper[_ngcontent-%COMP%]:nth-child(1){transform:translateY(0)}.cards-container[_ngcontent-%COMP%]:not(.grid).expanded   .card-wrapper[_ngcontent-%COMP%]:nth-child(2){transform:translateY(190px)}.cards-container[_ngcontent-%COMP%]:not(.grid).expanded   .card-wrapper[_ngcontent-%COMP%]:nth-child(3){transform:translateY(380px)}.cards-container[_ngcontent-%COMP%]:not(.grid).expanded   .card-wrapper[_ngcontent-%COMP%]:nth-child(4){transform:translateY(570px)}.cards-container[_ngcontent-%COMP%]:not(.grid).expanded   .card-wrapper[_ngcontent-%COMP%]:nth-child(5){transform:translateY(760px)}"]})};var F8=["typewriter"],_c=class n{typewriterElRef;text="CHARGEMENT DU PROGRAMME";i=0;isDeleting=!1;ngAfterViewInit(){setTimeout(()=>this.typeWriter(),500)}typeWriter(){let e=this.typewriterElRef.nativeElement;!this.isDeleting&&this.i<this.text.length?(e.textContent+=this.text.charAt(this.i),this.i++,setTimeout(()=>this.typeWriter(),100+Math.random()*100)):this.isDeleting&&e.textContent&&e.textContent.length>0?(e.textContent=e.textContent.slice(0,-1),setTimeout(()=>this.typeWriter(),50)):this.i>=this.text.length&&!this.isDeleting?(this.isDeleting=!0,setTimeout(()=>this.typeWriter(),2e3)):e.textContent?.length===0&&this.isDeleting&&(this.isDeleting=!1,this.i=0,setTimeout(()=>this.typeWriter(),500))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-loader"]],viewQuery:function(t,r){if(t&1&&Q_(F8,5),t&2){let i;If(i=bf())&&(r.typewriterElRef=i.first)}},decls:4,vars:0,consts:[["typewriter",""],[1,"spinner"],[1,"typewriter"]],template:function(t,r){t&1&&(ii(0,"div",1),zt(1,"div",2,0),N(3,"CHARGEMENT DU PROGRAMME"),bn())},dependencies:[be],styles:['@font-face{font-family:JetBrains Mono;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTN1OVgaY.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:JetBrains Mono;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTPlOVgaY.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:JetBrains Mono;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTOVOVgaY.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:JetBrains Mono;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTNVOVgaY.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:JetBrains Mono;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTNFOVgaY.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:JetBrains Mono;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTOlOV.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}[_nghost-%COMP%]{background:#0a0a0a;height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:JetBrains Mono,monospace;gap:20px;position:absolute;top:0;left:0;z-index:999}.spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:1px solid #1a4d1a;border-top:1px solid #00ff41;border-radius:50%;animation:_ngcontent-%COMP%_spin 1.5s linear infinite;opacity:.7}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.typewriter[_ngcontent-%COMP%]{color:#00ff41;font-size:14px;opacity:.9;white-space:nowrap;overflow:hidden;border-right:2px solid #00ff41;animation:_ngcontent-%COMP%_blink 1s infinite}@keyframes _ngcontent-%COMP%_blink{0%,50%{border-color:#00ff41}51%,to{border-color:transparent}}']})};var L8=(n,e)=>({"prediction-won":n,"prediction-lost":e}),V8=n=>({"highlight-tranche":n});function j8(n,e){n&1&&(qt(0),Z(1,"div",17),I(2,"span",18),N(3,"Analyse en cours..."),b(),Gt())}function U8(n,e){n&1&&(qt(0),ke(),I(1,"svg",19),Z(2,"path",20),b(),Ye(),I(3,"span",21),N(4,"Analyse termin\xE9e"),b(),Gt())}function B8(n,e){n&1&&(qt(0),I(1,"span",22),N(2,"EN TEMPS R\xC9EL"),b(),Gt())}function $8(n,e){n&1&&(qt(0),ke(),I(1,"svg",37),Z(2,"path",20),b(),Gt())}function H8(n,e){n&1&&(qt(0),ke(),I(1,"svg",38),Z(2,"path",39),b(),Gt())}function z8(n,e){n&1&&(qt(0),Z(1,"div",40),Gt())}function q8(n,e){n&1&&(qt(0),ke(),I(1,"svg",41),Z(2,"path",42),b(),Gt())}function G8(n,e){if(n&1&&(I(0,"tr",51)(1,"td"),N(2),b(),I(3,"td"),N(4),b(),I(5,"td"),N(6),b(),I(7,"td"),N(8),b()()),n&2){let t=e.$implicit,r=ie(3).$implicit,i=ie(3);B("ngClass",Cu(5,V8,i.getTrancheKey(r.score)===t)),k(2),Ee(t),k(2),Ee(r.market_performance[t].success),k(2),Ee(r.market_performance[t].total),k(2),ge("",(r.market_performance[t].success/r.market_performance[t].total*100).toFixed(0),"%")}}function W8(n,e){if(n&1&&(I(0,"tbody"),re(1,G8,9,7,"tr",50),b()),n&2){let t=ie(2).$implicit,r=ie(3);k(),B("ngForOf",r.objectKeys(t.market_performance))}}function K8(n,e){if(n&1&&(I(0,"tr",43)(1,"td",44)(2,"div",45)(3,"h4",46),N(4,"Performance du march\xE9"),b(),I(5,"table",47)(6,"thead")(7,"tr",48)(8,"th"),N(9,"Tranche"),b(),I(10,"th"),N(11,"Succ\xE8s"),b(),I(12,"th"),N(13,"Total"),b(),I(14,"th"),N(15,"Taux"),b()()(),re(16,W8,2,1,"tbody",49),b()()()()),n&2){let t=ie().$implicit;k(16),B("ngIf",t.market_performance)}}function Q8(n,e){if(n&1){let t=Et();qt(0),I(1,"tr",28),De("click",function(){let i=He(t).$implicit,o=ie(3);return ze(o.toggleDetails(i.id))}),I(2,"td",29)(3,"div"),N(4),b(),I(5,"div",30),N(6),b(),I(7,"div",31),N(8),ht(9,"date"),b()(),I(10,"td",32),N(11),ht(12,"marketTranslate"),b(),I(13,"td",29),N(14),b(),I(15,"td",29),N(16),b(),I(17,"td",33),re(18,$8,3,0,"ng-container",9)(19,H8,3,0,"ng-container",9)(20,z8,2,0,"ng-container",9)(21,q8,3,0,"ng-container",10),b(),I(22,"td",29),ke(),I(23,"svg",34),Z(24,"path",35),b()()(),re(25,K8,17,1,"tr",36),Gt()}if(n&2){let t=e.$implicit,r=ie(3);k(),B("ngClass",oi(20,L8,t.resultStatus==="WON",t.resultStatus==="LOST")),k(3),Ee(t.matchLabel),k(2),br("",t.league==null?null:t.league.name," (",t.league==null?null:t.league.country,")"),k(2),Ee(Zn(9,15,t.matchDate,"dd/MM/yyyy HH:mm")),k(3),Ee(Tn(12,18,t.market)),k(3),ge("",t.score.toFixed(0),"%"),k(2),Ee(t.odd||"..."),k(),B("ngSwitch",t.resultStatus),k(),B("ngSwitchCase","WON"),k(),B("ngSwitchCase","LOST"),k(),B("ngSwitchCase","IN_PROGRESS"),k(3),Ir("rotate-180",r.expandedPredictionId===t.id),k(2),B("ngIf",r.expandedPredictionId===t.id)}}function Y8(n,e){if(n&1&&(I(0,"table",23)(1,"thead",24)(2,"tr",25)(3,"th",26),N(4,"MATCH"),b(),I(5,"th",26),N(6,"MARCH\xC9"),b(),I(7,"th",26),N(8,"CONF. ALGO"),b(),I(9,"th",26),N(10,"COTE"),b(),I(11,"th",26),N(12,"STATUT"),b(),Z(13,"th",26),b()(),I(14,"tbody"),re(15,Q8,26,23,"ng-container",27),b()()),n&2){let t=ie().ngIf;k(15),B("ngForOf",t.predictions)}}function J8(n,e){n&1&&(I(0,"div",52)(1,"p"),N(2,"Aucune pr\xE9diction pertinente dans la shortlist pour le moment."),b(),I(3,"p",53),N(4,"Le syst\xE8me attend les prochains matchs \xE0 analyser."),b()())}function Z8(n,e){if(n&1){let t=Et();qt(0),I(1,"div",6)(2,"div")(3,"h3",7),N(4," PREDICTIONS - PR\xC9DICTIONS PERTINENTES "),b(),I(5,"div",8),re(6,j8,4,0,"ng-container",9)(7,U8,5,0,"ng-container",9)(8,B8,3,0,"ng-container",10),b()(),I(9,"button",11),De("click",function(){He(t);let i=ie();return ze(i.onClose())}),ke(),I(10,"svg",12),Z(11,"line",13)(12,"line",14),b()()(),Ye(),I(13,"div",15),re(14,Y8,16,1,"table",16)(15,J8,5,0,"ng-template",null,1,hn),b(),Gt()}if(n&2){let t=e.ngIf,r=Wt(16);k(5),B("ngSwitch",t.report==null?null:t.report.status),k(),B("ngSwitchCase","PROCESSING"),k(),B("ngSwitchCase","COMPLETED"),k(7),B("ngIf",t.predictions.length>0)("ngIfElse",r)}}function X8(n,e){n&1&&(I(0,"div",54),Z(1,"app-loader"),b())}var cg=class n{selectedDayOffset=0;close=new Oe;firestoreService=x(gc);shortlist$;expandedPredictionId=null;objectKeys=Object.keys;ngOnInit(){let e=new Date;e.setDate(e.getDate()+this.selectedDayOffset),this.shortlist$=this.firestoreService.getShortlistRealtime(e).pipe(J(t=>{if(!t||!t.predictions)return t;let r=new Map;for(let o of t.predictions)o.market&&o.market_performance&&Object.keys(o.market_performance).length>0&&(r.has(o.market)||r.set(o.market,o.market_performance));let i=t.predictions.map(o=>{if(o.market&&(!o.market_performance||Object.keys(o.market_performance).length===0)){let s=r.get(o.market);if(s)return ee(F({},o),{market_performance:s})}return o});return ee(F({},t),{predictions:i})}))}onClose(){this.close.emit()}toggleDetails(e){this.expandedPredictionId===e?this.expandedPredictionId=null:this.expandedPredictionId=e}getTrancheKey(e){return e>=90?"90-100":e>=80?"80-89":e>=70?"70-79":e>=60?"60-69":"0-59"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-raw-data-flow"]],inputs:{selectedDayOffset:"selectedDayOffset"},outputs:{close:"close"},decls:7,vars:4,consts:[["loading",""],["empty",""],[1,"fixed","inset-0","bg-black","bg-opacity-90","backdrop-blur-sm","flex","items-center","justify-center","z-50","p-4"],[1,"max-w-4xl","w-full","bg-[#080808]","border","border-[#222]","rounded-lg","overflow-hidden","relative"],[1,"scanline-effect"],[4,"ngIf","ngIfElse"],[1,"flex","items-center","justify-between","p-4","border-b","border-[#222]","bg-[#0A0A0A]","relative","z-10"],[1,"text-sm","font-mono","text-[#666]"],[1,"flex","items-center","gap-2","font-mono","text-xs",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"p-2","hover:bg-[#111]","rounded-full","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"p-2","max-h-[70vh]","overflow-y-auto","relative","z-10"],["class","w-full border-collapse font-mono text-xs",4,"ngIf","ngIfElse"],[1,"spinner"],[1,"text-orange-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-green-400"],[1,"text-[#00FF41]"],[1,"w-full","border-collapse","font-mono","text-xs"],[1,"text-[#666]"],[1,"border-b","border-[#222]"],[1,"p-2","text-left"],[4,"ngFor","ngForOf"],[1,"border-b","border-[#111]","hover:bg-[#0A0A0A]","cursor-pointer",3,"click","ngClass"],[1,"p-2"],[1,"text-xs","text-gray-400"],[1,"text-gray-500","text-xs"],[1,"p-2","text-[#00FF41]"],[1,"p-2",3,"ngSwitch"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-400","transition-transform","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","bg-[#0A0A0A]",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-green-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"spinner","spinner-sm"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4c0-1.105.448-2.09 1.172-2.828M12 18v.01"],[1,"bg-[#0A0A0A]"],["colspan","6",1,"p-2"],[1,"p-2","bg-[#0A0A0A]","rounded-md","mt-1"],[1,"text-gray-400","text-xs","mb-2"],[1,"w-full","text-left"],[1,"text-gray-300"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"text-center","p-8","text-[#666]"],[1,"text-xs","mt-2"],[1,"p-8"]],template:function(t,r){if(t&1&&(I(0,"div",2)(1,"div",3),Z(2,"div",4),re(3,Z8,17,5,"ng-container",5),ht(4,"async"),re(5,X8,2,0,"ng-template",null,0,hn),b()()),t&2){let i=Wt(6);k(3),B("ngIf",Tn(4,2,r.shortlist$))("ngIfElse",i)}},dependencies:[be,rn,Ct,ct,ku,_E,EE,_c,is,Ou,yc],styles:[".spinner[_ngcontent-%COMP%]{border:2px solid rgba(243,243,243,.1882352941);border-top:2px solid #orange;border-radius:50%;width:16px;height:16px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.spinner-sm[_ngcontent-%COMP%]{width:12px;height:12px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.highlight-tranche[_ngcontent-%COMP%]{background-color:#00ff4120}tr.prediction-won[_ngcontent-%COMP%]{background-color:#03dac61a}tr.prediction-won[_ngcontent-%COMP%]:hover{background-color:#03dac626}tr.prediction-lost[_ngcontent-%COMP%]{background-color:#cf66791a}tr.prediction-lost[_ngcontent-%COMP%]:hover{background-color:#cf667926}"]})};function eq(n,e){n&1&&(I(0,"div"),Z(1,"app-loader"),b())}function tq(n,e){if(n&1&&(I(0,"div",6),ke(),I(1,"svg",7),Z(2,"path",8)(3,"line",9)(4,"line",10),b(),Ye(),I(5,"h3",11),N(6),b(),I(7,"p",12),N(8),b()()),n&2){let t=ie();k(6),Ee(t.error.title),k(2),Ee(t.error.message)}}function nq(n,e){if(n&1&&(I(0,"div"),Z(1,"app-tickets-list",21),b()),n&2){let t=ie(2);k(),B("ticketsData",t.ticketsData)("selectedDayOffset",t.selectedDayOffset)}}function rq(n,e){n&1&&Z(0,"app-empty-state",22)}function iq(n,e){if(n&1){let t=Et();I(0,"div")(1,"div",13)(2,"div",14)(3,"div")(4,"div",15),N(5," FIABILIT\xC9 DU SIGNAL (7J) "),b(),I(6,"div",16),N(7),b()(),I(8,"button",17),De("click",function(){He(t);let i=ie();return ze(i.openRawData())}),I(9,"span"),N(10,"<>"),b(),I(11,"span"),N(12,"VOIR LE FLUX COMPLET"),b()()()(),I(13,"h2",18)(14,"span",19),N(15,"[MATRICE]"),b(),I(16,"span"),N(17,"LE PROGRAMME DU JOUR"),b()(),re(18,nq,2,2,"div",20)(19,rq,1,0,"ng-template",null,0,hn),b()}if(n&2){let t=Wt(20),r=ie();k(7),ge(" ",r.sevenDayRate,"% "),k(11),B("ngIf",r.objectKeys(r.ticketsData).length>0)("ngIfElse",t)}}function oq(n,e){if(n&1){let t=Et();I(0,"app-raw-data-flow",23),De("close",function(){He(t);let i=ie();return ze(i.closeRawData())}),b()}if(n&2){let t=ie();B("selectedDayOffset",t.selectedDayOffset)}}var ug=class n{ticketsData={};isLoading=!0;error=null;selectedDayOffset=0;sevenDayRate=0;historicalTickets=[];showRawData=!1;apiService=x(To);objectKeys=Object.keys;ngOnInit(){this.loadDataForDate(this.getDateFromOffset(this.selectedDayOffset))}openRawData(){this.showRawData=!0}closeRawData(){this.showRawData=!1}loadDataForDate(e){console.log(`[Dashboard] Chargement des donn\xE9es pour la date : ${e}`),this.isLoading=!0,this.error=null,this.ticketsData={},this.apiService.getTickets(e).pipe(zn(t=>(t.status!==404&&(console.error("Erreur API (Tickets):",t),this.error||(this.error={title:"Signal Interrompu",message:"Impossible de mat\xE9rialiser les tickets. Le signal vers le Mainframe est perdu."})),K([]))),dt(()=>{this.error&&(this.isLoading=!1)})).subscribe(t=>{if(t&&t.length>0){let r={};(t||[]).forEach(i=>{r[i.title]||(r[i.title]=[]),r[i.title].push(i)}),this.ticketsData={[e]:r}}else this.ticketsData={};this.isLoading=!1})}handleDaySelect(e){this.selectedDayOffset=e,this.loadDataForDate(this.getDateFromOffset(e))}getDateFromOffset(e){let t=new Date;return t.setDate(t.getDate()+e),t.toISOString().split("T")[0]}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-dashboard"]],decls:7,vars:5,consts:[["noTickets",""],[1,"container","mx-auto","p-4"],[3,"selectDay","selectedDayOffset"],[4,"ngIf"],["class","w-full bg-[#0A0A0A] border border-[#FF0000] rounded-lg p-8 text-center flex flex-col items-center font-mono mt-8",4,"ngIf"],[3,"selectedDayOffset","close",4,"ngIf"],[1,"w-full","bg-[#0A0A0A]","border","border-[#FF0000]","rounded-lg","p-8","text-center","flex","flex-col","items-center","font-mono","mt-8"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round",1,"text-[#FF0000]","mb-4"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"text-2xl","font-bold","text-[#FF0000]","mb-2"],[1,"text-[#E0E0E0]","max-w-md","mx-auto"],[1,"mb-6","p-4","bg-[#0A0A0A]","border","border-[#222]","rounded-lg","relative","overflow-hidden"],[1,"relative","z-10","flex","items-center","justify-between"],[1,"text-xs","text-[#888]","mb-1","font-mono"],[1,"text-2xl","font-bold","font-mono","text-[#00FF41]"],[1,"neon-purple-btn","text-xs","font-mono","px-3","py-1","rounded","flex","items-center","gap-1","transition-colors",3,"click"],[1,"text-xl","font-bold","text-[#00FF41]","mb-4","flex","items-center","gap-2"],[1,"text-xs","font-mono","text-[#666]"],[4,"ngIf","ngIfElse"],[3,"ticketsData","selectedDayOffset"],["title","Aucun Ticket Trouv\xE9","message","Aucun ticket n'a \xE9t\xE9 g\xE9n\xE9r\xE9 pour cette date. Le silence de la Matrice est parfois un pr\xE9sage."],[3,"close","selectedDayOffset"]],template:function(t,r){t&1&&(I(0,"div",1)(1,"app-day-selector",2),De("selectDay",function(o){return r.handleDaySelect(o)}),b(),Z(2,"app-architects-simulator"),re(3,eq,2,0,"div",3)(4,tq,9,2,"div",4)(5,iq,21,3,"div",3),b(),re(6,oq,1,1,"app-raw-data-flow",5)),t&2&&(k(),B("selectedDayOffset",r.selectedDayOffset),k(2),B("ngIf",r.isLoading),k(),B("ngIf",r.error),k(),B("ngIf",!r.isLoading&&!r.error),k(),B("ngIf",r.showRawData))},dependencies:[be,ct,ll,tg,rg,ag,vc,cg,_c],encapsulation:2})};var lg=class n{userEmail="neo@oracle.com";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-user-info"]],decls:10,vars:1,consts:[[1,"flex","items-center","gap-2","mb-2"],[1,"text-sm","text-[#888]"],[1,"flex","items-center","gap-2","p-3","bg-[#0A0A0A]","rounded","border","border-[#222]"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-[#666]"],["cx","12","cy","12","r","4"],["d","M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"],[1,"font-mono"]],template:function(t,r){t&1&&(zt(0,"div")(1,"div",0)(2,"span",1),N(3,"Adresse email"),bn()(),zt(4,"div",2),ke(),zt(5,"svg",3),ii(6,"circle",4)(7,"path",5),bn(),Ye(),zt(8,"span",6),N(9),bn()()()),t&2&&(k(9),Ee(r.userEmail))},dependencies:[be],encapsulation:2})};var dg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-change-password"]],decls:12,vars:0,consts:[[1,"mb-4"],["for","new-password",1,"block","text-sm","text-[#888]","mb-2"],[1,"relative"],["type","password","id","new-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","bg-[#0A0A0A]","border","border-[#222]","rounded","p-3","font-mono","text-[#E0E0E0]","focus:outline-none","focus:border-[#00FF41]"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-[#666]"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],[1,"px-4","py-2","bg-[#00FF41]","text-black","font-bold","rounded","hover:bg-opacity-90","transition-colors"]],template:function(t,r){t&1&&(zt(0,"div")(1,"div",0)(2,"label",1),N(3," Nouveau mot de passe "),bn(),zt(4,"div",2),ii(5,"input",3),zt(6,"div",4),ke(),zt(7,"svg",5),ii(8,"rect",6)(9,"path",7),bn()()()(),Ye(),zt(10,"button",8),N(11," Mettre \xE0 jour "),bn()())},dependencies:[be],encapsulation:2})};function sq(n,e){if(n&1&&(I(0,"div",10)(1,"div")(2,"div",11),N(3),b(),I(4,"div",12),N(5),b()(),I(6,"button",13),ke(),I(7,"svg",14),Z(8,"path",15)(9,"polyline",16)(10,"line",17),b(),Ye(),I(11,"span",18),N(12,"T\xE9l\xE9charger"),b()()()),n&2){let t=e.$implicit;k(3),ge("Facture - ",t.date),k(2),Ee(t.amount)}}function aq(n,e){if(n&1&&(I(0,"div")(1,"h3",4),N(2,"Historique des factures"),b(),I(3,"div",5),re(4,sq,13,2,"div",6),b(),I(5,"div",7)(6,"div",8)(7,"button",9),N(8," Annuler l'abonnement "),b()()()()),n&2){let t=ie();k(4),B("ngForOf",t.mockInvoices)}}function cq(n,e){n&1&&(I(0,"div",19),ke(),I(1,"svg",20),Z(2,"polygon",21),b(),Ye(),I(3,"h3",22),N(4," Passez \xE0 la vitesse sup\xE9rieure "),b(),I(5,"p",23),N(6," Acc\xE9dez aux pr\xE9dictions futures et d\xE9bloquez tout le potentiel de l'Oracle. "),b(),I(7,"button",24),N(8," Passer Premium "),b()())}var hg=class n{isPremium=!1;mockInvoices=[{id:1,date:"Ao\xFBt 2023",amount:"9.99\u20AC"},{id:2,date:"Juillet 2023",amount:"9.99\u20AC"},{id:3,date:"Juin 2023",amount:"9.99\u20AC"}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-subscription-manager"]],inputs:{isPremium:"isPremium"},decls:7,vars:4,consts:[["freeUserView",""],[1,"inline-block","px-3","py-1","rounded-full","mb-6",3,"ngClass"],[1,"font-mono","text-sm"],[4,"ngIf","ngIfElse"],[1,"text-lg","font-bold","mb-3"],[1,"space-y-2"],["class","flex justify-between items-center p-3 bg-[#0A0A0A] rounded border border-[#222]",4,"ngFor","ngForOf"],[1,"mt-6","p-4","border","border-[#333]","border-dashed","rounded","bg-[#0F0F0F]"],[1,"text-center"],[1,"px-4","py-2","bg-[#333]","text-[#E0E0E0]","rounded","hover:bg-[#444]","transition-colors"],[1,"flex","justify-between","items-center","p-3","bg-[#0A0A0A]","rounded","border","border-[#222]"],[1,"font-medium"],[1,"text-sm","text-[#888]"],[1,"flex","items-center","gap-1","px-3","py-1","bg-[#222]","hover:bg-[#333]","rounded","transition-colors"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[1,"text-sm"],[1,"p-6","border","border-[#333]","border-dashed","rounded","bg-[#0F0F0F]","text-center"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-[#00FF41]","mx-auto","mb-3"],["points","13 2 3 14 12 14 11 22 21 10 12 10 13 2"],[1,"text-xl","font-bold","mb-2"],[1,"mb-4","text-[#888]"],[1,"px-6","py-3","bg-[#00FF41]","text-black","font-bold","rounded","hover:bg-opacity-90","transition-colors"]],template:function(t,r){if(t&1&&(I(0,"div")(1,"div",1)(2,"span",2),N(3),b()(),re(4,aq,9,1,"div",3)(5,cq,9,0,"ng-template",null,0,hn),b()),t&2){let i=Wt(6);k(),B("ngClass",r.isPremium?"bg-[#0A2A0A] text-[#00FF41]":"bg-[#1A1A1A] text-[#888]"),k(2),ge(" Abonnement: ",r.isPremium?"Premium":"Gratuit"," "),k(),B("ngIf",r.isPremium)("ngIfElse",i)}},dependencies:[be,rn,Ct,ct],encapsulation:2})};var fg=class n{isPremium=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-profile-page"]],inputs:{isPremium:"isPremium"},decls:30,vars:1,consts:[[1,"container","mx-auto","p-4","max-w-3xl"],[1,"flex","items-center","mb-6"],["routerLink","/",1,"p-2","rounded-full","hover:bg-[#222]","transition-colors","mr-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","19","y1","12","x2","5","y2","12"],["points","12 19 5 12 12 5"],[1,"text-2xl","font-bold","text-[#00FF41]"],[1,"space-y-8"],[1,"bg-[#121212]","border","border-[#222]","rounded-lg","p-6"],[1,"text-xl","font-bold","mb-4","flex","items-center","gap-2"],[1,"text-xs","font-mono","text-[#666]"],[3,"isPremium"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"div",1)(2,"a",2),ke(),I(3,"svg",3),Z(4,"line",4)(5,"polyline",5),b()(),Ye(),I(6,"h1",6),N(7,"Mon Profil"),b()(),I(8,"div",7)(9,"section",8)(10,"h2",9)(11,"span",10),N(12,"[SYSTEM]"),b(),I(13,"span"),N(14,"Informations"),b()(),Z(15,"app-user-info"),b(),I(16,"section",8)(17,"h2",9)(18,"span",10),N(19,"[SECURE]"),b(),I(20,"span"),N(21,"S\xE9curit\xE9"),b()(),Z(22,"app-change-password"),b(),I(23,"section",8)(24,"h2",9)(25,"span",10),N(26,"[ACCESS]"),b(),I(27,"span"),N(28,"Abonnement & Facturation"),b()(),Z(29,"app-subscription-manager",11),b()()()),t&2&&(k(29),B("isPremium",r.isPremium))},dependencies:[be,ll,Ap,lg,dg,hg],encapsulation:2})};var hk=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ae(ni),ae(wn))};static \u0275dir=Je({type:n})}return n})(),uq=(()=>{class n extends hk{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ts(n)))(i||n)}})();static \u0275dir=Je({type:n,features:[wr]})}return n})(),fk=new H("");var lq={provide:fk,useExisting:Yr(()=>wg),multi:!0};function dq(){let n=Fn()?Fn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var hq=new H(""),wg=(()=>{class n extends hk{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!dq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ae(ni),ae(wn),ae(hq,8))};static \u0275dir=Je({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&De("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[_a([lq]),wr]})}return n})();function fq(n){return n==null||pq(n)===0}function pq(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Gb=new H(""),pk=new H("");function mq(n){return fq(n.value)?{required:!0}:null}function ik(n){return null}function mk(n){return n!=null}function gk(n){return ri(n)?Le(n):n}function yk(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function vk(n,e){return e.map(t=>t(n))}function gq(n){return!n.validate}function _k(n){return n.map(e=>gq(e)?e:t=>e.validate(t))}function yq(n){if(!n)return null;let e=n.filter(mk);return e.length==0?null:function(t){return yk(vk(t,e))}}function Wb(n){return n!=null?yq(_k(n)):null}function vq(n){if(!n)return null;let e=n.filter(mk);return e.length==0?null:function(t){let r=vk(t,e).map(gk);return vy(r).pipe(J(yk))}}function Kb(n){return n!=null?vq(_k(n)):null}function ok(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _q(n){return n._rawValidators}function Eq(n){return n._rawAsyncValidators}function Hb(n){return n?Array.isArray(n)?n:[n]:[]}function mg(n,e){return Array.isArray(n)?n.includes(e):n===e}function sk(n,e){let t=Hb(e);return Hb(n).forEach(i=>{mg(t,i)||t.push(i)}),t}function ak(n,e){return Hb(e).filter(t=>!mg(n,t))}var gg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Wb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Kb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ic=class extends gg{name;get formDirective(){return null}get path(){return null}},ad=class extends gg{_parent=null;name=null;valueAccessor=null},yg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},wq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Cfe=ee(F({},wq),{"[class.ng-submitted]":"isSubmitted"}),Ek=(()=>{class n extends yg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ae(ad,2))};static \u0275dir=Je({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ir("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[wr]})}return n})(),wk=(()=>{class n extends yg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ae(Ic,10))};static \u0275dir=Je({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ir("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[wr]})}return n})();var nd="VALID",pg="INVALID",Ec="PENDING",rd="DISABLED",Do=class{},vg=class extends Do{value;source;constructor(e,t){super(),this.value=e,this.source=t}},od=class extends Do{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},sd=class extends Do{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},wc=class extends Do{status;source;constructor(e,t){super(),this.status=e,this.source=t}},zb=class extends Do{source;constructor(e){super(),this.source=e}},qb=class extends Do{source;constructor(e){super(),this.source=e}};function Ik(n){return(Ig(n)?n.validators:n)||null}function Iq(n){return Array.isArray(n)?Wb(n):n||null}function bk(n,e){return(Ig(e)?e.asyncValidators:n)||null}function bq(n){return Array.isArray(n)?Kb(n):n||null}function Ig(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Tq(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[t])throw new U(1001,"")}function Dq(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new U(1002,"")})}var _g=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ft(this.statusReactive)}set status(e){ft(()=>this.statusReactive.set(e))}_status=wa(()=>this.statusReactive());statusReactive=ln(void 0);get valid(){return this.status===nd}get invalid(){return this.status===pg}get pending(){return this.status==Ec}get disabled(){return this.status===rd}get enabled(){return this.status!==rd}errors;get pristine(){return ft(this.pristineReactive)}set pristine(e){ft(()=>this.pristineReactive.set(e))}_pristine=wa(()=>this.pristineReactive());pristineReactive=ln(!0);get dirty(){return!this.pristine}get touched(){return ft(this.touchedReactive)}set touched(e){ft(()=>this.touchedReactive.set(e))}_touched=wa(()=>this.touchedReactive());touchedReactive=ln(!1);get untouched(){return!this.touched}_events=new st;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ak(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ak(e,this._rawAsyncValidators))}hasValidator(e){return mg(this._rawValidators,e)}hasAsyncValidator(e){return mg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new sd(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new sd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new od(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new od(!0,r))}markAsPending(e={}){this.status=Ec;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=rd,this.errors=null,this._forEachChild(i=>{i.disable(ee(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vg(this.value,r)),this._events.next(new wc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=nd,this._forEachChild(r=>{r.enable(ee(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nd||this.status===Ec)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vg(this.value,t)),this._events.next(new wc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rd:nd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ec,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=gk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new wc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?rd:this.errors?pg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ec)?Ec:this._anyControlsHaveStatus(pg)?pg:nd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new od(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new sd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ig(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Iq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=bq(this._rawAsyncValidators)}},Eg=class extends _g{constructor(e,t,r){super(Ik(t),bk(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Dq(this,!0,e),Object.keys(e).forEach(r=>{Tq(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Qb=new H("",{providedIn:"root",factory:()=>Yb}),Yb="always";function Cq(n,e){return[...e.path,n]}function Tk(n,e,t=Yb){Dk(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Aq(n,e),Nq(n,e),Rq(n,e),Sq(n,e)}function ck(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Sq(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Dk(n,e){let t=_q(n);e.validator!==null?n.setValidators(ok(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Eq(n);e.asyncValidator!==null?n.setAsyncValidators(ok(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();ck(e._rawValidators,i),ck(e._rawAsyncValidators,i)}function Aq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Ck(n,e)})}function Rq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Ck(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Ck(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Nq(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function xq(n,e){n==null,Dk(n,e)}function Mq(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Pq(n){return Object.getPrototypeOf(n.constructor)===uq}function kq(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Oq(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===wg?t=o:Pq(o)?r=o:i=o}),i||r||t||null}var Fq={provide:Ic,useExisting:Yr(()=>Jb)},id=Promise.resolve(),Jb=(()=>{class n extends Ic{callSetDisabledState;get submitted(){return ft(this.submittedReactive)}_submitted=wa(()=>this.submittedReactive());submittedReactive=ln(!1);_directives=new Set;form;ngSubmit=new Oe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Eg({},Wb(t),Kb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){id.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Tk(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){id.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){id.then(()=>{let r=this._findContainer(t.path),i=new Eg({});xq(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){id.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){id.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),kq(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new zb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new qb(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(ae(Gb,10),ae(pk,10),ae(Qb,8))};static \u0275dir=Je({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&De("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[_a([Fq]),wr]})}return n})();function uk(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lk(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Lq=class extends _g{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Ik(t),bk(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ig(t)&&(t.nonNullable||t.initialValueIsDefault)&&(lk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){lk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Vq={provide:ad,useExisting:Yr(()=>Zb)},dk=Promise.resolve(),Zb=(()=>{class n extends ad{_changeDetectorRef;callSetDisabledState;control=new Lq;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Oe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Oq(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Mq(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Tk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){dk.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&zi(r);dk.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Cq(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ae(Ic,9),ae(Gb,10),ae(pk,10),ae(fk,10),ae(Hi,8),ae(Qb,8))};static \u0275dir=Je({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[_a([Vq]),wr,ti]})}return n})();var Sk=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Je({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var jq=(()=>{class n{_validator=ik;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ik,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Je({type:n,features:[ti]})}return n})();var Uq={provide:Gb,useExisting:Yr(()=>Xb),multi:!0};var Xb=(()=>{class n extends jq{required;inputName="required";normalizeInput=zi;createValidator=t=>mq;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ts(n)))(i||n)}})();static \u0275dir=Je({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&va("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[_a([Uq]),wr]})}return n})();var Bq=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jn({type:n});static \u0275inj=Nn({})}return n})();var Ak=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Qb,useValue:t.callSetDisabledState??Yb}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jn({type:n});static \u0275inj=Nn({imports:[Bq]})}return n})();var bg=class n{auth=x(sr);user$=im(this.auth);register({email:e,password:t}){return DM(this.auth,e,t)}login({email:e,password:t}){return AM(this.auth,e,t)}logout(){return RM(this.auth)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function Hq(n,e){if(n&1&&(I(0,"div",15),N(1),b()),n&2){let t=ie();k(),ge(" ",t.error," ")}}var Tg=class n{email="";password="";isLoading=!1;error=null;authService=x(bg);router=x(jn);handleRegister(){return _(this,null,function*(){this.isLoading=!0,this.error=null;try{yield this.authService.register({email:this.email,password:this.password}),this.router.navigate(["/"])}catch(e){this.error=this.getFirebaseErrorMessage(e.code)}this.isLoading=!1})}handleLogin(){return _(this,null,function*(){this.isLoading=!0,this.error=null;try{yield this.authService.login({email:this.email,password:this.password}),this.router.navigate(["/"])}catch(e){this.error=this.getFirebaseErrorMessage(e.code)}this.isLoading=!1})}getFirebaseErrorMessage(e){switch(e){case"auth/invalid-email":return"Adresse email invalide.";case"auth/user-not-found":case"auth/wrong-password":return"Email ou mot de passe incorrect.";case"auth/email-already-in-use":return"Cette adresse email est d\xE9j\xE0 utilis\xE9e.";case"auth/weak-password":return"Le mot de passe doit contenir au moins 6 caract\xE8res.";default:return"Une erreur est survenue. Veuillez r\xE9essayer."}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-login-page"]],decls:23,vars:7,consts:[["loginForm","ngForm"],[1,"flex","items-center","justify-center","min-h-screen","bg-[#0A0A0A]"],[1,"max-w-md","w-full","bg-[#121212]","border","border-[#222]","rounded-lg","p-8","space-y-6"],[1,"text-center"],[1,"text-3xl","font-bold","text-[#00FF41]"],[1,"text-[#888]","mt-2"],[1,"space-y-6",3,"ngSubmit"],["for","email",1,"block","text-sm","text-[#888]","mb-2"],["type","email","id","email","name","email","required","","placeholder","neo@oracle.com",1,"w-full","bg-[#0A0A0A]","border","border-[#222]","rounded","p-3","font-mono","text-[#E0E0E0]","focus:outline-none","focus:border-[#00FF41]",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","text-[#888]","mb-2"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","bg-[#0A0A0A]","border","border-[#222]","rounded","p-3","font-mono","text-[#E0E0E0]","focus:outline-none","focus:border-[#00FF41]",3,"ngModelChange","ngModel"],["class","text-center p-3 bg-[#2A0A0A] text-red-500 border border-red-500 rounded-md",4,"ngIf"],[1,"flex","flex-col","gap-4"],["type","submit",1,"w-full","py-3","bg-[#00FF41]","text-black","font-bold","rounded","hover:bg-opacity-90","transition-colors","disabled:bg-opacity-50","disabled:cursor-not-allowed",3,"disabled"],["type","button",1,"w-full","py-3","bg-transparent","border","border-[#333]","text-[#CCC]","rounded","hover:bg-[#1A1A1A]","transition-colors","disabled:bg-opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"text-center","p-3","bg-[#2A0A0A]","text-red-500","border","border-red-500","rounded-md"]],template:function(t,r){if(t&1){let i=Et();I(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),N(4,"The Oracle"),b(),I(5,"p",5),N(6,"Connectez-vous pour acc\xE9der au signal."),b()(),I(7,"form",6,0),De("ngSubmit",function(){return He(i),ze(r.handleLogin())}),I(9,"div")(10,"label",7),N(11,"Email"),b(),I(12,"input",8),Du("ngModelChange",function(s){return He(i),Cf(r.email,s)||(r.email=s),ze(s)}),b()(),I(13,"div")(14,"label",9),N(15,"Mot de passe"),b(),I(16,"input",10),Du("ngModelChange",function(s){return He(i),Cf(r.password,s)||(r.password=s),ze(s)}),b()(),re(17,Hq,2,1,"div",11),I(18,"div",12)(19,"button",13),N(20),b(),I(21,"button",14),De("click",function(){return He(i),ze(r.handleRegister())}),N(22),b()()()()()}if(t&2){let i=Wt(8);k(12),Tu("ngModel",r.email),k(4),Tu("ngModel",r.password),k(),B("ngIf",r.error),k(2),B("disabled",r.isLoading||i.invalid),k(),ge(" ",r.isLoading?"Connexion...":"Se Connecter"," "),k(),B("disabled",r.isLoading||i.invalid),k(),ge(" ",r.isLoading?"Inscription...":"S'inscrire"," ")}},dependencies:[be,ct,Ak,Sk,wg,Ek,wk,Xb,Zb,Jb],encapsulation:2})};var Rk=[{path:"",component:ug},{path:"profile",component:fg},{path:"login",component:Tg}];var Nk=(n,e)=>{let t=x(sr);return im(t).pipe(We(i=>i?Le(i.getIdToken()).pipe(We(o=>{let s=n.clone({setHeaders:{Authorization:`Bearer ${o}`}});return e(s)})):e(n)))};var xk={apiKey:"AIzaSyA5YxEbydvA-dfUU7XSCQr3f-kfiPEPgqE",authDomain:"oracle-prediction-firebase.firebaseapp.com",projectId:"oracle-prediction-firebase",storageBucket:"oracle-prediction-firebase.firebasestorage.app",messagingSenderId:"598567861145",appId:"1:598567861145:web:4ad609fca34d002777f108"};var Mk={providers:[dw(Rk),FE(LE([Nk])),px(()=>mx(xk)),TM(()=>CM()),ek(()=>nk())]};var Dg=class n{title=ln("frontend-angular");auth=x(sr);ngOnInit(){SM(this.auth).then(()=>{console.log("Connexion anonyme r\xE9ussie.")}).catch(e=>{console.error("Erreur de connexion anonyme:",e)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_e({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"construction-banner"],[1,"banner-text"],[1,"blinking-cursor"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"p",1),N(2," [SYSTEM_ALERT] SITE EN COURS DE CONSTRUCTION // ACC\xC8S ANTICIP\xC9 GRATUIT // OFFRE DE LANCEMENT \xC0 VENIR : 30\u20AC/MOIS "),I(3,"span",2),N(4,"|"),b()()(),Z(5,"router-outlet"))},dependencies:[be,ol],styles:[".construction-banner[_ngcontent-%COMP%]{background-color:#0a0a0a;border-bottom:1px solid #00FF41;padding:.75rem 1rem;text-align:center;font-family:Courier New,Courier,monospace}.banner-text[_ngcontent-%COMP%]{color:#00ff41;font-size:.9rem;text-transform:uppercase;margin:0}.blinking-cursor[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 1s step-end infinite}@keyframes _ngcontent-%COMP%_blink{0%,to{opacity:1}50%{opacity:0}}"]})};xE(Dg,Mk).catch(n=>console.error(n));
